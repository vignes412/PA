import{b as gs,a as _a,h as vs,j as l,c as z,B as he,r as m,l as ye,m as ys,R as G,S as ba,e as xs,i as wa,n as ka,o as Ca,u as ja}from"./pwa-components-VU4Qx4K-.js";import{c as ce,u as Sa,S as Na,M as Ta,C as Aa,d as Ra,t as Ea}from"./index-C3o9D1dU.js";import{A as _s,a as bs,h as Bt,c as Ut,i as ft,b as nt,P as pe,d as J,j as ws,k as ks,R as Cs,l as js,F as Ss,D as kr,m as Da,n as Pa,u as Oa,g as Ns,o as Ma,p as Ia,q as Wt,r as Ts,s as Cr,t as As,v as Va,w as Rs,C as Yr}from"./index-C7t_iceq.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],La=ce("bell",Fa);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=[["path",{d:"M12 17h1.5",key:"1gkc67"}],["path",{d:"M12 22h1.5",key:"1my7sn"}],["path",{d:"M12 2h1.5",key:"19tvb7"}],["path",{d:"M17.5 22H19a1 1 0 0 0 1-1",key:"10akbh"}],["path",{d:"M17.5 2H19a1 1 0 0 1 1 1v1.5",key:"1vrfjs"}],["path",{d:"M20 14v3h-2.5",key:"1naeju"}],["path",{d:"M20 8.5V10",key:"1ctpfu"}],["path",{d:"M4 10V8.5",key:"1o3zg5"}],["path",{d:"M4 19.5V14",key:"ob81pf"}],["path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H8",key:"s8vcyb"}],["path",{d:"M8 22H6.5a1 1 0 0 1 0-5H8",key:"1cu73q"}]],Es=ce("book-dashed",$a);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],za=ce("calendar-clock",Za);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ds=ce("chart-column",Ba);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Wa=ce("chevron-left",Ua);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ga=ce("chevron-right",Ha);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],Ps=ce("dumbbell",qa);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Os=ce("house",Ka);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ms=ce("log-out",Ya);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Ja=ce("menu",Xa);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Is=ce("plus",Qa);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],to=ce("refresh-cw",eo);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vs=ce("settings",ro);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],no=ce("user",so);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fs=ce("x",ao);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],io=ce("zap",oo),lo=[{view:"dashboard",label:"Dashboard",icon:Os},{view:"workouts",label:"Workouts",icon:Ps},{view:"templates",label:"Templates",icon:Es},{view:"muscleFatigue",label:"Muscle Fatigue",icon:_s},{view:"schedule",label:"Schedule",icon:za},{view:"stats",label:"Statistics",icon:Ds},{view:"profile",label:"Profile",icon:no},{view:"settings",label:"Settings",icon:Vs}];function Xr({className:t,isCollapsed:e,toggleSidebar:r}){const{setCurrentView:s,currentView:n}=gs(),{logout:a}=_a(),{activeWorkout:o}=vs(),i=[...lo];return o&&i.splice(1,0,{view:"workout",label:"Active Workout",icon:bs}),l.jsxs("div",{className:z("relative h-full bg-background text-card-foreground border-r border-r-border/40 transition-all duration-base backdrop-blur-md flex flex-col",e?"w-[var(--sidebar-collapsed-width,80px)]":"w-[var(--sidebar-width,280px)]",t),children:[l.jsxs("div",{className:z("flex h-[var(--header-height,64px)] items-center border-b border-b-border/40 px-3 sm:px-4 sticky top-0 z-20 bg-background/70 backdrop-blur-md",e?"justify-center":"justify-between"),children:[!e&&l.jsx("h1",{className:"text-lg font-semibold tracking-tight overflow-hidden text-ellipsis whitespace-nowrap bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Workout Log"}),l.jsxs(he,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full hover:bg-primary/10 hover:text-primary transition-button duration-base",children:[e?l.jsx(Ga,{className:"h-4 w-4"}):l.jsx(Wa,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:e?"Expand sidebar":"Collapse sidebar"})]})]}),"      ",l.jsx("nav",{className:"flex-1 overflow-y-auto py-4 sm:py-6 px-2 sm:px-4 space-y-1 sm:space-y-2",children:i.map(d=>l.jsxs(he,{variant:"ghost",onClick:()=>s(d.view),className:z("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-all duration-base w-full justify-start","hover:bg-primary/10 hover:text-primary",n===d.view?"bg-primary/15 text-primary font-medium shadow-sm":"text-muted-foreground",e&&"justify-center h-11 w-11 p-0"),title:e?d.label:void 0,children:[l.jsx(d.icon,{className:z("h-5 w-5 shrink-0",e?"m-0":"")}),!e&&l.jsx("span",{className:"transition-opacity duration-base whitespace-nowrap overflow-hidden text-ellipsis",children:d.label}),e&&l.jsx("span",{className:"sr-only",children:d.label})]},d.label))}),l.jsx("div",{className:z("border-t border-t-border/40 p-3 sm:p-4 mt-auto sticky bottom-0 bg-background/70 backdrop-blur-md",e?"px-2":"px-4"),children:l.jsxs(he,{variant:e?"ghost":"outline",size:e?"icon":"default",className:z("transition-all duration-base w-full",e?"h-10 w-10 p-0 rounded-full hover:bg-destructive/10 hover:text-destructive border-destructive/20":"justify-start gap-2 shadow-sm hover:shadow-md rounded-lg hover:bg-destructive/10 hover:text-destructive border-destructive/30 text-destructive-foreground"),onClick:a,title:e?"Sign Out":void 0,children:[l.jsx(Ms,{className:z("h-4 w-4 shrink-0",e?"":"mr-2")}),!e&&l.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:"Sign Out"}),e&&l.jsx("span",{className:"sr-only",children:"Sign Out"})]})})]})}var Ht="Dialog",[Ls,Ql]=Ut(Ht),[co,ke]=Ls(Ht),$s=t=>{const{__scopeDialog:e,children:r,open:s,defaultOpen:n,onOpenChange:a,modal:o=!0}=t,i=m.useRef(null),d=m.useRef(null),[u,h]=Bt({prop:s,defaultProp:n??!1,onChange:a,caller:Ht});return l.jsx(co,{scope:e,triggerRef:i,contentRef:d,contentId:ft(),titleId:ft(),descriptionId:ft(),open:u,onOpenChange:h,onOpenToggle:m.useCallback(()=>h(v=>!v),[h]),modal:o,children:r})};$s.displayName=Ht;var Zs="DialogTrigger",zs=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=ke(Zs,r),a=ye(e,n.triggerRef);return l.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Nr(n.open),...s,ref:a,onClick:J(t.onClick,n.onOpenToggle)})});zs.displayName=Zs;var jr="DialogPortal",[uo,Bs]=Ls(jr,{forceMount:void 0}),Us=t=>{const{__scopeDialog:e,forceMount:r,children:s,container:n}=t,a=ke(jr,e);return l.jsx(uo,{scope:e,forceMount:r,children:m.Children.map(s,o=>l.jsx(nt,{present:r||a.open,children:l.jsx(ws,{asChild:!0,container:n,children:o})}))})};Us.displayName=jr;var Ct="DialogOverlay",Ws=m.forwardRef((t,e)=>{const r=Bs(Ct,t.__scopeDialog),{forceMount:s=r.forceMount,...n}=t,a=ke(Ct,t.__scopeDialog);return a.modal?l.jsx(nt,{present:s||a.open,children:l.jsx(ho,{...n,ref:e})}):null});Ws.displayName=Ct;var fo=ys("DialogOverlay.RemoveScroll"),ho=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=ke(Ct,r);return l.jsx(Cs,{as:fo,allowPinchZoom:!0,shards:[n.contentRef],children:l.jsx(pe.div,{"data-state":Nr(n.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Ue="DialogContent",Hs=m.forwardRef((t,e)=>{const r=Bs(Ue,t.__scopeDialog),{forceMount:s=r.forceMount,...n}=t,a=ke(Ue,t.__scopeDialog);return l.jsx(nt,{present:s||a.open,children:a.modal?l.jsx(mo,{...n,ref:e}):l.jsx(po,{...n,ref:e})})});Hs.displayName=Ue;var mo=m.forwardRef((t,e)=>{const r=ke(Ue,t.__scopeDialog),s=m.useRef(null),n=ye(e,r.contentRef,s);return m.useEffect(()=>{const a=s.current;if(a)return ks(a)},[]),l.jsx(Gs,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=r.triggerRef.current)==null||o.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,i=o.button===0&&o.ctrlKey===!0;(o.button===2||i)&&a.preventDefault()}),onFocusOutside:J(t.onFocusOutside,a=>a.preventDefault())})}),po=m.forwardRef((t,e)=>{const r=ke(Ue,t.__scopeDialog),s=m.useRef(!1),n=m.useRef(!1);return l.jsx(Gs,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,i;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:a=>{var d,u;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),Gs=m.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:a,...o}=t,i=ke(Ue,r),d=m.useRef(null),u=ye(e,d);return js(),l.jsxs(l.Fragment,{children:[l.jsx(Ss,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:a,children:l.jsx(kr,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Nr(i.open),...o,ref:u,onDismiss:()=>i.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(go,{titleId:i.titleId}),l.jsx(yo,{contentRef:d,descriptionId:i.descriptionId})]})]})}),Sr="DialogTitle",qs=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=ke(Sr,r);return l.jsx(pe.h2,{id:n.titleId,...s,ref:e})});qs.displayName=Sr;var Ks="DialogDescription",Ys=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=ke(Ks,r);return l.jsx(pe.p,{id:n.descriptionId,...s,ref:e})});Ys.displayName=Ks;var Xs="DialogClose",Js=m.forwardRef((t,e)=>{const{__scopeDialog:r,...s}=t,n=ke(Xs,r);return l.jsx(pe.button,{type:"button",...s,ref:e,onClick:J(t.onClick,()=>n.onOpenChange(!1))})});Js.displayName=Xs;function Nr(t){return t?"open":"closed"}var Qs="DialogTitleWarning",[ec,en]=Da(Qs,{contentName:Ue,titleName:Sr,docsSlug:"dialog"}),go=({titleId:t})=>{const e=en(Qs),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return m.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},vo="DialogDescriptionWarning",yo=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${en(vo).contentName}}.`;return m.useEffect(()=>{var a;const n=(a=t.current)==null?void 0:a.getAttribute("aria-describedby");e&&n&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},tn=$s,xo=zs,rn=Us,sn=Ws,nn=Hs,_o=qs,bo=Ys,an=Js;function wo({...t}){return l.jsx(tn,{"data-slot":"sheet",...t})}function ko({...t}){return l.jsx(xo,{"data-slot":"sheet-trigger",...t})}function Co({...t}){return l.jsx(rn,{"data-slot":"sheet-portal",...t})}function jo({className:t,...e}){return l.jsx(sn,{"data-slot":"sheet-overlay",className:z("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function So({className:t,children:e,side:r="right",...s}){return l.jsxs(Co,{children:[l.jsx(jo,{}),l.jsxs(nn,{"data-slot":"sheet-content",className:z("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...s,children:[e,l.jsxs(an,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[l.jsx(Fs,{className:"size-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function No({...t}){return l.jsx(tn,{"data-slot":"dialog",...t})}function To({...t}){return l.jsx(rn,{"data-slot":"dialog-portal",...t})}function Ao({className:t,...e}){return l.jsx(sn,{"data-slot":"dialog-overlay",className:z("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...e})}function Ro({className:t,children:e,...r}){return l.jsxs(To,{"data-slot":"dialog-portal",children:[l.jsx(Ao,{}),l.jsxs(nn,{"data-slot":"dialog-content",className:z("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...r,children:[e,l.jsxs(an,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[l.jsx(Fs,{}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Eo({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-header",className:z("flex flex-col gap-2 text-center sm:text-left",t),...e})}function Do({className:t,...e}){return l.jsx("div",{"data-slot":"dialog-footer",className:z("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),...e})}function Po({className:t,...e}){return l.jsx(_o,{"data-slot":"dialog-title",className:z("text-lg leading-none font-semibold",t),...e})}function tc({className:t,...e}){return l.jsx(bo,{"data-slot":"dialog-description",className:z("text-muted-foreground text-sm",t),...e})}const Xe=m.forwardRef(({className:t,type:e,...r},s)=>l.jsx("input",{type:e,className:z("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));Xe.displayName="Input";var xt=t=>t.type==="checkbox",Be=t=>t instanceof Date,ue=t=>t==null;const on=t=>typeof t=="object";var ee=t=>!ue(t)&&!Array.isArray(t)&&on(t)&&!Be(t),ln=t=>ee(t)&&t.target?xt(t.target)?t.target.checked:t.target.value:t,Oo=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,cn=(t,e)=>t.has(Oo(e)),Mo=t=>{const e=t.constructor&&t.constructor.prototype;return ee(e)&&e.hasOwnProperty("isPrototypeOf")},Tr=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function oe(t){let e;const r=Array.isArray(t),s=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Tr&&(t instanceof Blob||s))&&(r||ee(t)))if(e=r?[]:{},!r&&!Mo(t))e=t;else for(const n in t)t.hasOwnProperty(n)&&(e[n]=oe(t[n]));else return t;return e}var Gt=t=>Array.isArray(t)?t.filter(Boolean):[],Q=t=>t===void 0,w=(t,e,r)=>{if(!e||!ee(t))return r;const s=Gt(e.split(/[,[\].]+?/)).reduce((n,a)=>ue(n)?n:n[a],t);return Q(s)||s===t?Q(t[e])?r:t[e]:s},ve=t=>typeof t=="boolean",Ar=t=>/^\w*$/.test(t),dn=t=>Gt(t.replace(/["|']|\]/g,"").split(/\.|\[/)),H=(t,e,r)=>{let s=-1;const n=Ar(e)?[e]:dn(e),a=n.length,o=a-1;for(;++s<a;){const i=n[s];let d=r;if(s!==o){const u=t[i];d=ee(u)||Array.isArray(u)?u:isNaN(+n[s+1])?{}:[]}if(i==="__proto__"||i==="constructor"||i==="prototype")return;t[i]=d,t=t[i]}};const jt={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},be={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Te={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},un=G.createContext(null),qt=()=>G.useContext(un),Io=t=>{const{children:e,...r}=t;return G.createElement(un.Provider,{value:r},e)};var fn=(t,e,r,s=!0)=>{const n={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(n,a,{get:()=>{const o=a;return e._proxyFormState[o]!==be.all&&(e._proxyFormState[o]=!s||be.all),r&&(r[o]=!0),t[o]}});return n};const Rr=typeof window<"u"?m.useLayoutEffect:m.useEffect;function hn(t){const e=qt(),{control:r=e.control,disabled:s,name:n,exact:a}=t||{},[o,i]=G.useState(r._formState),d=G.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Rr(()=>r._subscribe({name:n,formState:d.current,exact:a,callback:u=>{!s&&i({...r._formState,...u})}}),[n,s,a]),G.useEffect(()=>{d.current.isValid&&r._setValid(!0)},[r]),G.useMemo(()=>fn(o,r,d.current,!1),[o,r])}var Ce=t=>typeof t=="string",mn=(t,e,r,s,n)=>Ce(t)?(s&&e.watch.add(t),w(r,t,n)):Array.isArray(t)?t.map(a=>(s&&e.watch.add(a),w(r,a))):(s&&(e.watchAll=!0),r);function Vo(t){const e=qt(),{control:r=e.control,name:s,defaultValue:n,disabled:a,exact:o}=t||{},i=G.useRef(n),[d,u]=G.useState(r._getWatch(s,i.current));return Rr(()=>r._subscribe({name:s,formState:{values:!0},exact:o,callback:h=>!a&&u(mn(s,r._names,h.values||r._formValues,!1,i.current))}),[s,r,a,o]),G.useEffect(()=>r._removeUnmounted()),d}function Fo(t){const e=qt(),{name:r,disabled:s,control:n=e.control,shouldUnregister:a}=t,o=cn(n._names.array,r),i=Vo({control:n,name:r,defaultValue:w(n._formValues,r,w(n._defaultValues,r,t.defaultValue)),exact:!0}),d=hn({control:n,name:r,exact:!0}),u=G.useRef(t),h=G.useRef(n.register(r,{...t.rules,value:i,...ve(t.disabled)?{disabled:t.disabled}:{}})),v=G.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!w(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!w(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!w(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!w(d.validatingFields,r)},error:{enumerable:!0,get:()=>w(d.errors,r)}}),[d,r]),g=G.useCallback(D=>h.current.onChange({target:{value:ln(D),name:r},type:jt.CHANGE}),[r]),j=G.useCallback(()=>h.current.onBlur({target:{value:w(n._formValues,r),name:r},type:jt.BLUR}),[r,n._formValues]),P=G.useCallback(D=>{const R=w(n._fields,r);R&&D&&(R._f.ref={focus:()=>D.focus(),select:()=>D.select(),setCustomValidity:k=>D.setCustomValidity(k),reportValidity:()=>D.reportValidity()})},[n._fields,r]),E=G.useMemo(()=>({name:r,value:i,...ve(s)||d.disabled?{disabled:d.disabled||s}:{},onChange:g,onBlur:j,ref:P}),[r,s,d.disabled,g,j,P,i]);return G.useEffect(()=>{const D=n._options.shouldUnregister||a;n.register(r,{...u.current.rules,...ve(u.current.disabled)?{disabled:u.current.disabled}:{}});const R=(k,V)=>{const L=w(n._fields,k);L&&L._f&&(L._f.mount=V)};if(R(r,!0),D){const k=oe(w(n._options.defaultValues,r));H(n._defaultValues,r,k),Q(w(n._formValues,r))&&H(n._formValues,r,k)}return!o&&n.register(r),()=>{(o?D&&!n._state.action:D)?n.unregister(r):R(r,!1)}},[r,n,o,a]),G.useEffect(()=>{n._setDisabledField({disabled:s,name:r})},[s,r,n]),G.useMemo(()=>({field:E,formState:d,fieldState:v}),[E,d,v])}const Lo=t=>t.render(Fo(t));var pn=(t,e,r,s,n)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[s]:n||!0}}:{},ht=t=>Array.isArray(t)?t:[t],Jr=()=>{let t=[];return{get observers(){return t},next:n=>{for(const a of t)a.next&&a.next(n)},subscribe:n=>(t.push(n),{unsubscribe:()=>{t=t.filter(a=>a!==n)}}),unsubscribe:()=>{t=[]}}},cr=t=>ue(t)||!on(t);function Me(t,e){if(cr(t)||cr(e))return t===e;if(Be(t)&&Be(e))return t.getTime()===e.getTime();const r=Object.keys(t),s=Object.keys(e);if(r.length!==s.length)return!1;for(const n of r){const a=t[n];if(!s.includes(n))return!1;if(n!=="ref"){const o=e[n];if(Be(a)&&Be(o)||ee(a)&&ee(o)||Array.isArray(a)&&Array.isArray(o)?!Me(a,o):a!==o)return!1}}return!0}var de=t=>ee(t)&&!Object.keys(t).length,Er=t=>t.type==="file",we=t=>typeof t=="function",St=t=>{if(!Tr)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},gn=t=>t.type==="select-multiple",Dr=t=>t.type==="radio",$o=t=>Dr(t)||xt(t),or=t=>St(t)&&t.isConnected;function Zo(t,e){const r=e.slice(0,-1).length;let s=0;for(;s<r;)t=Q(t)?s++:t[e[s++]];return t}function zo(t){for(const e in t)if(t.hasOwnProperty(e)&&!Q(t[e]))return!1;return!0}function re(t,e){const r=Array.isArray(e)?e:Ar(e)?[e]:dn(e),s=r.length===1?t:Zo(t,r),n=r.length-1,a=r[n];return s&&delete s[a],n!==0&&(ee(s)&&de(s)||Array.isArray(s)&&zo(s))&&re(t,r.slice(0,-1)),t}var vn=t=>{for(const e in t)if(we(t[e]))return!0;return!1};function Nt(t,e={}){const r=Array.isArray(t);if(ee(t)||r)for(const s in t)Array.isArray(t[s])||ee(t[s])&&!vn(t[s])?(e[s]=Array.isArray(t[s])?[]:{},Nt(t[s],e[s])):ue(t[s])||(e[s]=!0);return e}function yn(t,e,r){const s=Array.isArray(t);if(ee(t)||s)for(const n in t)Array.isArray(t[n])||ee(t[n])&&!vn(t[n])?Q(e)||cr(r[n])?r[n]=Array.isArray(t[n])?Nt(t[n],[]):{...Nt(t[n])}:yn(t[n],ue(e)?{}:e[n],r[n]):r[n]=!Me(t[n],e[n]);return r}var it=(t,e)=>yn(t,e,Nt(e));const Qr={value:!1,isValid:!1},es={value:!0,isValid:!0};var xn=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Q(t[0].attributes.value)?Q(t[0].value)||t[0].value===""?es:{value:t[0].value,isValid:!0}:es:Qr}return Qr},_n=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:s})=>Q(t)?t:e?t===""?NaN:t&&+t:r&&Ce(t)?new Date(t):s?s(t):t;const ts={isValid:!1,value:null};var bn=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,ts):ts;function rs(t){const e=t.ref;return Er(e)?e.files:Dr(e)?bn(t.refs).value:gn(e)?[...e.selectedOptions].map(({value:r})=>r):xt(e)?xn(t.refs).value:_n(Q(e.value)?t.ref.value:e.value,t)}var Bo=(t,e,r,s)=>{const n={};for(const a of t){const o=w(e,a);o&&H(n,a,o._f)}return{criteriaMode:r,names:[...t],fields:n,shouldUseNativeValidation:s}},Tt=t=>t instanceof RegExp,lt=t=>Q(t)?t:Tt(t)?t.source:ee(t)?Tt(t.value)?t.value.source:t.value:t,ss=t=>({isOnSubmit:!t||t===be.onSubmit,isOnBlur:t===be.onBlur,isOnChange:t===be.onChange,isOnAll:t===be.all,isOnTouch:t===be.onTouched});const ns="AsyncFunction";var Uo=t=>!!t&&!!t.validate&&!!(we(t.validate)&&t.validate.constructor.name===ns||ee(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===ns)),Wo=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),as=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(s=>t.startsWith(s)&&/^\.\w+/.test(t.slice(s.length))));const mt=(t,e,r,s)=>{for(const n of r||Object.keys(t)){const a=w(t,n);if(a){const{_f:o,...i}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],n)&&!s)return!0;if(o.ref&&e(o.ref,o.name)&&!s)return!0;if(mt(i,e))break}else if(ee(i)&&mt(i,e))break}}};function os(t,e,r){const s=w(t,r);if(s||Ar(r))return{error:s,name:r};const n=r.split(".");for(;n.length;){const a=n.join("."),o=w(e,a),i=w(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(i&&i.type)return{name:a,error:i};n.pop()}return{name:r}}var Ho=(t,e,r,s)=>{r(t);const{name:n,...a}=t;return de(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!s||be.all))},Go=(t,e,r)=>!t||!e||t===e||ht(t).some(s=>s&&(r?s===e:s.startsWith(e)||e.startsWith(s))),qo=(t,e,r,s,n)=>n.isOnAll?!1:!r&&n.isOnTouch?!(e||t):(r?s.isOnBlur:n.isOnBlur)?!t:(r?s.isOnChange:n.isOnChange)?t:!0,Ko=(t,e)=>!Gt(w(t,e)).length&&re(t,e),Yo=(t,e,r)=>{const s=ht(w(t,r));return H(s,"root",e[r]),H(t,r,s),t},kt=t=>Ce(t);function is(t,e,r="validate"){if(kt(t)||Array.isArray(t)&&t.every(kt)||ve(t)&&!t)return{type:r,message:kt(t)?t:"",ref:e}}var Ke=t=>ee(t)&&!Tt(t)?t:{value:t,message:""},ls=async(t,e,r,s,n,a)=>{const{ref:o,refs:i,required:d,maxLength:u,minLength:h,min:v,max:g,pattern:j,validate:P,name:E,valueAsNumber:D,mount:R}=t._f,k=w(r,E);if(!R||e.has(E))return{};const V=i?i[0]:o,L=Z=>{n&&V.reportValidity&&(V.setCustomValidity(ve(Z)?"":Z||""),V.reportValidity())},y={},M=Dr(o),Y=xt(o),ot=M||Y,xe=(D||Er(o))&&Q(o.value)&&Q(k)||St(o)&&o.value===""||k===""||Array.isArray(k)&&!k.length,ge=pn.bind(null,E,s,y),q=(Z,$,K,se=Te.maxLength,ne=Te.minLength)=>{const ae=Z?$:K;y[E]={type:Z?se:ne,message:ae,ref:o,...ge(Z?se:ne,ae)}};if(a?!Array.isArray(k)||!k.length:d&&(!ot&&(xe||ue(k))||ve(k)&&!k||Y&&!xn(i).isValid||M&&!bn(i).isValid)){const{value:Z,message:$}=kt(d)?{value:!!d,message:d}:Ke(d);if(Z&&(y[E]={type:Te.required,message:$,ref:V,...ge(Te.required,$)},!s))return L($),y}if(!xe&&(!ue(v)||!ue(g))){let Z,$;const K=Ke(g),se=Ke(v);if(!ue(k)&&!isNaN(k)){const ne=o.valueAsNumber||k&&+k;ue(K.value)||(Z=ne>K.value),ue(se.value)||($=ne<se.value)}else{const ne=o.valueAsDate||new Date(k),ae=bt=>new Date(new Date().toDateString()+" "+bt),ie=o.type=="time",Pe=o.type=="week";Ce(K.value)&&k&&(Z=ie?ae(k)>ae(K.value):Pe?k>K.value:ne>new Date(K.value)),Ce(se.value)&&k&&($=ie?ae(k)<ae(se.value):Pe?k<se.value:ne<new Date(se.value))}if((Z||$)&&(q(!!Z,K.message,se.message,Te.max,Te.min),!s))return L(y[E].message),y}if((u||h)&&!xe&&(Ce(k)||a&&Array.isArray(k))){const Z=Ke(u),$=Ke(h),K=!ue(Z.value)&&k.length>+Z.value,se=!ue($.value)&&k.length<+$.value;if((K||se)&&(q(K,Z.message,$.message),!s))return L(y[E].message),y}if(j&&!xe&&Ce(k)){const{value:Z,message:$}=Ke(j);if(Tt(Z)&&!k.match(Z)&&(y[E]={type:Te.pattern,message:$,ref:o,...ge(Te.pattern,$)},!s))return L($),y}if(P){if(we(P)){const Z=await P(k,r),$=is(Z,V);if($&&(y[E]={...$,...ge(Te.validate,$.message)},!s))return L($.message),y}else if(ee(P)){let Z={};for(const $ in P){if(!de(Z)&&!s)break;const K=is(await P[$](k,r),V,$);K&&(Z={...K,...ge($,K.message)},L(K.message),s&&(y[E]=Z))}if(!de(Z)&&(y[E]={ref:V,...Z},!s))return y}}return L(!0),y};const Xo={mode:be.onSubmit,reValidateMode:be.onChange,shouldFocusError:!0};function Jo(t={}){let e={...Xo,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:we(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let n=ee(e.defaultValues)||ee(e.values)?oe(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:oe(n),o={action:!1,mount:!1,watch:!1},i={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,u=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={...h};const g={array:Jr(),state:Jr()},j=ss(e.mode),P=ss(e.reValidateMode),E=e.criteriaMode===be.all,D=c=>f=>{clearTimeout(u),u=setTimeout(c,f)},R=async c=>{if(!e.disabled&&(h.isValid||v.isValid||c)){const f=e.resolver?de((await xe()).errors):await q(s,!0);f!==r.isValid&&g.state.next({isValid:f})}},k=(c,f)=>{!e.disabled&&(h.isValidating||h.validatingFields||v.isValidating||v.validatingFields)&&((c||Array.from(i.mount)).forEach(p=>{p&&(f?H(r.validatingFields,p,f):re(r.validatingFields,p))}),g.state.next({validatingFields:r.validatingFields,isValidating:!de(r.validatingFields)}))},V=(c,f=[],p,S,b=!0,_=!0)=>{if(S&&p&&!e.disabled){if(o.action=!0,_&&Array.isArray(w(s,c))){const T=p(w(s,c),S.argA,S.argB);b&&H(s,c,T)}if(_&&Array.isArray(w(r.errors,c))){const T=p(w(r.errors,c),S.argA,S.argB);b&&H(r.errors,c,T),Ko(r.errors,c)}if((h.touchedFields||v.touchedFields)&&_&&Array.isArray(w(r.touchedFields,c))){const T=p(w(r.touchedFields,c),S.argA,S.argB);b&&H(r.touchedFields,c,T)}(h.dirtyFields||v.dirtyFields)&&(r.dirtyFields=it(n,a)),g.state.next({name:c,isDirty:$(c,f),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else H(a,c,f)},L=(c,f)=>{H(r.errors,c,f),g.state.next({errors:r.errors})},y=c=>{r.errors=c,g.state.next({errors:r.errors,isValid:!1})},M=(c,f,p,S)=>{const b=w(s,c);if(b){const _=w(a,c,Q(p)?w(n,c):p);Q(_)||S&&S.defaultChecked||f?H(a,c,f?_:rs(b._f)):ne(c,_),o.mount&&R()}},Y=(c,f,p,S,b)=>{let _=!1,T=!1;const W={name:c};if(!e.disabled){if(!p||S){(h.isDirty||v.isDirty)&&(T=r.isDirty,r.isDirty=W.isDirty=$(),_=T!==W.isDirty);const te=Me(w(n,c),f);T=!!w(r.dirtyFields,c),te?re(r.dirtyFields,c):H(r.dirtyFields,c,!0),W.dirtyFields=r.dirtyFields,_=_||(h.dirtyFields||v.dirtyFields)&&T!==!te}if(p){const te=w(r.touchedFields,c);te||(H(r.touchedFields,c,p),W.touchedFields=r.touchedFields,_=_||(h.touchedFields||v.touchedFields)&&te!==p)}_&&b&&g.state.next(W)}return _?W:{}},ot=(c,f,p,S)=>{const b=w(r.errors,c),_=(h.isValid||v.isValid)&&ve(f)&&r.isValid!==f;if(e.delayError&&p?(d=D(()=>L(c,p)),d(e.delayError)):(clearTimeout(u),d=null,p?H(r.errors,c,p):re(r.errors,c)),(p?!Me(b,p):b)||!de(S)||_){const T={...S,..._&&ve(f)?{isValid:f}:{},errors:r.errors,name:c};r={...r,...T},g.state.next(T)}},xe=async c=>{k(c,!0);const f=await e.resolver(a,e.context,Bo(c||i.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return k(c),f},ge=async c=>{const{errors:f}=await xe(c);if(c)for(const p of c){const S=w(f,p);S?H(r.errors,p,S):re(r.errors,p)}else r.errors=f;return f},q=async(c,f,p={valid:!0})=>{for(const S in c){const b=c[S];if(b){const{_f:_,...T}=b;if(_){const W=i.array.has(_.name),te=b._f&&Uo(b._f);te&&h.validatingFields&&k([S],!0);const le=await ls(b,i.disabled,a,E,e.shouldUseNativeValidation&&!f,W);if(te&&h.validatingFields&&k([S]),le[_.name]&&(p.valid=!1,f))break;!f&&(w(le,_.name)?W?Yo(r.errors,le,_.name):H(r.errors,_.name,le[_.name]):re(r.errors,_.name))}!de(T)&&await q(T,f,p)}}return p.valid},Z=()=>{for(const c of i.unMount){const f=w(s,c);f&&(f._f.refs?f._f.refs.every(p=>!or(p)):!or(f._f.ref))&&rr(c)}i.unMount=new Set},$=(c,f)=>!e.disabled&&(c&&f&&H(a,c,f),!Me(Fr(),n)),K=(c,f,p)=>mn(c,i,{...o.mount?a:Q(f)?n:Ce(c)?{[c]:f}:f},p,f),se=c=>Gt(w(o.mount?a:n,c,e.shouldUnregister?w(n,c,[]):[])),ne=(c,f,p={})=>{const S=w(s,c);let b=f;if(S){const _=S._f;_&&(!_.disabled&&H(a,c,_n(f,_)),b=St(_.ref)&&ue(f)?"":f,gn(_.ref)?[..._.ref.options].forEach(T=>T.selected=b.includes(T.value)):_.refs?xt(_.ref)?_.refs.length>1?_.refs.forEach(T=>(!T.defaultChecked||!T.disabled)&&(T.checked=Array.isArray(b)?!!b.find(W=>W===T.value):b===T.value)):_.refs[0]&&(_.refs[0].checked=!!b):_.refs.forEach(T=>T.checked=T.value===b):Er(_.ref)?_.ref.value="":(_.ref.value=b,_.ref.type||g.state.next({name:c,values:oe(a)})))}(p.shouldDirty||p.shouldTouch)&&Y(c,b,p.shouldTouch,p.shouldDirty,!0),p.shouldValidate&&tr(c)},ae=(c,f,p)=>{for(const S in f){const b=f[S],_=`${c}.${S}`,T=w(s,_);(i.array.has(c)||ee(b)||T&&!T._f)&&!Be(b)?ae(_,b,p):ne(_,b,p)}},ie=(c,f,p={})=>{const S=w(s,c),b=i.array.has(c),_=oe(f);H(a,c,_),b?(g.array.next({name:c,values:oe(a)}),(h.isDirty||h.dirtyFields||v.isDirty||v.dirtyFields)&&p.shouldDirty&&g.state.next({name:c,dirtyFields:it(n,a),isDirty:$(c,_)})):S&&!S._f&&!ue(_)?ae(c,_,p):ne(c,_,p),as(c,i)&&g.state.next({...r}),g.state.next({name:o.mount?c:void 0,values:oe(a)})},Pe=async c=>{o.mount=!0;const f=c.target;let p=f.name,S=!0;const b=w(s,p),_=T=>{S=Number.isNaN(T)||Be(T)&&isNaN(T.getTime())||Me(T,w(a,p,T))};if(b){let T,W;const te=f.type?rs(b._f):ln(c),le=c.type===jt.BLUR||c.type===jt.FOCUS_OUT,va=!Wo(b._f)&&!e.resolver&&!w(r.errors,p)&&!b._f.deps||qo(le,w(r.touchedFields,p),r.isSubmitted,P,j),nr=as(p,i,le);H(a,p,te),le?(b._f.onBlur&&b._f.onBlur(c),d&&d(0)):b._f.onChange&&b._f.onChange(c);const ar=Y(p,te,le),ya=!de(ar)||nr;if(!le&&g.state.next({name:p,type:c.type,values:oe(a)}),va)return(h.isValid||v.isValid)&&(e.mode==="onBlur"?le&&R():le||R()),ya&&g.state.next({name:p,...nr?{}:ar});if(!le&&nr&&g.state.next({...r}),e.resolver){const{errors:qr}=await xe([p]);if(_(te),S){const xa=os(r.errors,s,p),Kr=os(qr,s,xa.name||p);T=Kr.error,p=Kr.name,W=de(qr)}}else k([p],!0),T=(await ls(b,i.disabled,a,E,e.shouldUseNativeValidation))[p],k([p]),_(te),S&&(T?W=!1:(h.isValid||v.isValid)&&(W=await q(s,!0)));S&&(b._f.deps&&tr(b._f.deps),ot(p,W,T,ar))}},bt=(c,f)=>{if(w(r.errors,f)&&c.focus)return c.focus(),1},tr=async(c,f={})=>{let p,S;const b=ht(c);if(e.resolver){const _=await ge(Q(c)?c:b);p=de(_),S=c?!b.some(T=>w(_,T)):p}else c?(S=(await Promise.all(b.map(async _=>{const T=w(s,_);return await q(T&&T._f?{[_]:T}:T)}))).every(Boolean),!(!S&&!r.isValid)&&R()):S=p=await q(s);return g.state.next({...!Ce(c)||(h.isValid||v.isValid)&&p!==r.isValid?{}:{name:c},...e.resolver||!c?{isValid:p}:{},errors:r.errors}),f.shouldFocus&&!S&&mt(s,bt,c?b:i.mount),S},Fr=c=>{const f={...o.mount?a:n};return Q(c)?f:Ce(c)?w(f,c):c.map(p=>w(f,p))},Lr=(c,f)=>({invalid:!!w((f||r).errors,c),isDirty:!!w((f||r).dirtyFields,c),error:w((f||r).errors,c),isValidating:!!w(r.validatingFields,c),isTouched:!!w((f||r).touchedFields,c)}),da=c=>{c&&ht(c).forEach(f=>re(r.errors,f)),g.state.next({errors:c?r.errors:{}})},$r=(c,f,p)=>{const S=(w(s,c,{_f:{}})._f||{}).ref,b=w(r.errors,c)||{},{ref:_,message:T,type:W,...te}=b;H(r.errors,c,{...te,...f,ref:S}),g.state.next({name:c,errors:r.errors,isValid:!1}),p&&p.shouldFocus&&S&&S.focus&&S.focus()},ua=(c,f)=>we(c)?g.state.subscribe({next:p=>c(K(void 0,f),p)}):K(c,f,!0),Zr=c=>g.state.subscribe({next:f=>{Go(c.name,f.name,c.exact)&&Ho(f,c.formState||h,ga,c.reRenderRoot)&&c.callback({values:{...a},...r,...f})}}).unsubscribe,fa=c=>(o.mount=!0,v={...v,...c.formState},Zr({...c,formState:v})),rr=(c,f={})=>{for(const p of c?ht(c):i.mount)i.mount.delete(p),i.array.delete(p),f.keepValue||(re(s,p),re(a,p)),!f.keepError&&re(r.errors,p),!f.keepDirty&&re(r.dirtyFields,p),!f.keepTouched&&re(r.touchedFields,p),!f.keepIsValidating&&re(r.validatingFields,p),!e.shouldUnregister&&!f.keepDefaultValue&&re(n,p);g.state.next({values:oe(a)}),g.state.next({...r,...f.keepDirty?{isDirty:$()}:{}}),!f.keepIsValid&&R()},zr=({disabled:c,name:f})=>{(ve(c)&&o.mount||c||i.disabled.has(f))&&(c?i.disabled.add(f):i.disabled.delete(f))},sr=(c,f={})=>{let p=w(s,c);const S=ve(f.disabled)||ve(e.disabled);return H(s,c,{...p||{},_f:{...p&&p._f?p._f:{ref:{name:c}},name:c,mount:!0,...f}}),i.mount.add(c),p?zr({disabled:ve(f.disabled)?f.disabled:e.disabled,name:c}):M(c,!0,f.value),{...S?{disabled:f.disabled||e.disabled}:{},...e.progressive?{required:!!f.required,min:lt(f.min),max:lt(f.max),minLength:lt(f.minLength),maxLength:lt(f.maxLength),pattern:lt(f.pattern)}:{},name:c,onChange:Pe,onBlur:Pe,ref:b=>{if(b){sr(c,f),p=w(s,c);const _=Q(b.value)&&b.querySelectorAll&&b.querySelectorAll("input,select,textarea")[0]||b,T=$o(_),W=p._f.refs||[];if(T?W.find(te=>te===_):_===p._f.ref)return;H(s,c,{_f:{...p._f,...T?{refs:[...W.filter(or),_,...Array.isArray(w(n,c))?[{}]:[]],ref:{type:_.type,name:c}}:{ref:_}}}),M(c,!1,void 0,_)}else p=w(s,c,{}),p._f&&(p._f.mount=!1),(e.shouldUnregister||f.shouldUnregister)&&!(cn(i.array,c)&&o.action)&&i.unMount.add(c)}}},Br=()=>e.shouldFocusError&&mt(s,bt,i.mount),ha=c=>{ve(c)&&(g.state.next({disabled:c}),mt(s,(f,p)=>{const S=w(s,p);S&&(f.disabled=S._f.disabled||c,Array.isArray(S._f.refs)&&S._f.refs.forEach(b=>{b.disabled=S._f.disabled||c}))},0,!1))},Ur=(c,f)=>async p=>{let S;p&&(p.preventDefault&&p.preventDefault(),p.persist&&p.persist());let b=oe(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:_,values:T}=await xe();r.errors=_,b=T}else await q(s);if(i.disabled.size)for(const _ of i.disabled)H(b,_,void 0);if(re(r.errors,"root"),de(r.errors)){g.state.next({errors:{}});try{await c(b,p)}catch(_){S=_}}else f&&await f({...r.errors},p),Br(),setTimeout(Br);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:de(r.errors)&&!S,submitCount:r.submitCount+1,errors:r.errors}),S)throw S},ma=(c,f={})=>{w(s,c)&&(Q(f.defaultValue)?ie(c,oe(w(n,c))):(ie(c,f.defaultValue),H(n,c,oe(f.defaultValue))),f.keepTouched||re(r.touchedFields,c),f.keepDirty||(re(r.dirtyFields,c),r.isDirty=f.defaultValue?$(c,oe(w(n,c))):$()),f.keepError||(re(r.errors,c),h.isValid&&R()),g.state.next({...r}))},Wr=(c,f={})=>{const p=c?oe(c):n,S=oe(p),b=de(c),_=b?n:S;if(f.keepDefaultValues||(n=p),!f.keepValues){if(f.keepDirtyValues){const T=new Set([...i.mount,...Object.keys(it(n,a))]);for(const W of Array.from(T))w(r.dirtyFields,W)?H(_,W,w(a,W)):ie(W,w(_,W))}else{if(Tr&&Q(c))for(const T of i.mount){const W=w(s,T);if(W&&W._f){const te=Array.isArray(W._f.refs)?W._f.refs[0]:W._f.ref;if(St(te)){const le=te.closest("form");if(le){le.reset();break}}}}for(const T of i.mount)ie(T,w(_,T))}a=oe(_),g.array.next({values:{..._}}),g.state.next({values:{..._}})}i={mount:f.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!f.keepIsValid||!!f.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:f.keepSubmitCount?r.submitCount:0,isDirty:b?!1:f.keepDirty?r.isDirty:!!(f.keepDefaultValues&&!Me(c,n)),isSubmitted:f.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:b?{}:f.keepDirtyValues?f.keepDefaultValues&&a?it(n,a):r.dirtyFields:f.keepDefaultValues&&c?it(n,c):f.keepDirty?r.dirtyFields:{},touchedFields:f.keepTouched?r.touchedFields:{},errors:f.keepErrors?r.errors:{},isSubmitSuccessful:f.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Hr=(c,f)=>Wr(we(c)?c(a):c,f),pa=(c,f={})=>{const p=w(s,c),S=p&&p._f;if(S){const b=S.refs?S.refs[0]:S.ref;b.focus&&(b.focus(),f.shouldSelect&&we(b.select)&&b.select())}},ga=c=>{r={...r,...c}},Gr={control:{register:sr,unregister:rr,getFieldState:Lr,handleSubmit:Ur,setError:$r,_subscribe:Zr,_runSchema:xe,_getWatch:K,_getDirty:$,_setValid:R,_setFieldArray:V,_setDisabledField:zr,_setErrors:y,_getFieldArray:se,_reset:Wr,_resetDefaultValues:()=>we(e.defaultValues)&&e.defaultValues().then(c=>{Hr(c,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:ha,_subjects:g,_proxyFormState:h,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(c){o=c},get _defaultValues(){return n},get _names(){return i},set _names(c){i=c},get _formState(){return r},get _options(){return e},set _options(c){e={...e,...c}}},subscribe:fa,trigger:tr,register:sr,handleSubmit:Ur,watch:ua,setValue:ie,getValues:Fr,reset:Hr,resetField:ma,clearErrors:da,unregister:rr,setError:$r,setFocus:pa,getFieldState:Lr};return{...Gr,formControl:Gr}}function Qo(t={}){const e=G.useRef(void 0),r=G.useRef(void 0),[s,n]=G.useState({isDirty:!1,isValidating:!1,isLoading:we(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:we(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Jo(t),formState:s},t.formControl&&t.defaultValues&&!we(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,Rr(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>n({...a._formState}),reRenderRoot:!0});return n(i=>({...i,isReady:!0})),a._formState.isReady=!0,o},[a]),G.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),G.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode),t.errors&&!de(t.errors)&&a._setErrors(t.errors)},[a,t.errors,t.mode,t.reValidateMode]),G.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),G.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),G.useEffect(()=>{t.values&&!Me(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,n(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),G.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=fn(s,a),e.current}var ei="Label",wn=m.forwardRef((t,e)=>l.jsx(pe.label,{...t,ref:e,onMouseDown:r=>{var n;r.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));wn.displayName=ei;var ti=wn;function ri({className:t,...e}){return l.jsx(ti,{"data-slot":"label",className:z("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}const si=Io,kn=m.createContext({}),Fe=({...t})=>l.jsx(kn.Provider,{value:{name:t.name},children:l.jsx(Lo,{...t})}),Pr=()=>{const t=m.useContext(kn),e=m.useContext(Cn),{getFieldState:r}=qt(),s=hn({name:t.name}),n=r(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...n}},Cn=m.createContext({});function Le({className:t,...e}){const r=m.useId();return l.jsx(Cn.Provider,{value:{id:r},children:l.jsx("div",{"data-slot":"form-item",className:z("grid gap-2",t),...e})})}function $e({className:t,...e}){const{error:r,formItemId:s}=Pr();return l.jsx(ri,{"data-slot":"form-label","data-error":!!r,className:z("data-[error=true]:text-destructive",t),htmlFor:s,...e})}function Ze({...t}){const{error:e,formItemId:r,formDescriptionId:s,formMessageId:n}=Pr();return l.jsx(ba,{"data-slot":"form-control",id:r,"aria-describedby":e?`${s} ${n}`:`${s}`,"aria-invalid":!!e,...t})}function ze({className:t,...e}){const{error:r,formMessageId:s}=Pr(),n=r?String((r==null?void 0:r.message)??""):e.children;return n?l.jsx("p",{"data-slot":"form-message",id:s,className:z("text-destructive text-sm",t),...e,children:n}):null}var jn=["PageUp","PageDown"],Sn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Nn={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},at="Slider",[dr,ni,ai]=Pa(at),[Tn,rc]=Ut(at,[ai]),[oi,Kt]=Tn(at),An=m.forwardRef((t,e)=>{const{name:r,min:s=0,max:n=100,step:a=1,orientation:o="horizontal",disabled:i=!1,minStepsBetweenThumbs:d=0,defaultValue:u=[s],value:h,onValueChange:v=()=>{},onValueCommit:g=()=>{},inverted:j=!1,form:P,...E}=t,D=m.useRef(new Set),R=m.useRef(0),V=o==="horizontal"?ii:li,[L=[],y]=Bt({prop:h,defaultProp:u,onChange:q=>{var $;($=[...D.current][R.current])==null||$.focus(),v(q)}}),M=m.useRef(L);function Y(q){const Z=hi(L,q);ge(q,Z)}function ot(q){ge(q,R.current)}function xe(){const q=M.current[R.current];L[R.current]!==q&&g(L)}function ge(q,Z,{commit:$}={commit:!1}){const K=vi(a),se=yi(Math.round((q-s)/a)*a+s,K),ne=Ns(se,[s,n]);y((ae=[])=>{const ie=ui(ae,ne,Z);if(gi(ie,d*a)){R.current=ie.indexOf(ne);const Pe=String(ie)!==String(ae);return Pe&&$&&g(ie),Pe?ie:ae}else return ae})}return l.jsx(oi,{scope:t.__scopeSlider,name:r,disabled:i,min:s,max:n,valueIndexToChangeRef:R,thumbs:D.current,values:L,orientation:o,form:P,children:l.jsx(dr.Provider,{scope:t.__scopeSlider,children:l.jsx(dr.Slot,{scope:t.__scopeSlider,children:l.jsx(V,{"aria-disabled":i,"data-disabled":i?"":void 0,...E,ref:e,onPointerDown:J(E.onPointerDown,()=>{i||(M.current=L)}),min:s,max:n,inverted:j,onSlideStart:i?void 0:Y,onSlideMove:i?void 0:ot,onSlideEnd:i?void 0:xe,onHomeKeyDown:()=>!i&&ge(s,0,{commit:!0}),onEndKeyDown:()=>!i&&ge(n,L.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:Z})=>{if(!i){const se=jn.includes(q.key)||q.shiftKey&&Sn.includes(q.key)?10:1,ne=R.current,ae=L[ne],ie=a*se*Z;ge(ae+ie,ne,{commit:!0})}}})})})})});An.displayName=at;var[Rn,En]=Tn(at,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ii=m.forwardRef((t,e)=>{const{min:r,max:s,dir:n,inverted:a,onSlideStart:o,onSlideMove:i,onSlideEnd:d,onStepKeyDown:u,...h}=t,[v,g]=m.useState(null),j=ye(e,V=>g(V)),P=m.useRef(void 0),E=Oa(n),D=E==="ltr",R=D&&!a||!D&&a;function k(V){const L=P.current||v.getBoundingClientRect(),y=[0,L.width],Y=Or(y,R?[r,s]:[s,r]);return P.current=L,Y(V-L.left)}return l.jsx(Rn,{scope:t.__scopeSlider,startEdge:R?"left":"right",endEdge:R?"right":"left",direction:R?1:-1,size:"width",children:l.jsx(Dn,{dir:E,"data-orientation":"horizontal",...h,ref:j,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:V=>{const L=k(V.clientX);o==null||o(L)},onSlideMove:V=>{const L=k(V.clientX);i==null||i(L)},onSlideEnd:()=>{P.current=void 0,d==null||d()},onStepKeyDown:V=>{const y=Nn[R?"from-left":"from-right"].includes(V.key);u==null||u({event:V,direction:y?-1:1})}})})}),li=m.forwardRef((t,e)=>{const{min:r,max:s,inverted:n,onSlideStart:a,onSlideMove:o,onSlideEnd:i,onStepKeyDown:d,...u}=t,h=m.useRef(null),v=ye(e,h),g=m.useRef(void 0),j=!n;function P(E){const D=g.current||h.current.getBoundingClientRect(),R=[0,D.height],V=Or(R,j?[s,r]:[r,s]);return g.current=D,V(E-D.top)}return l.jsx(Rn,{scope:t.__scopeSlider,startEdge:j?"bottom":"top",endEdge:j?"top":"bottom",size:"height",direction:j?1:-1,children:l.jsx(Dn,{"data-orientation":"vertical",...u,ref:v,style:{...u.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:E=>{const D=P(E.clientY);a==null||a(D)},onSlideMove:E=>{const D=P(E.clientY);o==null||o(D)},onSlideEnd:()=>{g.current=void 0,i==null||i()},onStepKeyDown:E=>{const R=Nn[j?"from-bottom":"from-top"].includes(E.key);d==null||d({event:E,direction:R?-1:1})}})})}),Dn=m.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:s,onSlideMove:n,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:i,onStepKeyDown:d,...u}=t,h=Kt(at,r);return l.jsx(pe.span,{...u,ref:e,onKeyDown:J(t.onKeyDown,v=>{v.key==="Home"?(o(v),v.preventDefault()):v.key==="End"?(i(v),v.preventDefault()):jn.concat(Sn).includes(v.key)&&(d(v),v.preventDefault())}),onPointerDown:J(t.onPointerDown,v=>{const g=v.target;g.setPointerCapture(v.pointerId),v.preventDefault(),h.thumbs.has(g)?g.focus():s(v)}),onPointerMove:J(t.onPointerMove,v=>{v.target.hasPointerCapture(v.pointerId)&&n(v)}),onPointerUp:J(t.onPointerUp,v=>{const g=v.target;g.hasPointerCapture(v.pointerId)&&(g.releasePointerCapture(v.pointerId),a(v))})})}),Pn="SliderTrack",On=m.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,n=Kt(Pn,r);return l.jsx(pe.span,{"data-disabled":n.disabled?"":void 0,"data-orientation":n.orientation,...s,ref:e})});On.displayName=Pn;var ur="SliderRange",Mn=m.forwardRef((t,e)=>{const{__scopeSlider:r,...s}=t,n=Kt(ur,r),a=En(ur,r),o=m.useRef(null),i=ye(e,o),d=n.values.length,u=n.values.map(g=>Fn(g,n.min,n.max)),h=d>1?Math.min(...u):0,v=100-Math.max(...u);return l.jsx(pe.span,{"data-orientation":n.orientation,"data-disabled":n.disabled?"":void 0,...s,ref:i,style:{...t.style,[a.startEdge]:h+"%",[a.endEdge]:v+"%"}})});Mn.displayName=ur;var fr="SliderThumb",In=m.forwardRef((t,e)=>{const r=ni(t.__scopeSlider),[s,n]=m.useState(null),a=ye(e,i=>n(i)),o=m.useMemo(()=>s?r().findIndex(i=>i.ref.current===s):-1,[r,s]);return l.jsx(ci,{...t,ref:a,index:o})}),ci=m.forwardRef((t,e)=>{const{__scopeSlider:r,index:s,name:n,...a}=t,o=Kt(fr,r),i=En(fr,r),[d,u]=m.useState(null),h=ye(e,k=>u(k)),v=d?o.form||!!d.closest("form"):!0,g=Ma(d),j=o.values[s],P=j===void 0?0:Fn(j,o.min,o.max),E=fi(s,o.values.length),D=g==null?void 0:g[i.size],R=D?mi(D,P,i.direction):0;return m.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),l.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${P}% + ${R}px)`},children:[l.jsx(dr.ItemSlot,{scope:t.__scopeSlider,children:l.jsx(pe.span,{role:"slider","aria-label":t["aria-label"]||E,"aria-valuemin":o.min,"aria-valuenow":j,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:h,style:j===void 0?{display:"none"}:t.style,onFocus:J(t.onFocus,()=>{o.valueIndexToChangeRef.current=s})})}),v&&l.jsx(Vn,{name:n??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:j},s)]})});In.displayName=fr;var di="RadioBubbleInput",Vn=m.forwardRef(({__scopeSlider:t,value:e,...r},s)=>{const n=m.useRef(null),a=ye(n,s),o=Ia(e);return m.useEffect(()=>{const i=n.current;if(!i)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&h){const v=new Event("input",{bubbles:!0});h.call(i,e),i.dispatchEvent(v)}},[o,e]),l.jsx(pe.input,{style:{display:"none"},...r,ref:a,defaultValue:e})});Vn.displayName=di;function ui(t=[],e,r){const s=[...t];return s[r]=e,s.sort((n,a)=>n-a)}function Fn(t,e,r){const a=100/(r-e)*(t-e);return Ns(a,[0,100])}function fi(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function hi(t,e){if(t.length===1)return 0;const r=t.map(n=>Math.abs(n-e)),s=Math.min(...r);return r.indexOf(s)}function mi(t,e,r){const s=t/2,a=Or([0,50],[0,s]);return(s-a(e)*r)*r}function pi(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function gi(t,e){if(e>0){const r=pi(t);return Math.min(...r)>=e}return!0}function Or(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const s=(e[1]-e[0])/(t[1]-t[0]);return e[0]+s*(r-t[0])}}function vi(t){return(String(t).split(".")[1]||"").length}function yi(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var xi=An,_i=On,bi=Mn,wi=In;function ki({className:t,defaultValue:e,value:r,min:s=0,max:n=100,...a}){const o=m.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[s,n],[r,e,s,n]);return l.jsxs(xi,{"data-slot":"slider",defaultValue:e,value:r,min:s,max:n,className:z("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...a,children:[l.jsx(_i,{"data-slot":"slider-track",className:z("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:l.jsx(bi,{"data-slot":"slider-range",className:z("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(i,d)=>l.jsx(wi,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}const cs=(t,e,r)=>{if(t&&"reportValidity"in t){const s=w(r,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},Ln=(t,e)=>{for(const r in e.fields){const s=e.fields[r];s&&s.ref&&"reportValidity"in s.ref?cs(s.ref,r,t):s&&s.refs&&s.refs.forEach(n=>cs(n,r,t))}},Ci=(t,e)=>{e.shouldUseNativeValidation&&Ln(t,e);const r={};for(const s in t){const n=w(e.fields,s),a=Object.assign(t[s]||{},{ref:n&&n.ref});if(ji(e.names||Object.keys(t),s)){const o=Object.assign({},w(r,s));H(o,"root",a),H(r,s,o)}else H(r,s,a)}return r},ji=(t,e)=>{const r=ds(e);return t.some(s=>ds(s).match(`^${r}\\.\\d+`))};function ds(t){return t.replace(/\]|\[/g,"")}function Si(t,e){for(var r={};t.length;){var s=t[0],n=s.code,a=s.message,o=s.path.join(".");if(!r[o])if("unionErrors"in s){var i=s.unionErrors[0].errors[0];r[o]={message:i.message,type:i.code}}else r[o]={message:a,type:n};if("unionErrors"in s&&s.unionErrors.forEach(function(h){return h.errors.forEach(function(v){return t.push(v)})}),e){var d=r[o].types,u=d&&d[s.code];r[o]=pn(o,e,r,n,u?[].concat(u,s.message):s.message)}t.shift()}return r}function Ni(t,e,r){return r===void 0&&(r={}),function(s,n,a){try{return Promise.resolve(function(o,i){try{var d=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(u){return a.shouldUseNativeValidation&&Ln({},a),{errors:{},values:r.raw?Object.assign({},s):u}})}catch(u){return i(u)}return d&&d.then?d.then(void 0,i):d}(0,function(o){if(function(i){return Array.isArray(i==null?void 0:i.errors)}(o))return{values:{},errors:Ci(Si(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}}var U;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const a={};for(const o of n)a[o]=o;return a},t.getValidEnumValues=n=>{const a=t.objectKeys(n).filter(i=>typeof n[n[i]]!="number"),o={};for(const i of a)o[i]=n[i];return t.objectValues(o)},t.objectValues=n=>t.objectKeys(n).map(function(a){return n[a]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const a=[];for(const o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.push(o);return a},t.find=(n,a)=>{for(const o of n)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function s(n,a=" | "){return n.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=s,t.jsonStringifyReplacer=(n,a)=>typeof a=="bigint"?a.toString():a})(U||(U={}));var us;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(us||(us={}));const N=U.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Oe=t=>{switch(typeof t){case"undefined":return N.undefined;case"string":return N.string;case"number":return isNaN(t)?N.nan:N.number;case"boolean":return N.boolean;case"function":return N.function;case"bigint":return N.bigint;case"symbol":return N.symbol;case"object":return Array.isArray(t)?N.array:t===null?N.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?N.promise:typeof Map<"u"&&t instanceof Map?N.map:typeof Set<"u"&&t instanceof Set?N.set:typeof Date<"u"&&t instanceof Date?N.date:N.object;default:return N.unknown}},x=U.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class _e extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},s={_errors:[]},n=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(n);else if(o.code==="invalid_return_type")n(o.returnTypeError);else if(o.code==="invalid_arguments")n(o.argumentsError);else if(o.path.length===0)s._errors.push(r(o));else{let i=s,d=0;for(;d<o.path.length;){const u=o.path[d];d===o.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(r(o))):i[u]=i[u]||{_errors:[]},i=i[u],d++}}};return n(this),s}static assert(e){if(!(e instanceof _e))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,U.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},s=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):s.push(e(n));return{formErrors:s,fieldErrors:r}}get formErrors(){return this.flatten()}}_e.create=t=>new _e(t);const gt=(t,e)=>{let r;switch(t.code){case x.invalid_type:t.received===N.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case x.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,U.jsonStringifyReplacer)}`;break;case x.unrecognized_keys:r=`Unrecognized key(s) in object: ${U.joinValues(t.keys,", ")}`;break;case x.invalid_union:r="Invalid input";break;case x.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${U.joinValues(t.options)}`;break;case x.invalid_enum_value:r=`Invalid enum value. Expected ${U.joinValues(t.options)}, received '${t.received}'`;break;case x.invalid_arguments:r="Invalid function arguments";break;case x.invalid_return_type:r="Invalid function return type";break;case x.invalid_date:r="Invalid date";break;case x.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:U.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case x.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case x.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case x.custom:r="Invalid input";break;case x.invalid_intersection_types:r="Intersection results could not be merged";break;case x.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case x.not_finite:r="Number must be finite";break;default:r=e.defaultError,U.assertNever(t)}return{message:r}};let Ti=gt;function hr(){return Ti}const mr=t=>{const{data:e,path:r,errorMaps:s,issueData:n}=t,a=[...r,...n.path||[]],o={...n,path:a};if(n.message!==void 0)return{...n,path:a,message:n.message};let i="";const d=s.filter(u=>!!u).slice().reverse();for(const u of d)i=u(o,{data:e,defaultError:i}).message;return{...n,path:a,message:i}};function C(t,e){const r=hr(),s=mr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===gt?void 0:gt].filter(n=>!!n)});t.common.issues.push(s)}class fe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const s=[];for(const n of r){if(n.status==="aborted")return I;n.status==="dirty"&&e.dirty(),s.push(n.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,r){const s=[];for(const n of r){const a=await n.key,o=await n.value;s.push({key:a,value:o})}return fe.mergeObjectSync(e,s)}static mergeObjectSync(e,r){const s={};for(const n of r){const{key:a,value:o}=n;if(a.status==="aborted"||o.status==="aborted")return I;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||n.alwaysSet)&&(s[a.value]=o.value)}return{status:e.value,value:s}}}const I=Object.freeze({status:"aborted"}),ct=t=>({status:"dirty",value:t}),me=t=>({status:"valid",value:t}),fs=t=>t.status==="aborted",hs=t=>t.status==="dirty",Qe=t=>t.status==="valid",At=t=>typeof Promise<"u"&&t instanceof Promise;function Rt(t,e,r,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function $n(t,e,r,s,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}var A;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(A||(A={}));var dt,ut;class Ne{constructor(e,r,s,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=s,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ms=(t,e)=>{if(Qe(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new _e(t.common.issues);return this._error=r,this._error}}};function F(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:s,description:n}=t;if(e&&(r||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(o,i)=>{var d,u;const{message:h}=t;return o.code==="invalid_enum_value"?{message:h??i.defaultError}:typeof i.data>"u"?{message:(d=h??s)!==null&&d!==void 0?d:i.defaultError}:o.code!=="invalid_type"?{message:i.defaultError}:{message:(u=h??r)!==null&&u!==void 0?u:i.defaultError}},description:n}}class B{get description(){return this._def.description}_getType(e){return Oe(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Oe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new fe,ctx:{common:e.parent.common,data:e.data,parsedType:Oe(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(At(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const s=this.safeParse(e,r);if(s.success)return s.data;throw s.error}safeParse(e,r){var s;const n={common:{issues:[],async:(s=r==null?void 0:r.async)!==null&&s!==void 0?s:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oe(e)},a=this._parseSync({data:e,path:n.path,parent:n});return ms(n,a)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oe(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:n});return Qe(a)?{value:a.value}:{issues:n.common.issues}}catch(a){!((s=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(a=>Qe(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(e,r){const s=await this.safeParseAsync(e,r);if(s.success)return s.data;throw s.error}async safeParseAsync(e,r){const s={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Oe(e)},n=this._parse({data:e,path:s.path,parent:s}),a=await(At(n)?n:Promise.resolve(n));return ms(s,a)}refine(e,r){const s=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,a)=>{const o=e(n),i=()=>a.addIssue({code:x.custom,...s(n)});return typeof Promise<"u"&&o instanceof Promise?o.then(d=>d?!0:(i(),!1)):o?!0:(i(),!1)})}refinement(e,r){return this._refinement((s,n)=>e(s)?!0:(n.addIssue(typeof r=="function"?r(s,n):r),!1))}_refinement(e){return new De({schema:this,typeName:O.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Re.create(this,this._def)}nullable(){return qe.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Se.create(this)}promise(){return vt.create(this,this._def)}or(e){return Ot.create([this,e],this._def)}and(e){return Mt.create(this,e,this._def)}transform(e){return new De({...F(this._def),schema:this,typeName:O.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new $t({...F(this._def),innerType:this,defaultValue:r,typeName:O.ZodDefault})}brand(){return new Un({typeName:O.ZodBranded,type:this,...F(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Zt({...F(this._def),innerType:this,catchValue:r,typeName:O.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Yt.create(this,e)}readonly(){return zt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ai=/^c[^\s-]{8,}$/i,Ri=/^[0-9a-z]+$/,Ei=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Di=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Pi=/^[a-z0-9_-]{21}$/i,Oi=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Mi=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ii=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Vi="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let ir;const Fi=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Li=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$i=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Zi=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zi=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bi=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Zn="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ui=new RegExp(`^${Zn}$`);function zn(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function Wi(t){return new RegExp(`^${zn(t)}$`)}function Hi(t){let e=`${Zn}T${zn(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Gi(t,e){return!!((e==="v4"||!e)&&Fi.test(t)||(e==="v6"||!e)&&$i.test(t))}function qi(t,e){if(!Oi.test(t))return!1;try{const[r]=t.split("."),s=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),n=JSON.parse(atob(s));return!(typeof n!="object"||n===null||!n.typ||!n.alg||e&&n.alg!==e)}catch{return!1}}function Ki(t,e){return!!((e==="v4"||!e)&&Li.test(t)||(e==="v6"||!e)&&Zi.test(t))}class je extends B{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==N.string){const a=this._getOrReturnCtx(e);return C(a,{code:x.invalid_type,expected:N.string,received:a.parsedType}),I}const s=new fe;let n;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(n=this._getOrReturnCtx(e,n),C(n,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="max")e.data.length>a.value&&(n=this._getOrReturnCtx(e,n),C(n,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),s.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,i=e.data.length<a.value;(o||i)&&(n=this._getOrReturnCtx(e,n),o?C(n,{code:x.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):i&&C(n,{code:x.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),s.dirty())}else if(a.kind==="email")Ii.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"email",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="emoji")ir||(ir=new RegExp(Vi,"u")),ir.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"emoji",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="uuid")Di.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"uuid",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="nanoid")Pi.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"nanoid",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid")Ai.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"cuid",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="cuid2")Ri.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"cuid2",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="ulid")Ei.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"ulid",code:x.invalid_string,message:a.message}),s.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),C(n,{validation:"url",code:x.invalid_string,message:a.message}),s.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"regex",code:x.invalid_string,message:a.message}),s.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(n=this._getOrReturnCtx(e,n),C(n,{code:x.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),s.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(n=this._getOrReturnCtx(e,n),C(n,{code:x.invalid_string,validation:{startsWith:a.value},message:a.message}),s.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(n=this._getOrReturnCtx(e,n),C(n,{code:x.invalid_string,validation:{endsWith:a.value},message:a.message}),s.dirty()):a.kind==="datetime"?Hi(a).test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:x.invalid_string,validation:"datetime",message:a.message}),s.dirty()):a.kind==="date"?Ui.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:x.invalid_string,validation:"date",message:a.message}),s.dirty()):a.kind==="time"?Wi(a).test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{code:x.invalid_string,validation:"time",message:a.message}),s.dirty()):a.kind==="duration"?Mi.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"duration",code:x.invalid_string,message:a.message}),s.dirty()):a.kind==="ip"?Gi(e.data,a.version)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"ip",code:x.invalid_string,message:a.message}),s.dirty()):a.kind==="jwt"?qi(e.data,a.alg)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"jwt",code:x.invalid_string,message:a.message}),s.dirty()):a.kind==="cidr"?Ki(e.data,a.version)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"cidr",code:x.invalid_string,message:a.message}),s.dirty()):a.kind==="base64"?zi.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"base64",code:x.invalid_string,message:a.message}),s.dirty()):a.kind==="base64url"?Bi.test(e.data)||(n=this._getOrReturnCtx(e,n),C(n,{validation:"base64url",code:x.invalid_string,message:a.message}),s.dirty()):U.assertNever(a);return{status:s.value,value:e.data}}_regex(e,r,s){return this.refinement(n=>e.test(n),{validation:r,code:x.invalid_string,...A.errToObj(s)})}_addCheck(e){return new je({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...A.errToObj(e)})}url(e){return this._addCheck({kind:"url",...A.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...A.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...A.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...A.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...A.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...A.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...A.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...A.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...A.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...A.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...A.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...A.errToObj(e)})}datetime(e){var r,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...A.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...A.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...A.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...A.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...A.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...A.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...A.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...A.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...A.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...A.errToObj(r)})}nonempty(e){return this.min(1,A.errToObj(e))}trim(){return new je({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new je({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}je.create=t=>{var e;return new je({checks:[],typeName:O.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...F(t)})};function Yi(t,e){const r=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,n=r>s?r:s,a=parseInt(t.toFixed(n).replace(".","")),o=parseInt(e.toFixed(n).replace(".",""));return a%o/Math.pow(10,n)}class We extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==N.number){const a=this._getOrReturnCtx(e);return C(a,{code:x.invalid_type,expected:N.number,received:a.parsedType}),I}let s;const n=new fe;for(const a of this._def.checks)a.kind==="int"?U.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{code:x.invalid_type,expected:"integer",received:"float",message:a.message}),n.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),C(s,{code:x.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),C(s,{code:x.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),n.dirty()):a.kind==="multipleOf"?Yi(e.data,a.value)!==0&&(s=this._getOrReturnCtx(e,s),C(s,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),C(s,{code:x.not_finite,message:a.message}),n.dirty()):U.assertNever(a);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,A.toString(r))}gt(e,r){return this.setLimit("min",e,!1,A.toString(r))}lte(e,r){return this.setLimit("max",e,!0,A.toString(r))}lt(e,r){return this.setLimit("max",e,!1,A.toString(r))}setLimit(e,r,s,n){return new We({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:A.toString(n)}]})}_addCheck(e){return new We({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:A.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:A.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:A.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:A.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:A.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&U.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(r===null||s.value>r)&&(r=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(r)&&Number.isFinite(e)}}We.create=t=>new We({checks:[],typeName:O.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class He extends B{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==N.bigint)return this._getInvalidInput(e);let s;const n=new fe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(s=this._getOrReturnCtx(e,s),C(s,{code:x.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(s=this._getOrReturnCtx(e,s),C(s,{code:x.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),n.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),C(s,{code:x.not_multiple_of,multipleOf:a.value,message:a.message}),n.dirty()):U.assertNever(a);return{status:n.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return C(r,{code:x.invalid_type,expected:N.bigint,received:r.parsedType}),I}gte(e,r){return this.setLimit("min",e,!0,A.toString(r))}gt(e,r){return this.setLimit("min",e,!1,A.toString(r))}lte(e,r){return this.setLimit("max",e,!0,A.toString(r))}lt(e,r){return this.setLimit("max",e,!1,A.toString(r))}setLimit(e,r,s,n){return new He({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:s,message:A.toString(n)}]})}_addCheck(e){return new He({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:A.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:A.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:A.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:A.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:A.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}He.create=t=>{var e;return new He({checks:[],typeName:O.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...F(t)})};class Et extends B{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==N.boolean){const s=this._getOrReturnCtx(e);return C(s,{code:x.invalid_type,expected:N.boolean,received:s.parsedType}),I}return me(e.data)}}Et.create=t=>new Et({typeName:O.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...F(t)});class et extends B{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==N.date){const a=this._getOrReturnCtx(e);return C(a,{code:x.invalid_type,expected:N.date,received:a.parsedType}),I}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return C(a,{code:x.invalid_date}),I}const s=new fe;let n;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(n=this._getOrReturnCtx(e,n),C(n,{code:x.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),s.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(n=this._getOrReturnCtx(e,n),C(n,{code:x.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),s.dirty()):U.assertNever(a);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new et({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:A.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:A.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}et.create=t=>new et({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:O.ZodDate,...F(t)});class pr extends B{_parse(e){if(this._getType(e)!==N.symbol){const s=this._getOrReturnCtx(e);return C(s,{code:x.invalid_type,expected:N.symbol,received:s.parsedType}),I}return me(e.data)}}pr.create=t=>new pr({typeName:O.ZodSymbol,...F(t)});class Dt extends B{_parse(e){if(this._getType(e)!==N.undefined){const s=this._getOrReturnCtx(e);return C(s,{code:x.invalid_type,expected:N.undefined,received:s.parsedType}),I}return me(e.data)}}Dt.create=t=>new Dt({typeName:O.ZodUndefined,...F(t)});class Pt extends B{_parse(e){if(this._getType(e)!==N.null){const s=this._getOrReturnCtx(e);return C(s,{code:x.invalid_type,expected:N.null,received:s.parsedType}),I}return me(e.data)}}Pt.create=t=>new Pt({typeName:O.ZodNull,...F(t)});class gr extends B{constructor(){super(...arguments),this._any=!0}_parse(e){return me(e.data)}}gr.create=t=>new gr({typeName:O.ZodAny,...F(t)});class Je extends B{constructor(){super(...arguments),this._unknown=!0}_parse(e){return me(e.data)}}Je.create=t=>new Je({typeName:O.ZodUnknown,...F(t)});class Ie extends B{_parse(e){const r=this._getOrReturnCtx(e);return C(r,{code:x.invalid_type,expected:N.never,received:r.parsedType}),I}}Ie.create=t=>new Ie({typeName:O.ZodNever,...F(t)});class vr extends B{_parse(e){if(this._getType(e)!==N.undefined){const s=this._getOrReturnCtx(e);return C(s,{code:x.invalid_type,expected:N.void,received:s.parsedType}),I}return me(e.data)}}vr.create=t=>new vr({typeName:O.ZodVoid,...F(t)});class Se extends B{_parse(e){const{ctx:r,status:s}=this._processInputParams(e),n=this._def;if(r.parsedType!==N.array)return C(r,{code:x.invalid_type,expected:N.array,received:r.parsedType}),I;if(n.exactLength!==null){const o=r.data.length>n.exactLength.value,i=r.data.length<n.exactLength.value;(o||i)&&(C(r,{code:o?x.too_big:x.too_small,minimum:i?n.exactLength.value:void 0,maximum:o?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),s.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(C(r,{code:x.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),s.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(C(r,{code:x.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),s.dirty()),r.common.async)return Promise.all([...r.data].map((o,i)=>n.type._parseAsync(new Ne(r,o,r.path,i)))).then(o=>fe.mergeArray(s,o));const a=[...r.data].map((o,i)=>n.type._parseSync(new Ne(r,o,r.path,i)));return fe.mergeArray(s,a)}get element(){return this._def.type}min(e,r){return new Se({...this._def,minLength:{value:e,message:A.toString(r)}})}max(e,r){return new Se({...this._def,maxLength:{value:e,message:A.toString(r)}})}length(e,r){return new Se({...this._def,exactLength:{value:e,message:A.toString(r)}})}nonempty(e){return this.min(1,e)}}Se.create=(t,e)=>new Se({type:t,minLength:null,maxLength:null,exactLength:null,typeName:O.ZodArray,...F(e)});function Ye(t){if(t instanceof X){const e={};for(const r in t.shape){const s=t.shape[r];e[r]=Re.create(Ye(s))}return new X({...t._def,shape:()=>e})}else return t instanceof Se?new Se({...t._def,type:Ye(t.element)}):t instanceof Re?Re.create(Ye(t.unwrap())):t instanceof qe?qe.create(Ye(t.unwrap())):t instanceof Ee?Ee.create(t.items.map(e=>Ye(e))):t}class X extends B{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=U.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==N.object){const u=this._getOrReturnCtx(e);return C(u,{code:x.invalid_type,expected:N.object,received:u.parsedType}),I}const{status:s,ctx:n}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof Ie&&this._def.unknownKeys==="strip"))for(const u in n.data)o.includes(u)||i.push(u);const d=[];for(const u of o){const h=a[u],v=n.data[u];d.push({key:{status:"valid",value:u},value:h._parse(new Ne(n,v,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Ie){const u=this._def.unknownKeys;if(u==="passthrough")for(const h of i)d.push({key:{status:"valid",value:h},value:{status:"valid",value:n.data[h]}});else if(u==="strict")i.length>0&&(C(n,{code:x.unrecognized_keys,keys:i}),s.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const h of i){const v=n.data[h];d.push({key:{status:"valid",value:h},value:u._parse(new Ne(n,v,n.path,h)),alwaysSet:h in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const h of d){const v=await h.key,g=await h.value;u.push({key:v,value:g,alwaysSet:h.alwaysSet})}return u}).then(u=>fe.mergeObjectSync(s,u)):fe.mergeObjectSync(s,d)}get shape(){return this._def.shape()}strict(e){return A.errToObj,new X({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,s)=>{var n,a,o,i;const d=(o=(a=(n=this._def).errorMap)===null||a===void 0?void 0:a.call(n,r,s).message)!==null&&o!==void 0?o:s.defaultError;return r.code==="unrecognized_keys"?{message:(i=A.errToObj(e).message)!==null&&i!==void 0?i:d}:{message:d}}}:{}})}strip(){return new X({...this._def,unknownKeys:"strip"})}passthrough(){return new X({...this._def,unknownKeys:"passthrough"})}extend(e){return new X({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new X({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:O.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new X({...this._def,catchall:e})}pick(e){const r={};return U.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(r[s]=this.shape[s])}),new X({...this._def,shape:()=>r})}omit(e){const r={};return U.objectKeys(this.shape).forEach(s=>{e[s]||(r[s]=this.shape[s])}),new X({...this._def,shape:()=>r})}deepPartial(){return Ye(this)}partial(e){const r={};return U.objectKeys(this.shape).forEach(s=>{const n=this.shape[s];e&&!e[s]?r[s]=n:r[s]=n.optional()}),new X({...this._def,shape:()=>r})}required(e){const r={};return U.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])r[s]=this.shape[s];else{let a=this.shape[s];for(;a instanceof Re;)a=a._def.innerType;r[s]=a}}),new X({...this._def,shape:()=>r})}keyof(){return Bn(U.objectKeys(this.shape))}}X.create=(t,e)=>new X({shape:()=>t,unknownKeys:"strip",catchall:Ie.create(),typeName:O.ZodObject,...F(e)});X.strictCreate=(t,e)=>new X({shape:()=>t,unknownKeys:"strict",catchall:Ie.create(),typeName:O.ZodObject,...F(e)});X.lazycreate=(t,e)=>new X({shape:t,unknownKeys:"strip",catchall:Ie.create(),typeName:O.ZodObject,...F(e)});class Ot extends B{_parse(e){const{ctx:r}=this._processInputParams(e),s=this._def.options;function n(a){for(const i of a)if(i.result.status==="valid")return i.result;for(const i of a)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const o=a.map(i=>new _e(i.ctx.common.issues));return C(r,{code:x.invalid_union,unionErrors:o}),I}if(r.common.async)return Promise.all(s.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(n);{let a;const o=[];for(const d of s){const u={...r,common:{...r.common,issues:[]},parent:null},h=d._parseSync({data:r.data,path:r.path,parent:u});if(h.status==="valid")return h;h.status==="dirty"&&!a&&(a={result:h,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const i=o.map(d=>new _e(d));return C(r,{code:x.invalid_union,unionErrors:i}),I}}get options(){return this._def.options}}Ot.create=(t,e)=>new Ot({options:t,typeName:O.ZodUnion,...F(e)});const Ae=t=>t instanceof Vt?Ae(t.schema):t instanceof De?Ae(t.innerType()):t instanceof Ft?[t.value]:t instanceof Ge?t.options:t instanceof Lt?U.objectValues(t.enum):t instanceof $t?Ae(t._def.innerType):t instanceof Dt?[void 0]:t instanceof Pt?[null]:t instanceof Re?[void 0,...Ae(t.unwrap())]:t instanceof qe?[null,...Ae(t.unwrap())]:t instanceof Un||t instanceof zt?Ae(t.unwrap()):t instanceof Zt?Ae(t._def.innerType):[];class Mr extends B{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.object)return C(r,{code:x.invalid_type,expected:N.object,received:r.parsedType}),I;const s=this.discriminator,n=r.data[s],a=this.optionsMap.get(n);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(C(r,{code:x.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),I)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,s){const n=new Map;for(const a of r){const o=Ae(a.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of o){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,a)}}return new Mr({typeName:O.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...F(s)})}}function yr(t,e){const r=Oe(t),s=Oe(e);if(t===e)return{valid:!0,data:t};if(r===N.object&&s===N.object){const n=U.objectKeys(e),a=U.objectKeys(t).filter(i=>n.indexOf(i)!==-1),o={...t,...e};for(const i of a){const d=yr(t[i],e[i]);if(!d.valid)return{valid:!1};o[i]=d.data}return{valid:!0,data:o}}else if(r===N.array&&s===N.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let a=0;a<t.length;a++){const o=t[a],i=e[a],d=yr(o,i);if(!d.valid)return{valid:!1};n.push(d.data)}return{valid:!0,data:n}}else return r===N.date&&s===N.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Mt extends B{_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=(a,o)=>{if(fs(a)||fs(o))return I;const i=yr(a.value,o.value);return i.valid?((hs(a)||hs(o))&&r.dirty(),{status:r.value,value:i.data}):(C(s,{code:x.invalid_intersection_types}),I)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([a,o])=>n(a,o)):n(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Mt.create=(t,e,r)=>new Mt({left:t,right:e,typeName:O.ZodIntersection,...F(r)});class Ee extends B{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==N.array)return C(s,{code:x.invalid_type,expected:N.array,received:s.parsedType}),I;if(s.data.length<this._def.items.length)return C(s,{code:x.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),I;!this._def.rest&&s.data.length>this._def.items.length&&(C(s,{code:x.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...s.data].map((o,i)=>{const d=this._def.items[i]||this._def.rest;return d?d._parse(new Ne(s,o,s.path,i)):null}).filter(o=>!!o);return s.common.async?Promise.all(a).then(o=>fe.mergeArray(r,o)):fe.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new Ee({...this._def,rest:e})}}Ee.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ee({items:t,typeName:O.ZodTuple,rest:null,...F(e)})};class It extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==N.object)return C(s,{code:x.invalid_type,expected:N.object,received:s.parsedType}),I;const n=[],a=this._def.keyType,o=this._def.valueType;for(const i in s.data)n.push({key:a._parse(new Ne(s,i,s.path,i)),value:o._parse(new Ne(s,s.data[i],s.path,i)),alwaysSet:i in s.data});return s.common.async?fe.mergeObjectAsync(r,n):fe.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,s){return r instanceof B?new It({keyType:e,valueType:r,typeName:O.ZodRecord,...F(s)}):new It({keyType:je.create(),valueType:e,typeName:O.ZodRecord,...F(r)})}}class xr extends B{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==N.map)return C(s,{code:x.invalid_type,expected:N.map,received:s.parsedType}),I;const n=this._def.keyType,a=this._def.valueType,o=[...s.data.entries()].map(([i,d],u)=>({key:n._parse(new Ne(s,i,s.path,[u,"key"])),value:a._parse(new Ne(s,d,s.path,[u,"value"]))}));if(s.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const d of o){const u=await d.key,h=await d.value;if(u.status==="aborted"||h.status==="aborted")return I;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),i.set(u.value,h.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const d of o){const u=d.key,h=d.value;if(u.status==="aborted"||h.status==="aborted")return I;(u.status==="dirty"||h.status==="dirty")&&r.dirty(),i.set(u.value,h.value)}return{status:r.value,value:i}}}}xr.create=(t,e,r)=>new xr({valueType:e,keyType:t,typeName:O.ZodMap,...F(r)});class tt extends B{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.parsedType!==N.set)return C(s,{code:x.invalid_type,expected:N.set,received:s.parsedType}),I;const n=this._def;n.minSize!==null&&s.data.size<n.minSize.value&&(C(s,{code:x.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&s.data.size>n.maxSize.value&&(C(s,{code:x.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const a=this._def.valueType;function o(d){const u=new Set;for(const h of d){if(h.status==="aborted")return I;h.status==="dirty"&&r.dirty(),u.add(h.value)}return{status:r.value,value:u}}const i=[...s.data.values()].map((d,u)=>a._parse(new Ne(s,d,s.path,u)));return s.common.async?Promise.all(i).then(d=>o(d)):o(i)}min(e,r){return new tt({...this._def,minSize:{value:e,message:A.toString(r)}})}max(e,r){return new tt({...this._def,maxSize:{value:e,message:A.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}tt.create=(t,e)=>new tt({valueType:t,minSize:null,maxSize:null,typeName:O.ZodSet,...F(e)});class pt extends B{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.function)return C(r,{code:x.invalid_type,expected:N.function,received:r.parsedType}),I;function s(i,d){return mr({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hr(),gt].filter(u=>!!u),issueData:{code:x.invalid_arguments,argumentsError:d}})}function n(i,d){return mr({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,hr(),gt].filter(u=>!!u),issueData:{code:x.invalid_return_type,returnTypeError:d}})}const a={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof vt){const i=this;return me(async function(...d){const u=new _e([]),h=await i._def.args.parseAsync(d,a).catch(j=>{throw u.addIssue(s(d,j)),u}),v=await Reflect.apply(o,this,h);return await i._def.returns._def.type.parseAsync(v,a).catch(j=>{throw u.addIssue(n(v,j)),u})})}else{const i=this;return me(function(...d){const u=i._def.args.safeParse(d,a);if(!u.success)throw new _e([s(d,u.error)]);const h=Reflect.apply(o,this,u.data),v=i._def.returns.safeParse(h,a);if(!v.success)throw new _e([n(h,v.error)]);return v.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new pt({...this._def,args:Ee.create(e).rest(Je.create())})}returns(e){return new pt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,s){return new pt({args:e||Ee.create([]).rest(Je.create()),returns:r||Je.create(),typeName:O.ZodFunction,...F(s)})}}class Vt extends B{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Vt.create=(t,e)=>new Vt({getter:t,typeName:O.ZodLazy,...F(e)});class Ft extends B{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return C(r,{received:r.data,code:x.invalid_literal,expected:this._def.value}),I}return{status:"valid",value:e.data}}get value(){return this._def.value}}Ft.create=(t,e)=>new Ft({value:t,typeName:O.ZodLiteral,...F(e)});function Bn(t,e){return new Ge({values:t,typeName:O.ZodEnum,...F(e)})}class Ge extends B{constructor(){super(...arguments),dt.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),s=this._def.values;return C(r,{expected:U.joinValues(s),received:r.parsedType,code:x.invalid_type}),I}if(Rt(this,dt)||$n(this,dt,new Set(this._def.values)),!Rt(this,dt).has(e.data)){const r=this._getOrReturnCtx(e),s=this._def.values;return C(r,{received:r.data,code:x.invalid_enum_value,options:s}),I}return me(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Ge.create(e,{...this._def,...r})}exclude(e,r=this._def){return Ge.create(this.options.filter(s=>!e.includes(s)),{...this._def,...r})}}dt=new WeakMap;Ge.create=Bn;class Lt extends B{constructor(){super(...arguments),ut.set(this,void 0)}_parse(e){const r=U.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==N.string&&s.parsedType!==N.number){const n=U.objectValues(r);return C(s,{expected:U.joinValues(n),received:s.parsedType,code:x.invalid_type}),I}if(Rt(this,ut)||$n(this,ut,new Set(U.getValidEnumValues(this._def.values))),!Rt(this,ut).has(e.data)){const n=U.objectValues(r);return C(s,{received:s.data,code:x.invalid_enum_value,options:n}),I}return me(e.data)}get enum(){return this._def.values}}ut=new WeakMap;Lt.create=(t,e)=>new Lt({values:t,typeName:O.ZodNativeEnum,...F(e)});class vt extends B{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==N.promise&&r.common.async===!1)return C(r,{code:x.invalid_type,expected:N.promise,received:r.parsedType}),I;const s=r.parsedType===N.promise?r.data:Promise.resolve(r.data);return me(s.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}vt.create=(t,e)=>new vt({type:t,typeName:O.ZodPromise,...F(e)});class De extends B{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===O.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:s}=this._processInputParams(e),n=this._def.effect||null,a={addIssue:o=>{C(s,o),o.fatal?r.abort():r.dirty()},get path(){return s.path}};if(a.addIssue=a.addIssue.bind(a),n.type==="preprocess"){const o=n.transform(s.data,a);if(s.common.async)return Promise.resolve(o).then(async i=>{if(r.value==="aborted")return I;const d=await this._def.schema._parseAsync({data:i,path:s.path,parent:s});return d.status==="aborted"?I:d.status==="dirty"||r.value==="dirty"?ct(d.value):d});{if(r.value==="aborted")return I;const i=this._def.schema._parseSync({data:o,path:s.path,parent:s});return i.status==="aborted"?I:i.status==="dirty"||r.value==="dirty"?ct(i.value):i}}if(n.type==="refinement"){const o=i=>{const d=n.refinement(i,a);if(s.common.async)return Promise.resolve(d);if(d instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(s.common.async===!1){const i=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?I:(i.status==="dirty"&&r.dirty(),o(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(i=>i.status==="aborted"?I:(i.status==="dirty"&&r.dirty(),o(i.value).then(()=>({status:r.value,value:i.value}))))}if(n.type==="transform")if(s.common.async===!1){const o=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Qe(o))return o;const i=n.transform(o.value,a);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(o=>Qe(o)?Promise.resolve(n.transform(o.value,a)).then(i=>({status:r.value,value:i})):o);U.assertNever(n)}}De.create=(t,e,r)=>new De({schema:t,typeName:O.ZodEffects,effect:e,...F(r)});De.createWithPreprocess=(t,e,r)=>new De({schema:e,effect:{type:"preprocess",transform:t},typeName:O.ZodEffects,...F(r)});class Re extends B{_parse(e){return this._getType(e)===N.undefined?me(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Re.create=(t,e)=>new Re({innerType:t,typeName:O.ZodOptional,...F(e)});class qe extends B{_parse(e){return this._getType(e)===N.null?me(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}qe.create=(t,e)=>new qe({innerType:t,typeName:O.ZodNullable,...F(e)});class $t extends B{_parse(e){const{ctx:r}=this._processInputParams(e);let s=r.data;return r.parsedType===N.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}$t.create=(t,e)=>new $t({innerType:t,typeName:O.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...F(e)});class Zt extends B{_parse(e){const{ctx:r}=this._processInputParams(e),s={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return At(n)?n.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new _e(s.common.issues)},input:s.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new _e(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Zt.create=(t,e)=>new Zt({innerType:t,typeName:O.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...F(e)});class _r extends B{_parse(e){if(this._getType(e)!==N.nan){const s=this._getOrReturnCtx(e);return C(s,{code:x.invalid_type,expected:N.nan,received:s.parsedType}),I}return{status:"valid",value:e.data}}}_r.create=t=>new _r({typeName:O.ZodNaN,...F(t)});class Un extends B{_parse(e){const{ctx:r}=this._processInputParams(e),s=r.data;return this._def.type._parse({data:s,path:r.path,parent:r})}unwrap(){return this._def.type}}class Yt extends B{_parse(e){const{status:r,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return a.status==="aborted"?I:a.status==="dirty"?(r.dirty(),ct(a.value)):this._def.out._parseAsync({data:a.value,path:s.path,parent:s})})();{const n=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return n.status==="aborted"?I:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:s.path,parent:s})}}static create(e,r){return new Yt({in:e,out:r,typeName:O.ZodPipeline})}}class zt extends B{_parse(e){const r=this._def.innerType._parse(e),s=n=>(Qe(n)&&(n.value=Object.freeze(n.value)),n);return At(r)?r.then(n=>s(n)):s(r)}unwrap(){return this._def.innerType}}zt.create=(t,e)=>new zt({innerType:t,typeName:O.ZodReadonly,...F(e)});X.lazycreate;var O;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(O||(O={}));const lr=je.create,Xi=We.create;_r.create;He.create;const Ji=Et.create;et.create;pr.create;Dt.create;Pt.create;gr.create;Je.create;Ie.create;vr.create;Se.create;const Qi=X.create;X.strictCreate;Ot.create;Mr.create;Mt.create;Ee.create;It.create;xr.create;tt.create;pt.create;Vt.create;Ft.create;const el=Ge.create;Lt.create;vt.create;De.create;Re.create;qe.create;De.createWithPreprocess;Yt.create;const wt={string:t=>je.create({...t,coerce:!0}),number:t=>We.create({...t,coerce:!0}),boolean:t=>Et.create({...t,coerce:!0}),bigint:t=>He.create({...t,coerce:!0}),date:t=>et.create({...t,coerce:!0})},tl=Qi({date:lr().min(1,"Date is required"),muscleGroup:lr().min(1,"Muscle group is required"),exercise:lr().min(1,"Exercise is required"),reps:wt.number().min(1,"Reps must be at least 1"),weight:wt.number().min(0,"Weight must be non-negative"),rating:wt.number().min(1,"Rating must be between 1-10").max(10,"Rating must be between 1-10"),restTime:wt.number().min(0,"Rest time must be non-negative").nullable(),rowIndex:Xi().optional(),isSynced:Ji().optional().default(!1),pendingAction:el(["add","update","delete"]).nullable().optional().default("add")}),ps=({value:t,onChange:e,suggestions:r,placeholder:s,className:n})=>{const[a,o]=m.useState(!1),[i,d]=m.useState([]),[u,h]=m.useState(-1),v=m.useRef(null),g=m.useRef(null),j=m.useRef(null),P=m.useRef(!0),E=()=>{P.current&&(o(!1),d([]),h(-1),j.current&&(clearTimeout(j.current),j.current=null))};m.useEffect(()=>(P.current=!0,E(),()=>{P.current=!1,j.current&&clearTimeout(j.current)}),[]),m.useEffect(()=>{if(P.current){if(t&&t.trim()){const y=r.filter(M=>M.toLowerCase().includes(t.toLowerCase()));d(y),document.activeElement===v.current&&o(y.length>0)}else d([]),o(!1);h(-1)}},[t,r]);const D=y=>{e(y.target.value)},R=y=>{var M;e(y),E(),(M=v.current)==null||M.blur()},k=y=>{var M;if(a)switch(y.key){case"ArrowDown":y.preventDefault(),h(Y=>Y<i.length-1?Y+1:Y);break;case"ArrowUp":y.preventDefault(),h(Y=>Y>0?Y-1:-1);break;case"Enter":y.preventDefault(),u>=0?R(i[u]):E();break;case"Escape":y.preventDefault(),E(),(M=v.current)==null||M.blur();break}},V=()=>{j.current=setTimeout(()=>{E()},200)},L=()=>{if(j.current&&(clearTimeout(j.current),j.current=null),t&&t.trim()){const y=r.filter(M=>M.toLowerCase().includes(t.toLowerCase()));y.length>0&&(d(y),o(!0))}};return l.jsxs("div",{className:"relative",children:[l.jsx(Xe,{ref:v,value:t,onChange:D,onKeyDown:k,onBlur:V,onFocus:L,placeholder:s,className:n}),a&&i.length>0&&l.jsx("ul",{ref:g,className:"absolute z-50 w-full mt-1 bg-background border border-border rounded-md shadow-lg max-h-60 overflow-auto",onMouseDown:y=>{y.preventDefault()},children:i.map((y,M)=>l.jsx("li",{onMouseDown:Y=>{Y.preventDefault(),R(y)},className:z("px-3 py-2 cursor-pointer text-foreground hover:bg-muted transition-colors",u===M&&"bg-muted"),children:y},y))})]})},rl=({isOpen:t,onClose:e,editEntry:r=null})=>{const[s,n]=m.useState(0),{addWorkoutLog:a,editWorkoutLog:o}=xs(),{exerciseGroups:i,fetchExercises:d,getExercisesByMuscleGroup:u,getMuscleGroupsByExercise:h,getAllUniqueExerciseNames:v}=wa(),g=Qo({resolver:Ni(tl),defaultValues:{date:new Date().toISOString().split("T")[0],muscleGroup:"",exercise:"",reps:1,weight:0,rating:5,restTime:null,rowIndex:void 0,isSynced:!1,pendingAction:"add"}}),j=()=>{g.reset({date:new Date().toISOString().split("T")[0],muscleGroup:"",exercise:"",reps:1,weight:0,rating:5,restTime:null,rowIndex:void 0,isSynced:!1,pendingAction:"add"}),n(y=>y+1),e()};m.useEffect(()=>{t&&i.length===0&&d()},[t,i.length,d]),m.useEffect(()=>{t?n(y=>y+1):setTimeout(()=>{g.reset({date:new Date().toISOString().split("T")[0],muscleGroup:"",exercise:"",reps:1,weight:0,rating:5,restTime:null,rowIndex:void 0,isSynced:!1,pendingAction:"add"}),n(y=>y+1)},50)},[t,g]),m.useEffect(()=>{r?g.reset({date:r.date,muscleGroup:r.muscleGroup,exercise:r.exercise,reps:r.reps,weight:r.weight,rating:r.rating,restTime:r.restTime}):g.reset({muscleGroup:"",exercise:"",reps:1,weight:0,rating:5,restTime:null,date:new Date().toISOString().split("T")[0]})},[r,g]);const P=g.watch("muscleGroup"),E=g.watch("exercise"),D=i.map(y=>y.muscleGroup),R=P?u(P):v(),k=y=>{g.setValue("muscleGroup",y),E&&(h(E).includes(y)||g.setValue("exercise",""))},V=y=>{if(g.setValue("exercise",y),P){const M=h(y);M.includes(P)||M.length>0&&g.setValue("muscleGroup",M[0])}else{const M=h(y);M.length>0&&g.setValue("muscleGroup",M[0])}},L=async y=>{try{const M={date:y.date,muscleGroup:y.muscleGroup,exercise:y.exercise,reps:y.reps,weight:y.weight,rating:y.rating,restTime:y.restTime};if(r&&"id"in r&&r.id){const Y={id:r.id,...M,...r.rowIndex!==void 0&&{rowIndex:r.rowIndex},isSynced:r.isSynced??!1,pendingAction:"update"};await o(Y)}else await a(M);g.reset(),e()}catch(M){console.error("Failed to save workout log:",M)}};return l.jsx(No,{open:t,onOpenChange:y=>{y||j()},children:l.jsxs(Ro,{className:"sm:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[l.jsx(Eo,{children:l.jsx(Po,{children:r&&"id"in r?"Edit Workout Log":"Add New Workout Log"})}),l.jsx(si,{...g,children:l.jsxs("form",{onSubmit:g.handleSubmit(L),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx(Fe,{control:g.control,name:"date",render:({field:y})=>l.jsxs(Le,{className:"col-span-full",children:[l.jsx($e,{children:"Date"}),l.jsx(Ze,{children:l.jsx(Xe,{type:"date",...y})}),l.jsx(ze,{})]})}),l.jsx(Fe,{control:g.control,name:"muscleGroup",render:({field:y})=>l.jsxs(Le,{children:[l.jsx($e,{children:"Muscle Group"}),"                    ",l.jsx(Ze,{children:l.jsx(ps,{value:y.value,onChange:k,suggestions:D,placeholder:"Type or select muscle group..."},`muscle-group-${s}`)}),l.jsx(ze,{})]})}),l.jsx(Fe,{control:g.control,name:"exercise",render:({field:y})=>l.jsxs(Le,{children:[l.jsx($e,{children:"Exercise"}),"                    ",l.jsx(Ze,{children:l.jsx(ps,{value:y.value,onChange:V,suggestions:R,placeholder:"Type or select exercise..."},`exercise-${s}`)}),l.jsx(ze,{})]})}),l.jsx(Fe,{control:g.control,name:"reps",render:({field:y})=>l.jsxs(Le,{children:[l.jsx($e,{children:"Reps"}),l.jsx(Ze,{children:l.jsx(Xe,{type:"number",min:"1",max:"1000",...y,onChange:M=>y.onChange(Number(M.target.value))})}),l.jsx(ze,{})]})}),l.jsx(Fe,{control:g.control,name:"weight",render:({field:y})=>l.jsxs(Le,{children:[l.jsx($e,{children:"Weight (lbs)"}),l.jsx(Ze,{children:l.jsx(Xe,{type:"number",min:"0",step:"0.5",...y,onChange:M=>y.onChange(Number(M.target.value))})}),l.jsx(ze,{})]})}),l.jsx(Fe,{control:g.control,name:"restTime",render:({field:y})=>l.jsxs(Le,{children:[l.jsx($e,{children:"Rest Time (seconds)"}),l.jsx(Ze,{children:l.jsx(Xe,{type:"number",min:"0",max:"600",value:y.value??"",onChange:M=>y.onChange(M.target.value?Number(M.target.value):null)})}),l.jsx(ze,{})]})})]}),l.jsx(Fe,{control:g.control,name:"rating",render:({field:y})=>l.jsxs(Le,{children:[l.jsx($e,{children:"Rating (1-10)"}),l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx(Ze,{children:l.jsx(ki,{min:1,max:10,step:1,value:[y.value],onValueChange:M=>y.onChange(M[0]),className:"flex-1"})}),l.jsx("span",{className:"text-lg font-semibold w-8 text-center",children:y.value})]}),l.jsx(ze,{})]})}),l.jsxs(Do,{children:[l.jsx(he,{type:"button",variant:"outline",onClick:j,children:"Cancel"}),"              ",l.jsxs(he,{type:"submit",children:[r&&"id"in r?"Update":"Add"," Workout"]})]})]})})]})})},sl=()=>{const[t,e]=m.useState(!1),[r,s]=m.useState();m.useEffect(()=>{const a=o=>{console.log("GlobalWorkoutModal: Opening from event"),s(o.detail),e(!0)};return window.addEventListener("open-add-workout-modal",a),window.addEventListener("open-log-modal",a),window.location.hash==="#add-workout"&&(e(!0),window.location.hash=""),()=>{window.removeEventListener("open-add-workout-modal",a),window.removeEventListener("open-log-modal",a)}},[]);const n=()=>{e(!1),s(void 0)};return l.jsx(rl,{isOpen:t,onClose:n,editEntry:r})},nl=G.memo(({className:t,variant:e="outline"})=>{const{themeMode:r,toggleTheme:s}=Sa();return l.jsxs(he,{variant:e,size:"icon",onClick:s,className:z("rounded-full transition-all hover:scale-110 focus-visible:scale-110 hover:bg-primary/10 hover:text-primary",t),"aria-label":`Switch to ${r==="light"?"dark":"light"} mode`,children:[l.jsxs("div",{className:"relative w-5 h-5 overflow-hidden",children:[l.jsx(Na,{className:z("h-5 w-5 absolute top-0 left-0 transition-all duration-300",r==="light"?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100")}),l.jsx(Ta,{className:z("h-5 w-5 absolute top-0 left-0 transition-all duration-300",r==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-0")})]}),l.jsx("span",{className:"sr-only",children:"Toggle theme"})]})});var[Xt,sc]=Ut("Tooltip",[Wt]),Jt=Wt(),Wn="TooltipProvider",al=700,br="tooltip.open",[ol,Ir]=Xt(Wn),Hn=t=>{const{__scopeTooltip:e,delayDuration:r=al,skipDelayDuration:s=300,disableHoverableContent:n=!1,children:a}=t,o=m.useRef(!0),i=m.useRef(!1),d=m.useRef(0);return m.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),l.jsx(ol,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:m.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:i,onPointerInTransitChange:m.useCallback(u=>{i.current=u},[]),disableHoverableContent:n,children:a})};Hn.displayName=Wn;var yt="Tooltip",[il,Qt]=Xt(yt),Gn=t=>{const{__scopeTooltip:e,children:r,open:s,defaultOpen:n,onOpenChange:a,disableHoverableContent:o,delayDuration:i}=t,d=Ir(yt,t.__scopeTooltip),u=Jt(e),[h,v]=m.useState(null),g=ft(),j=m.useRef(0),P=o??d.disableHoverableContent,E=i??d.delayDuration,D=m.useRef(!1),[R,k]=Bt({prop:s,defaultProp:n??!1,onChange:Y=>{Y?(d.onOpen(),document.dispatchEvent(new CustomEvent(br))):d.onClose(),a==null||a(Y)},caller:yt}),V=m.useMemo(()=>R?D.current?"delayed-open":"instant-open":"closed",[R]),L=m.useCallback(()=>{window.clearTimeout(j.current),j.current=0,D.current=!1,k(!0)},[k]),y=m.useCallback(()=>{window.clearTimeout(j.current),j.current=0,k(!1)},[k]),M=m.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>{D.current=!0,k(!0),j.current=0},E)},[E,k]);return m.useEffect(()=>()=>{j.current&&(window.clearTimeout(j.current),j.current=0)},[]),l.jsx(Ts,{...u,children:l.jsx(il,{scope:e,contentId:g,open:R,stateAttribute:V,trigger:h,onTriggerChange:v,onTriggerEnter:m.useCallback(()=>{d.isOpenDelayedRef.current?M():L()},[d.isOpenDelayedRef,M,L]),onTriggerLeave:m.useCallback(()=>{P?y():(window.clearTimeout(j.current),j.current=0)},[y,P]),onOpen:L,onClose:y,disableHoverableContent:P,children:r})})};Gn.displayName=yt;var wr="TooltipTrigger",qn=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=Qt(wr,r),a=Ir(wr,r),o=Jt(r),i=m.useRef(null),d=ye(e,i,n.onTriggerChange),u=m.useRef(!1),h=m.useRef(!1),v=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",v),[v]),l.jsx(Cr,{asChild:!0,...o,children:l.jsx(pe.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...s,ref:d,onPointerMove:J(t.onPointerMove,g=>{g.pointerType!=="touch"&&!h.current&&!a.isPointerInTransitRef.current&&(n.onTriggerEnter(),h.current=!0)}),onPointerLeave:J(t.onPointerLeave,()=>{n.onTriggerLeave(),h.current=!1}),onPointerDown:J(t.onPointerDown,()=>{n.open&&n.onClose(),u.current=!0,document.addEventListener("pointerup",v,{once:!0})}),onFocus:J(t.onFocus,()=>{u.current||n.onOpen()}),onBlur:J(t.onBlur,n.onClose),onClick:J(t.onClick,n.onClose)})})});qn.displayName=wr;var ll="TooltipPortal",[nc,cl]=Xt(ll,{forceMount:void 0}),rt="TooltipContent",Kn=m.forwardRef((t,e)=>{const r=cl(rt,t.__scopeTooltip),{forceMount:s=r.forceMount,side:n="top",...a}=t,o=Qt(rt,t.__scopeTooltip);return l.jsx(nt,{present:s||o.open,children:o.disableHoverableContent?l.jsx(Yn,{side:n,...a,ref:e}):l.jsx(dl,{side:n,...a,ref:e})})}),dl=m.forwardRef((t,e)=>{const r=Qt(rt,t.__scopeTooltip),s=Ir(rt,t.__scopeTooltip),n=m.useRef(null),a=ye(e,n),[o,i]=m.useState(null),{trigger:d,onClose:u}=r,h=n.current,{onPointerInTransitChange:v}=s,g=m.useCallback(()=>{i(null),v(!1)},[v]),j=m.useCallback((P,E)=>{const D=P.currentTarget,R={x:P.clientX,y:P.clientY},k=pl(R,D.getBoundingClientRect()),V=gl(R,k),L=vl(E.getBoundingClientRect()),y=xl([...V,...L]);i(y),v(!0)},[v]);return m.useEffect(()=>()=>g(),[g]),m.useEffect(()=>{if(d&&h){const P=D=>j(D,h),E=D=>j(D,d);return d.addEventListener("pointerleave",P),h.addEventListener("pointerleave",E),()=>{d.removeEventListener("pointerleave",P),h.removeEventListener("pointerleave",E)}}},[d,h,j,g]),m.useEffect(()=>{if(o){const P=E=>{const D=E.target,R={x:E.clientX,y:E.clientY},k=(d==null?void 0:d.contains(D))||(h==null?void 0:h.contains(D)),V=!yl(R,o);k?g():V&&(g(),u())};return document.addEventListener("pointermove",P),()=>document.removeEventListener("pointermove",P)}},[d,h,o,u,g]),l.jsx(Yn,{...t,ref:a})}),[ul,fl]=Xt(yt,{isInside:!1}),hl=ka("TooltipContent"),Yn=m.forwardRef((t,e)=>{const{__scopeTooltip:r,children:s,"aria-label":n,onEscapeKeyDown:a,onPointerDownOutside:o,...i}=t,d=Qt(rt,r),u=Jt(r),{onClose:h}=d;return m.useEffect(()=>(document.addEventListener(br,h),()=>document.removeEventListener(br,h)),[h]),m.useEffect(()=>{if(d.trigger){const v=g=>{const j=g.target;j!=null&&j.contains(d.trigger)&&h()};return window.addEventListener("scroll",v,{capture:!0}),()=>window.removeEventListener("scroll",v,{capture:!0})}},[d.trigger,h]),l.jsx(kr,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:v=>v.preventDefault(),onDismiss:h,children:l.jsxs(As,{"data-state":d.stateAttribute,...u,...i,ref:e,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(hl,{children:s}),l.jsx(ul,{scope:r,isInside:!0,children:l.jsx(Va,{id:d.contentId,role:"tooltip",children:n||s})})]})})});Kn.displayName=rt;var Xn="TooltipArrow",ml=m.forwardRef((t,e)=>{const{__scopeTooltip:r,...s}=t,n=Jt(r);return fl(Xn,r).isInside?null:l.jsx(Rs,{...n,...s,ref:e})});ml.displayName=Xn;function pl(t,e){const r=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),n=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,s,n,a)){case a:return"left";case n:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function gl(t,e,r=5){const s=[];switch(e){case"top":s.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":s.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":s.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":s.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return s}function vl(t){const{top:e,right:r,bottom:s,left:n}=t;return[{x:n,y:e},{x:r,y:e},{x:r,y:s},{x:n,y:s}]}function yl(t,e){const{x:r,y:s}=t;let n=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const i=e[a],d=e[o],u=i.x,h=i.y,v=d.x,g=d.y;h>s!=g>s&&r<(v-u)*(s-h)/(g-h)+u&&(n=!n)}return n}function xl(t){const e=t.slice();return e.sort((r,s)=>r.x<s.x?-1:r.x>s.x?1:r.y<s.y?-1:r.y>s.y?1:0),_l(e)}function _l(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const n=t[s];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))e.pop();else break}e.push(n)}e.pop();const r=[];for(let s=t.length-1;s>=0;s--){const n=t[s];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(n.y-o.y)>=(a.y-o.y)*(n.x-o.x))r.pop();else break}r.push(n)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var bl=Hn,wl=Gn,kl=qn,Jn=Kn;const Cl=bl,jl=wl,Sl=kl,Qn=m.forwardRef(({className:t,sideOffset:e=4,...r},s)=>l.jsx(Jn,{ref:s,sideOffset:e,className:z("z-50 overflow-hidden rounded-md bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Qn.displayName=Jn.displayName;function Nl({className:t,icon:e,tooltip:r,position:s="bottom-right",...n}){const a={"bottom-right":"fixed bottom-24 right-4 md:bottom-8 md:right-8","bottom-center":"fixed bottom-24 right-4 md:bottom-8 md:left-1/2 md:-translate-x-1/2"},o=l.jsxs(he,{className:z(a[s],"rounded-full shadow-lg w-14 h-14 p-0 z-50 transition-all hover:scale-110 hover:shadow-xl bg-primary text-primary-foreground hover:bg-primary/90",t),size:"icon",...n,children:["      ",l.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[e,l.jsx("span",{className:"absolute w-full h-full rounded-full animate-ping bg-primary/30 inset-0"}),l.jsx("span",{className:"absolute w-full h-full rounded-full animate-pulse bg-primary/20 inset-0",style:{animationDuration:"1.8s"}})]}),l.jsx("span",{className:"sr-only",children:r||"Action button"})]});return r?l.jsx(Cl,{children:l.jsxs(jl,{delayDuration:300,children:[l.jsx(Sl,{asChild:!0,children:o}),l.jsx(Qn,{children:l.jsx("p",{children:r})})]})}):o}const Tl=({icon:t,label:e,isActive:r,onClick:s})=>l.jsxs("button",{className:z("flex flex-col items-center justify-center flex-1 px-1 py-1.5 sm:px-2 focus:outline-none transition-all duration-200 ease-in-out transform active:scale-95",r?"text-primary":"text-muted-foreground hover:text-foreground"),onClick:s,"aria-label":e,children:[l.jsx("div",{className:z("p-1.5 rounded-full transition-all duration-200 ease-in-out",r?"bg-primary/10 scale-110":"hover:bg-muted/50"),children:t}),l.jsx("span",{className:z("text-[0.6rem] sm:text-xs mt-0.5 font-medium transition-all duration-200 ease-in-out truncate max-w-[4em] sm:max-w-none",r?"scale-105 text-primary":"text-muted-foreground"),children:e})]}),Al=()=>{const{currentView:t,setCurrentView:e}=gs(),{activeWorkout:r}=vs();if(typeof window>"u")return null;const s=[{view:"dashboard",label:"Home",icon:l.jsx(Os,{className:"h-5 w-5 sm:h-6 sm:w-6"})},...r?[{view:"workout",label:"Workout",icon:l.jsx(bs,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}]:[],{view:"workouts",label:"Workouts",icon:l.jsx(Ps,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"templates",label:"Templates",icon:l.jsx(Es,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"muscleFatigue",label:"Fatigue",icon:l.jsx(_s,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"stats",label:"Stats",icon:l.jsx(Ds,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"settings",label:"Settings",icon:l.jsx(Vs,{className:"h-5 w-5 sm:h-6 sm:w-6"})}];return l.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg border-t border-border/60 z-40 flex justify-around items-center h-[var(--bottom-nav-height,60px)] shadow-top transition-transform duration-300 ease-in-out",style:{contain:"layout style paint"},children:s.map(n=>l.jsx(Tl,{icon:n.icon,label:n.label,view:n.view,isActive:t===n.view,onClick:()=>e(n.view)},n.view))})};var er="Popover",[ea,ac]=Ut(er,[Wt]),_t=Wt(),[Rl,Ve]=ea(er),ta=t=>{const{__scopePopover:e,children:r,open:s,defaultOpen:n,onOpenChange:a,modal:o=!1}=t,i=_t(e),d=m.useRef(null),[u,h]=m.useState(!1),[v,g]=Bt({prop:s,defaultProp:n??!1,onChange:a,caller:er});return l.jsx(Ts,{...i,children:l.jsx(Rl,{scope:e,contentId:ft(),triggerRef:d,open:v,onOpenChange:g,onOpenToggle:m.useCallback(()=>g(j=>!j),[g]),hasCustomAnchor:u,onCustomAnchorAdd:m.useCallback(()=>h(!0),[]),onCustomAnchorRemove:m.useCallback(()=>h(!1),[]),modal:o,children:r})})};ta.displayName=er;var ra="PopoverAnchor",El=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,n=Ve(ra,r),a=_t(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:i}=n;return m.useEffect(()=>(o(),()=>i()),[o,i]),l.jsx(Cr,{...a,...s,ref:e})});El.displayName=ra;var sa="PopoverTrigger",na=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,n=Ve(sa,r),a=_t(r),o=ye(e,n.triggerRef),i=l.jsx(pe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":ca(n.open),...s,ref:o,onClick:J(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?i:l.jsx(Cr,{asChild:!0,...a,children:i})});na.displayName=sa;var Vr="PopoverPortal",[Dl,Pl]=ea(Vr,{forceMount:void 0}),aa=t=>{const{__scopePopover:e,forceMount:r,children:s,container:n}=t,a=Ve(Vr,e);return l.jsx(Dl,{scope:e,forceMount:r,children:l.jsx(nt,{present:r||a.open,children:l.jsx(ws,{asChild:!0,container:n,children:s})})})};aa.displayName=Vr;var st="PopoverContent",oa=m.forwardRef((t,e)=>{const r=Pl(st,t.__scopePopover),{forceMount:s=r.forceMount,...n}=t,a=Ve(st,t.__scopePopover);return l.jsx(nt,{present:s||a.open,children:a.modal?l.jsx(Ml,{...n,ref:e}):l.jsx(Il,{...n,ref:e})})});oa.displayName=st;var Ol=ys("PopoverContent.RemoveScroll"),Ml=m.forwardRef((t,e)=>{const r=Ve(st,t.__scopePopover),s=m.useRef(null),n=ye(e,s),a=m.useRef(!1);return m.useEffect(()=>{const o=s.current;if(o)return ks(o)},[]),l.jsx(Cs,{as:Ol,allowPinchZoom:!0,children:l.jsx(ia,{...t,ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),a.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,d=i.button===0&&i.ctrlKey===!0,u=i.button===2||d;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:J(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Il=m.forwardRef((t,e)=>{const r=Ve(st,t.__scopePopover),s=m.useRef(!1),n=m.useRef(!1);return l.jsx(ia,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,i;(o=t.onCloseAutoFocus)==null||o.call(t,a),a.defaultPrevented||(s.current||(i=r.triggerRef.current)==null||i.focus(),a.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:a=>{var d,u;(d=t.onInteractOutside)==null||d.call(t,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const o=a.target;((u=r.triggerRef.current)==null?void 0:u.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&n.current&&a.preventDefault()}})}),ia=m.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:h,...v}=t,g=Ve(st,r),j=_t(r);return js(),l.jsx(Ss,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:a,children:l.jsx(kr,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:h,onEscapeKeyDown:i,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:l.jsx(As,{"data-state":ca(g.open),role:"dialog",id:g.contentId,...j,...v,ref:e,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),la="PopoverClose",Vl=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,n=Ve(la,r);return l.jsx(pe.button,{type:"button",...s,ref:e,onClick:J(t.onClick,()=>n.onOpenChange(!1))})});Vl.displayName=la;var Fl="PopoverArrow",Ll=m.forwardRef((t,e)=>{const{__scopePopover:r,...s}=t,n=_t(r);return l.jsx(Rs,{...n,...s,ref:e})});Ll.displayName=Fl;function ca(t){return t?"open":"closed"}var $l=ta,Zl=na,zl=aa,Bl=oa;function Ul({...t}){return l.jsx($l,{"data-slot":"popover",...t})}function Wl({asChild:t=!0,...e}){return l.jsx(Zl,{"data-slot":"popover-trigger",asChild:t,...e})}function Hl({className:t,align:e="center",sideOffset:r=4,...s}){return l.jsx(zl,{children:l.jsx(Bl,{"data-slot":"popover-content",align:e,sideOffset:r,className:z("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...s})})}const Gl=()=>{const{workoutLogs:t}=xs(),e=m.useMemo(()=>{if(!t||t.length===0)return[];const n=[...t].sort((o,i)=>new Date(i.date).getTime()-new Date(o.date).getTime()),a=new Map;return n.forEach(o=>{const i=`${o.exercise}-${o.muscleGroup}`;a.has(i)||a.set(i,o)}),Array.from(a.values()).slice(0,4)},[t]),r=n=>{const a=new CustomEvent("open-add-workout-modal",{detail:n});window.dispatchEvent(a)},s=n=>{const{id:a,date:o,...i}=n;return{...i,date:new Date().toISOString().split("T")[0]}};return l.jsx("div",{className:"fixed bottom-40 right-4 sm:bottom-22 sm:right-1 md:bottom-8 md:right-28 z-40",children:l.jsxs(Ul,{children:[l.jsx(Wl,{children:l.jsx(he,{className:"h-14 w-14 rounded-full shadow-lg bg-primary hover:bg-secondary/90 text-primary-foreground transition-transform hover:scale-110",variant:"default",title:"Quick Add Recent Exercises",children:l.jsx(Yr,{className:"h-6 w-6"})})}),l.jsxs(Hl,{align:"end",className:"w-80 p-0",children:[l.jsxs("div",{className:"p-4 bg-secondary/10 border-b",children:[l.jsx("h4",{className:"font-medium text-base",children:"Quick Add Exercise"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:"Quickly add a recent exercise to your log"})]}),"          ",e.length>0?l.jsx("div",{className:"max-h-[300px] overflow-auto",children:e.map(n=>l.jsx(Aa,{className:"border-0 rounded-none hover:bg-accent/5 transition-colors",children:l.jsxs(Ra,{className:"p-4 cursor-pointer flex items-center",onClick:()=>r(s(n)),children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-medium text-sm",children:n.exercise}),l.jsx("p",{className:"text-xs text-muted-foreground",children:n.muscleGroup}),l.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-muted-foreground",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Yr,{className:"h-3 w-3"}),n.reps," reps"]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(io,{className:"h-3 w-3"}),n.weight," kg"]})]})]}),l.jsx(he,{size:"sm",variant:"ghost",children:"Add"})]})},`${n.exercise}-${n.id}`))}):l.jsxs("div",{className:"p-4 text-center",children:[l.jsx("p",{className:"text-muted-foreground",children:"No recent exercises found"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Add workouts to see them here for quick access"})]}),l.jsx("div",{className:"p-2 border-t bg-secondary/5",children:l.jsxs(he,{variant:"outline",className:"w-full",onClick:()=>r(),children:[l.jsx(Is,{className:"h-4 w-4 mr-2"}),"New Exercise"]})})]})]})})};async function ql(){console.log("[handleRefreshData] Starting data refresh...");try{navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"CLEAR_API_CACHE",cacheName:"sheets-api-cache"}),console.log("[handleRefreshData] Sent message to SW to clear sheets-api-cache."));const t=Ca.getState();return console.log("[handleRefreshData] Refreshing exercises data..."),await t.fetchExercises(!0),console.log("[handleRefreshData] Refreshing workout logs data..."),await t.fetchWorkoutLogs(!0),console.log("[handleRefreshData] Data refresh completed successfully"),Promise.resolve()}catch(t){return console.error("[handleRefreshData] Error refreshing data:",t),Promise.reject(t)}}const oc=({children:t})=>{const{appStore:e}=ja(),{logout:r,isSidebarCollapsed:s,toggleSidebar:n,setIsSidebarCollapsed:a,currentView:o}=e,[i,d]=m.useState(window.innerWidth<768),[u,h]=m.useState(0),[v,g]=m.useState(!1),[j,P]=m.useState(!1);console.log("Current view:",o),m.useEffect(()=>{const R=()=>{const V=window.innerWidth<768;d(V),V&&a(!0)},k=()=>{if(!i)return;const V=window.scrollY||document.documentElement.scrollTop;V>u&&V>60?g(!0):(V<u||V<10)&&g(!1),h(V)};return window.addEventListener("resize",R),window.addEventListener("scroll",k),R(),()=>{window.removeEventListener("resize",R),window.removeEventListener("scroll",k)}},[a,i,u]);const E=m.useCallback(async()=>{P(!0);const R=ql();Ea.promise(R,{loading:"Refreshing app data...",success:"All data refreshed successfully!",error:k=>`Error refreshing data: ${(k==null?void 0:k.message)||"Unknown error"}`});try{await R,console.log("All data refreshed successfully")}catch(k){console.error("Error refreshing data:",k)}finally{P(!1)}},[]),D=()=>{const R=new CustomEvent("open-add-workout-modal");window.dispatchEvent(R)};return l.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen w-full bg-background text-foreground",children:["      ",l.jsx(Nl,{icon:l.jsx(Is,{className:"h-6 w-6"}),onClick:D,tooltip:"Add Workout Log","aria-label":"Add new workout log",position:i?"bottom-center":"bottom-right",className:"bg-primary text-primary-foreground hover:bg-primary/90 z-50"}),l.jsx(Gl,{}),l.jsx(Al,{}),l.jsx("div",{className:z("fixed top-0 left-0 h-full z-40 transition-all duration-300 ease-in-out hidden md:block",s?"w-[var(--sidebar-collapsed-width,80px)]":"w-[var(--sidebar-width,280px)]"),children:l.jsx(Xr,{isCollapsed:s,toggleSidebar:n})}),l.jsxs("div",{className:z("flex flex-1 flex-col transition-all duration-300 ease-in-out","md:ml-[var(--sidebar-width,280px)]",s&&"md:ml-[var(--sidebar-collapsed-width,80px)]"),children:[l.jsxs("header",{className:z("sticky top-0 z-30 flex h-[var(--header-height,64px)] items-center gap-4 border-b bg-background/70 backdrop-blur-md supports-[backdrop-filter]:bg-background/60 px-4 shadow-sm sm:px-6 transition-transform duration-300",v&&i?"-translate-y-full":"translate-y-0"),children:[i&&l.jsxs(wo,{children:[l.jsx(ko,{asChild:!0,children:l.jsxs(he,{variant:"ghost",size:"icon",className:"shrink-0 rounded-full hover:bg-primary/10 hover:text-primary transition-button duration-base",children:[l.jsx(Ja,{className:"h-5 w-5"}),l.jsx("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),l.jsx(So,{side:"left",className:"p-0 border-r-primary/10 w-[var(--sidebar-width,280px)] md:hidden",children:l.jsx(Xr,{isCollapsed:!1,toggleSidebar:n})})]}),!i&&l.jsx("div",{className:z("overflow-hidden transition-all duration-base ease-in-out flex items-center",s?"max-w-0 opacity-0":"max-w-[220px] opacity-100"),children:l.jsx("h1",{className:"text-xl font-semibold tracking-tight whitespace-nowrap bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Workout Log"})}),l.jsxs("div",{className:"ml-auto flex items-center gap-2 sm:gap-3",children:[l.jsx(nl,{variant:"ghost"}),l.jsxs(he,{variant:"ghost",size:"icon",onClick:E,disabled:j,className:"rounded-full relative hover:bg-primary/10 hover:text-primary transition-button duration-base",title:"Reload App Data",children:[l.jsx(to,{className:z("h-5 w-5",j&&"animate-spin")}),l.jsx("span",{className:"sr-only",children:"Reload App Data"})]}),l.jsxs(he,{variant:"ghost",size:"icon",className:"rounded-full relative hover:bg-primary/10 hover:text-primary transition-button duration-base",children:[l.jsx(La,{className:"h-5 w-5"}),l.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-accent animate-pulse-soft"}),l.jsx("span",{className:"sr-only",children:"Notifications"})]}),l.jsx("div",{className:"hidden sm:flex border-l h-6 mx-1.5 border-border/50"}),l.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[l.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-primary to-accent text-white shadow-sm",children:l.jsx("span",{className:"text-xs font-medium",children:"JD"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold leading-none",children:"Vignesh R"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Premium"})]})]}),l.jsxs(he,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full hover:bg-destructive/10 hover:text-destructive transition-button duration-base",children:[l.jsx(Ms,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Logout"})]})]})]}),l.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden p-2 sm:p-4 md:p-6 lg:p-8 pb-[calc(var(--bottom-nav-height,64px)+1rem)] md:pb-8",children:l.jsxs("div",{className:"mx-auto max-w-full w-full overflow-x-hidden",children:[t,"          "]})})]}),l.jsx(sl,{})]})};export{Wa as C,Ps as D,Xe as I,ri as L,Is as P,Cl as T,Fs as X,jl as a,Sl as b,Qn as c,Ga as d,oc as e,No as f,Ro as g,Eo as h,Po as i,tc as j,Do as k};
//# sourceMappingURL=DashboardLayout-DwOLMz6I.js.map
