import{r as registerNetworkListeners,p as processSyncQueue}from"./db-utils-DgoSxAK8.js";import{r as requireReact,g as getDefaultExportFromCjs}from"./react-vendor-Csw2ODfV.js";function _mergeNamespaces(e,o){for(var i=0;i<o.length;i++){const s=o[i];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var e=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function i(s,n,l){var c=null;if(l!==void 0&&(c=""+l),n.key!==void 0&&(c=""+n.key),"key"in n){l={};for(var u in n)u!=="key"&&(l[u]=n[u])}else l=n;return n=l.ref,{$$typeof:e,type:s,key:c,ref:n!==void 0?n:null,props:l}}return reactJsxRuntime_production.Fragment=o,reactJsxRuntime_production.jsx=i,reactJsxRuntime_production.jsxs=i,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]),scriptRel="modulepreload",assetsURL=function(e,o){return new URL(e,o).href},seen={},__vitePreload=function(o,i,s){let n=Promise.resolve();if(i&&i.length>0){let c=function(g){return Promise.all(g.map(h=>Promise.resolve(h).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};const u=document.getElementsByTagName("link"),p=document.querySelector("meta[property=csp-nonce]"),d=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));n=c(i.map(g=>{if(g=assetsURL(g,s),g in seen)return;seen[g]=!0;const h=g.endsWith(".css"),_=h?'[rel="stylesheet"]':"";if(!!s)for(let M=u.length-1;M>=0;M--){const J=u[M];if(J.href===g&&(!h||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${_}`))return;const k=document.createElement("link");if(k.rel=h?"stylesheet":scriptRel,h||(k.as="script"),k.crossOrigin="",k.href=g,d&&k.setAttribute("nonce",d),document.head.appendChild(k),h)return new Promise((M,J)=>{k.addEventListener("load",M),k.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&l(u.reason);return o().catch(l)})},pwaConfig={installation:{installButtonText:"Install App",installDescription:"Install this app on your device for offline access"},updates:{checkInterval:60*60*1e3}},serviceWorkerOptions={immediate:!0,onNeedRefresh:()=>{const e=new CustomEvent("pwa-update-available",{detail:{updateSW:()=>!0,reloadPage:()=>window.location.reload()}});window.dispatchEvent(e)},onOfflineReady:()=>{const e=new CustomEvent("pwa-offline-ready");window.dispatchEvent(e)},onRegistered:e=>{"pushManager"in e&&console.log("Push notifications supported")},onRegisterError:e=>{console.error("Service worker registration error:",e);{const o=new CustomEvent("pwa-registration-error",{detail:{error:e}});window.dispatchEvent(o)}}},byteToHex=[];for(let e=0;e<256;++e)byteToHex.push((e+256).toString(16).slice(1));function unsafeStringify(e,o=0){return(byteToHex[e[o+0]]+byteToHex[e[o+1]]+byteToHex[e[o+2]]+byteToHex[e[o+3]]+"-"+byteToHex[e[o+4]]+byteToHex[e[o+5]]+"-"+byteToHex[e[o+6]]+byteToHex[e[o+7]]+"-"+byteToHex[e[o+8]]+byteToHex[e[o+9]]+"-"+byteToHex[e[o+10]]+byteToHex[e[o+11]]+byteToHex[e[o+12]]+byteToHex[e[o+13]]+byteToHex[e[o+14]]+byteToHex[e[o+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(e,o,i){var n;if(native.randomUUID&&!e)return native.randomUUID();e=e||{};const s=e.random??((n=e.rng)==null?void 0:n.call(e))??rng();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,unsafeStringify(s)}const createStoreImpl=e=>{let o;const i=new Set,s=(d,g)=>{const h=typeof d=="function"?d(o):d;if(!Object.is(h,o)){const _=o;o=g??(typeof h!="object"||h===null)?h:Object.assign({},o,h),i.forEach(y=>y(o,_))}},n=()=>o,u={setState:s,getState:n,getInitialState:()=>p,subscribe:d=>(i.add(d),()=>i.delete(d))},p=o=e(s,n,u);return u},createStore=e=>e?createStoreImpl(e):createStoreImpl,identity=e=>e;function useStore(e,o=identity){const i=React.useSyncExternalStore(e.subscribe,()=>o(e.getState()),()=>o(e.getInitialState()));return React.useDebugValue(i),i}const createImpl=e=>{const o=createStore(e),i=s=>useStore(o,s);return Object.assign(i,o),i},create=e=>createImpl,subscribeWithSelectorImpl=e=>(o,i,s)=>{const n=s.subscribe;return s.subscribe=(c,u,p)=>{let d=c;if(u){const g=(p==null?void 0:p.equalityFn)||Object.is;let h=c(s.getState());d=_=>{const y=c(_);if(!g(h,y)){const k=h;u(h=y,k)}},p!=null&&p.fireImmediately&&u(h,h)}return n(d)},e(o,i,s)},subscribeWithSelector=subscribeWithSelectorImpl;function createJSONStorage(e,o){let i;try{i=e()}catch{return}return{getItem:n=>{var l;const c=p=>p===null?null:JSON.parse(p,void 0),u=(l=i.getItem(n))!=null?l:null;return u instanceof Promise?u.then(c):c(u)},setItem:(n,l)=>i.setItem(n,JSON.stringify(l,void 0)),removeItem:n=>i.removeItem(n)}}const toThenable=e=>o=>{try{const i=e(o);return i instanceof Promise?i:{then(s){return toThenable(s)(i)},catch(s){return this}}}catch(i){return{then(s){return this},catch(s){return toThenable(s)(i)}}}},persistImpl=(e,o)=>(i,s,n)=>{let l={storage:createJSONStorage(()=>localStorage),partialize:M=>M,version:0,merge:(M,J)=>({...J,...M}),...o},c=!1;const u=new Set,p=new Set;let d=l.storage;if(!d)return e((...M)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),i(...M)},s,n);const g=()=>{const M=l.partialize({...s()});return d.setItem(l.name,{state:M,version:l.version})},h=n.setState;n.setState=(M,J)=>{h(M,J),g()};const _=e((...M)=>{i(...M),g()},s,n);n.getInitialState=()=>_;let y;const k=()=>{var M,J;if(!d)return;c=!1,u.forEach($=>{var _e;return $((_e=s())!=null?_e:_)});const j=((J=l.onRehydrateStorage)==null?void 0:J.call(l,(M=s())!=null?M:_))||void 0;return toThenable(d.getItem.bind(d))(l.name).then($=>{if($)if(typeof $.version=="number"&&$.version!==l.version){if(l.migrate){const _e=l.migrate($.state,$.version);return _e instanceof Promise?_e.then(Ie=>[!0,Ie]):[!0,_e]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,$.state];return[!1,void 0]}).then($=>{var _e;const[Ie,f]=$;if(y=l.merge(f,(_e=s())!=null?_e:_),i(y,!0),Ie)return g()}).then(()=>{j==null||j(y,void 0),y=s(),c=!0,p.forEach($=>$(y))}).catch($=>{j==null||j(void 0,$)})};return n.persist={setOptions:M=>{l={...l,...M},M.storage&&(d=M.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>k(),hasHydrated:()=>c,onHydrate:M=>(u.add(M),()=>{u.delete(M)}),onFinishHydration:M=>(p.add(M),()=>{p.delete(M)})},l.skipHydration||k(),y||_},persist=persistImpl,googleConfig={auth:{clientId:"25723638150-fda1h3p3e1bm8s65m90a03vkvpscfnb9.apps.googleusercontent.com",clientSecret:"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",redirectUri:"https://vignes412.github.io/PA/"},sheets:{spreadsheetId:"1Tll9R5KtdfZO7-w8Sn2KrZx8PG3_nTSiJpkRYOXl9Sk",scopes:["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive.file"]},drive:{folderId:"18oce2L5-EfDo6rY1-zzAdjTXHfZnjtnx",scopes:["https://www.googleapis.com/auth/drive.file","https://www.googleapis.com/auth/drive.appdata"]}};var gapi=window.gapi=window.gapi||{};gapi._bs=new Date().getTime();(function(){var aa=typeof Object.defineProperties=="function"?Object.defineProperty:function(e,o,i){return e==Array.prototype||e==Object.prototype||(e[o]=i.value),e},da=function(e){e=[typeof globalThis=="object"&&globalThis,e,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var o=0;o<e.length;++o){var i=e[o];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")},ea=da(this),fa=function(e,o){if(o)e:{var i=ea;e=e.split(".");for(var s=0;s<e.length-1;s++){var n=e[s];if(!(n in i))break e;i=i[n]}e=e[e.length-1],s=i[e],o=o(s),o!=s&&o!=null&&aa(i,e,{configurable:!0,writable:!0,value:o})}},ha=function(e){var o=0;return function(){return o<e.length?{done:!1,value:e[o++]}:{done:!0}}};fa("Symbol",function(e){if(e)return e;var o=function(n,l){this.ba=n,aa(this,"description",{configurable:!0,writable:!0,value:l})};o.prototype.toString=function(){return this.ba};var i=0,s=function(n){if(this instanceof s)throw new TypeError("Symbol is not a constructor");return new o("jscomp_symbol_"+(n||"")+"_"+i++,n)};return s}),fa("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var o="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),i=0;i<o.length;i++){var s=ea[o[i]];typeof s=="function"&&typeof s.prototype[e]!="function"&&aa(s.prototype,e,{configurable:!0,writable:!0,value:function(){return ia(ha(this))}})}return e});var ia=function(e){return e={next:e},e[Symbol.iterator]=function(){return this},e},ja=function(e,o){e instanceof String&&(e+="");var i=0,s=!1,n={next:function(){if(!s&&i<e.length){var l=i++;return{value:o(l,e[l]),done:!1}}return s=!0,{done:!0,value:void 0}}};return n[Symbol.iterator]=function(){return n},n};fa("Array.prototype.keys",function(e){return e||function(){return ja(this,function(o){return o})}});var m=this||self,ka=function(e){var o=typeof e;return o!="object"?o:e?Array.isArray(e)?"array":o:"null"},la=function(e,o,i){return e.call.apply(e.bind,arguments)},ma=function(e,o,i){if(!e)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,s),e.apply(o,n)}}return function(){return e.apply(o,arguments)}},na=function(e,o,i){return na=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?la:ma,na.apply(null,arguments)},oa=function(e,o){function i(){}i.prototype=o.prototype,e.ma=o.prototype,e.prototype=new i,e.prototype.constructor=e,e.A=function(s,n,l){for(var c=Array(arguments.length-2),u=2;u<arguments.length;u++)c[u-2]=arguments[u];return o.prototype[n].apply(s,c)}},pa=function(e){return e},qa=function(e){var o=null,i=m.trustedTypes;if(!i||!i.createPolicy)return o;try{o=i.createPolicy(e,{createHTML:pa,createScript:pa,createScriptURL:pa})}catch(s){m.console&&m.console.error(s.message)}return o};function q(e){if(Error.captureStackTrace)Error.captureStackTrace(this,q);else{var o=Error().stack;o&&(this.stack=o)}e&&(this.message=String(e))}oa(q,Error),q.prototype.name="CustomError";var ra=function(e,o){e=e.split("%s");for(var i="",s=e.length-1,n=0;n<s;n++)i+=e[n]+(n<o.length?o[n]:"%s");q.call(this,i+e[s])};oa(ra,q),ra.prototype.name="AssertionError";var sa=function(e,o,i,s){var n="Assertion failed";if(i){n+=": "+i;var l=s}else e&&(n+=": "+e,l=o);throw new ra(""+n,l||[])},ta=function(e,o,i){return e||sa("",null,o,Array.prototype.slice.call(arguments,2)),e},ua=function(e,o){throw new ra("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))},va=function(e,o,i){typeof e!="string"&&sa("Expected string but got %s: %s.",[ka(e),e],o,Array.prototype.slice.call(arguments,2))},xa=function(e,o){e:{try{var i=e&&e.ownerDocument,s=i&&(i.defaultView||i.parentWindow);if(s=s||m,s.Element&&s.Location){var n=s;break e}}catch{}n=null}if(n&&typeof n[o]<"u"&&(!e||!(e instanceof n[o])&&(e instanceof n.Location||e instanceof n.Element))){if(n=typeof e,n=="object"&&e!=null||n=="function")try{var l=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{l="<object could not be stringified>"}else l=e===void 0?"undefined":e===null?"null":typeof e;ua("Argument is not a %s (or a non-Element, non-Location mock); got: %s",o,l)}return e},ya,t=function(e,o){this.P=e===za&&o||"",this.ca=Aa};t.prototype.J=!0,t.prototype.H=function(){return this.P},t.prototype.toString=function(){return"Const{"+this.P+"}"};var Ba=function(e){return e instanceof t&&e.constructor===t&&e.ca===Aa?e.P:(ua("expected object of type Const, got '"+e+"'"),"type_error:Const")},Aa={},za={},v=function(e,o){this.N=o===Ca?e:""};v.prototype.J=!0,v.prototype.H=function(){return this.N.toString()},v.prototype.toString=function(){return"SafeUrl{"+this.N+"}"};var Da=function(e){return e instanceof v&&e.constructor===v?e.N:(ua("expected object of type SafeUrl, got '"+e+"' of type "+ka(e)),"type_error:SafeUrl")},Ea=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,Fa=function(e){return e instanceof v?e:(e=typeof e=="object"&&e.J?e.H():String(e),ta(Ea.test(e),"%s does not match the safe URL pattern",e)||(e="about:invalid#zClosurez"),new v(e,Ca))},Ca={},w=function(e,o,i){this.M=i===Ga?e:""};w.prototype.J=!0,w.prototype.H=function(){return this.M.toString()},w.prototype.toString=function(){return"SafeHtml{"+this.M+"}"};var Ha=function(e){return e instanceof w&&e.constructor===w?e.M:(ua("expected object of type SafeHtml, got '"+e+"' of type "+ka(e)),"type_error:SafeHtml")},Ga={},Ia=new w(m.trustedTypes&&m.trustedTypes.emptyHTML||"",0,Ga),Ja={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},Ka=function(e){var o=!1,i;return function(){return o||(i=e(),o=!0),i}}(function(){if(typeof document>"u")return!1;var e=document.createElement("div"),o=document.createElement("div");return o.appendChild(document.createElement("div")),e.appendChild(o),e.firstChild?(o=e.firstChild.firstChild,e.innerHTML=Ha(Ia),!o.parentElement):!1}),x=window,z=document,La=x.location,Ma=function(){},Na=/\[native code\]/,A=function(e,o,i){return e[o]=e[o]||i},Oa=function(e){for(var o=0;o<this.length;o++)if(this[o]===e)return o;return-1},Pa=function(e){e=e.sort();for(var o=[],i=void 0,s=0;s<e.length;s++){var n=e[s];n!=i&&o.push(n),i=n}return o},Qa=/&/g,Ra=/</g,Sa=/>/g,Ua=/"/g,Va=/'/g,Wa=function(e){return String(e).replace(Qa,"&amp;").replace(Ra,"&lt;").replace(Sa,"&gt;").replace(Ua,"&quot;").replace(Va,"&#39;")},B=function(){var e;if((e=Object.create)&&Na.test(e))e=e(null);else{e={};for(var o in e)e[o]=void 0}return e},C=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},Xa=function(e){if(Na.test(Object.keys))return Object.keys(e);var o=[],i;for(i in e)C(e,i)&&o.push(i);return o},D=function(e,o){e=e||{};for(var i in e)C(e,i)&&(o[i]=e[i])},Ya=function(e){return function(){x.setTimeout(e,0)}},E=function(e,o){if(!e)throw Error(o||"")},F=A(x,"gapi",{}),H=function(e,o,i){var s=new RegExp("([#].*&|[#])"+o+"=([^&#]*)","g");if(o=new RegExp("([?#].*&|[?#])"+o+"=([^&#]*)","g"),e=e&&(s.exec(e)||o.exec(e)))try{i=decodeURIComponent(e[2])}catch{}return i},Za=new RegExp(/^/.source+/([a-zA-Z][-+.a-zA-Z0-9]*:)?/.source+/(\/\/[^\/?#]*)?/.source+/([^?#]*)?/.source+/(\?([^#]*))?/.source+/(#((#|[^#])*))?/.source+/$/.source),$a=/[\ud800-\udbff][\udc00-\udfff]|[^!-~]/g,ab=new RegExp(/(%([^0-9a-fA-F%]|[0-9a-fA-F]([^0-9a-fA-F%])?)?)*/.source+/%($|[^0-9a-fA-F]|[0-9a-fA-F]($|[^0-9a-fA-F]))/.source,"g"),bb=/%([a-f]|[0-9a-fA-F][a-f])/g,cb=/^(https?|ftp|file|chrome-extension):$/i,I=function(e){e=String(e),e=e.replace($a,function(n){try{return encodeURIComponent(n)}catch{return encodeURIComponent(n.replace(/^[^%]+$/g,"�"))}}).replace(ab,function(n){return n.replace(/%/g,"%25")}).replace(bb,function(n){return n.toUpperCase()}),e=e.match(Za)||[];var o=B(),i=function(n){return n.replace(/\\/g,"%5C").replace(/\^/g,"%5E").replace(/`/g,"%60").replace(/\{/g,"%7B").replace(/\|/g,"%7C").replace(/\}/g,"%7D")},s=!!(e[1]||"").match(cb);return o.A=i((e[1]||"")+(e[2]||"")+(e[3]||(e[2]&&s?"/":""))),s=function(n){return i(n.replace(/\?/g,"%3F").replace(/#/g,"%23"))},o.query=e[5]?[s(e[5])]:[],o.g=e[7]?[s(e[7])]:[],o},db=function(e){return e.A+(0<e.query.length?"?"+e.query.join("&"):"")+(0<e.g.length?"#"+e.g.join("&"):"")},eb=function(e,o){var i=[];if(e){for(var s in e)if(C(e,s)&&e[s]!=null){var n=o?o(e[s]):e[s];i.push(encodeURIComponent(s)+"="+encodeURIComponent(n))}}return i},fb=function(e,o,i,s){return e=I(e),e.query.push.apply(e.query,eb(o,s)),e.g.push.apply(e.g,eb(i,s)),db(e)},gb=new RegExp(/\/?\??#?/.source+"("+/[\/?#]/i.source+"|"+/[\uD800-\uDBFF]/i.source+"|"+/%[c-f][0-9a-f](%[89ab][0-9a-f]){0,2}(%[89ab]?)?/i.source+"|"+/%[0-9a-f]?/i.source+")$","i"),hb=function(e,o){var i=I(o);o=i.A,i.query.length&&(o+="?"+i.query.join("")),i.g.length&&(o+="#"+i.g.join(""));var s="";2e3<o.length&&(s=o,o=o.substr(0,2e3),o=o.replace(gb,""),s=s.substr(o.length));var n=e.createElement("div");if(e=e.createElement("a"),i=I(o),o=i.A,i.query.length&&(o+="?"+i.query.join("")),i.g.length&&(o+="#"+i.g.join("")),o=new v(o,Ca),xa(e,"HTMLAnchorElement"),o=o instanceof v?o:Fa(o),e.href=Da(o),n.appendChild(e),o=n.innerHTML,i=new t(za,"Assignment to self."),va(Ba(i),"must provide justification"),ta(!/^[\s\xa0]*$/.test(Ba(i)),"must provide non-empty justification"),ya===void 0&&(ya=qa("gapi#html")),o=(i=ya)?i.createHTML(o):o,o=new w(o,null,Ga),n.tagName&&Ja[n.tagName.toUpperCase()])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+n.tagName+".");if(Ka())for(;n.lastChild;)n.removeChild(n.lastChild);return n.innerHTML=Ha(o),o=String(n.firstChild.href),n.parentNode&&n.parentNode.removeChild(n),i=I(o+s),s=i.A,i.query.length&&(s+="?"+i.query.join("")),i.g.length&&(s+="#"+i.g.join("")),s},ib=/^https?:\/\/[^\/%\\?#\s]+\/[^\s]*$/i,jb=function(e,o,i,s){x[i+"EventListener"]?x[i+"EventListener"](e,o,!1):x[s+"tachEvent"]&&x[s+"tachEvent"]("on"+e,o)},kb=function(){var e=z.readyState;return e==="complete"||e==="interactive"&&navigator.userAgent.indexOf("MSIE")==-1},nb=function(e){var o=lb;if(!kb())try{o()}catch{}mb(e)},mb=function(e){if(kb())e();else{var o=!1,i=function(){if(!o)return o=!0,e.apply(this,arguments)};x.addEventListener?(x.addEventListener("load",i,!1),x.addEventListener("DOMContentLoaded",i,!1)):x.attachEvent&&(x.attachEvent("onreadystatechange",function(){kb()&&i.apply(this,arguments)}),x.attachEvent("onload",i))}},ob=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},pb={button:!0,div:!0,span:!0},K;K=A(x,"___jsl",B()),A(K,"I",0),A(K,"hel",10);var qb=function(e){return K.dpo?K.h:H(e,"jsh",K.h)},rb=function(e){var o=A(K,"sws",[]);o.push.apply(o,e)},sb=function(e){return A(K,"watt",B())[e]},tb=function(e){var o=A(K,"PQ",[]);K.PQ=[];var i=o.length;if(i===0)e();else for(var s=0,n=function(){++s===i&&e()},l=0;l<i;l++)o[l](n)},ub=function(e){return A(A(K,"H",B()),e,B())},vb=A(K,"perf",B()),wb=A(vb,"g",B()),xb=A(vb,"i",B());A(vb,"r",[]),B(),B();var yb=function(e,o,i){var s=vb.r;typeof s=="function"?s(e,o,i):s.push([e,o,i])},L=function(e,o,i){wb[e]=!o&&wb[e]||i||new Date().getTime(),yb(e)},Ab=function(e,o,i){o&&0<o.length&&(o=zb(o),i&&0<i.length&&(o+="___"+zb(i)),28<o.length&&(o=o.substr(0,28)+(o.length-28)),i=o,o=A(xb,"_p",B()),A(o,i,B())[e]=new Date().getTime(),yb(e,"_p",i))},zb=function(e){return e.join("__").replace(/\./g,"_").replace(/\-/g,"_").replace(/,/g,"_")},Bb=B(),N=[],O=function(e){throw Error("Bad hint"+(e?": "+e:""))};N.push(["jsl",function(e){for(var o in e)if(C(e,o)){var i=e[o];typeof i=="object"?K[o]=A(K,o,[]).concat(i):A(K,o,i)}(o=e.u)&&(e=A(K,"us",[]),e.push(o),(o=/^https:(.*)$/.exec(o))&&e.push("http:"+o[1]))}]);var Cb=/^(\/[a-zA-Z0-9_\-]+)+$/,Db=[/\/amp\//,/\/amp$/,/^\/amp$/],Eb=/^[a-zA-Z0-9\-_\.,!]+$/,Fb=/^gapi\.loaded_[0-9]+$/,Gb=/^[a-zA-Z0-9,._-]+$/,Kb=function(e,o,i,s){var n=e.split(";"),l=n.shift(),c=Bb[l],u=null;return c?u=c(n,o,i,s):O("no hint processor for: "+l),u||O("failed to generate load url"),o=u,i=o.match(Hb),(s=o.match(Ib))&&s.length===1&&Jb.test(o)&&i&&i.length===1||O("failed sanity: "+e),u},Nb=function(e,o,i,s){e=Lb(e),Fb.test(i)||O("invalid_callback"),o=Mb(o),s=s&&s.length?Mb(s):null;var n=function(l){return encodeURIComponent(l).replace(/%2C/g,",")};return[encodeURIComponent(e.pathPrefix).replace(/%2C/g,",").replace(/%2F/g,"/"),"/k=",n(e.version),"/m=",n(o),s?"/exm="+n(s):"","/rt=j/sv=1/d=1/ed=1",e.S?"/am="+n(e.S):"",e.Z?"/rs="+n(e.Z):"",e.aa?"/t="+n(e.aa):"","/cb=",n(i)].join("")},Lb=function(e){e.charAt(0)!=="/"&&O("relative path");for(var o=e.substring(1).split("/"),i=[];o.length;){if(e=o.shift(),!e.length||e.indexOf(".")==0)O("empty/relative directory");else if(0<e.indexOf("=")){o.unshift(e);break}i.push(e)}e={};for(var s=0,n=o.length;s<n;++s){var l=o[s].split("="),c=decodeURIComponent(l[0]),u=decodeURIComponent(l[1]);l.length==2&&c&&u&&(e[c]=e[c]||u)}for(o="/"+i.join("/"),Cb.test(o)||O("invalid_prefix"),i=0,s=Db.length;i<s;++i)Db[i].test(o)&&O("invalid_prefix");return i=Ob(e,"k",!0),s=Ob(e,"am"),n=Ob(e,"rs"),e=Ob(e,"t"),{pathPrefix:o,version:i,S:s,Z:n,aa:e}},Mb=function(e){for(var o=[],i=0,s=e.length;i<s;++i){var n=e[i].replace(/\./g,"_").replace(/-/g,"_");Gb.test(n)&&o.push(n)}return o.join(",")},Ob=function(e,o,i){if(e=e[o],!e&&i&&O("missing: "+o),e){if(Eb.test(e))return e;O("invalid: "+o)}return null},Jb=/^https?:\/\/[a-z0-9_.-]+\.google(rs)?\.com(:\d+)?\/[a-zA-Z0-9_.,!=\-\/]+$/,Ib=/\/cb=/g,Hb=/\/\//g,Pb=function(){var e=qb(La.href);if(!e)throw Error("Bad hint");return e};Bb.m=function(e,o,i,s){return(e=e[0])||O("missing_hint"),"https://apis.google.com"+Nb(e,o,i,s)};var Qb=decodeURI("%73cript"),Rb=/^[-+_0-9\/A-Za-z]+={0,2}$/,Sb=function(e,o){for(var i=[],s=0;s<e.length;++s){var n=e[s];n&&0>Oa.call(o,n)&&i.push(n)}return i},Tb=function(){var e=K.nonce;return e!==void 0?e&&e===String(e)&&e.match(Rb)?e:K.nonce=null:z.querySelector&&(e=z.querySelector("script[nonce]"))?(e=e.nonce||e.getAttribute("nonce")||"",e&&e===String(e)&&e.match(Rb)?K.nonce=e:K.nonce=null):null},Wb=function(e){if(z.readyState!="loading")Ub(e);else{var o=Tb(),i="";o!==null&&(i=' nonce="'+o+'"'),e="<"+Qb+' src="'+encodeURI(e)+'"'+i+"></"+Qb+">",z.write(Vb?Vb.createHTML(e):e)}},Ub=function(e){var o=z.createElement(Qb);o.setAttribute("src",Vb?Vb.createScriptURL(e):e),e=Tb(),e!==null&&o.setAttribute("nonce",e),o.async="true",(e=z.getElementsByTagName(Qb)[0])?e.parentNode.insertBefore(o,e):(z.head||z.body||z.documentElement).appendChild(o)},Xb=function(e,o){var i=o&&o._c;if(i)for(var s=0;s<N.length;s++){var n=N[s][0],l=N[s][1];l&&C(i,n)&&l(i[n],e,o)}},Zb=function(e,o,i){Yb(function(){var s=o===qb(La.href)?A(F,"_",B()):B();s=A(ub(o),"_",s),e(s)},i)},ac=function(e,o){var i=o||{};typeof o=="function"&&(i={},i.callback=o),Xb(e,i),o=e?e.split(":"):[];var s=i.h||Pb(),n=A(K,"ah",B());if(n["::"]&&o.length){e=[];for(var l=null;l=o.shift();){var c=l.split(".");c=n[l]||n[c[1]&&"ns:"+c[0]||""]||s;var u=e.length&&e[e.length-1]||null,p=u;u&&u.hint==c||(p={hint:c,V:[]},e.push(p)),p.V.push(l)}var d=e.length;if(1<d){var g=i.callback;g&&(i.callback=function(){--d==0&&g()})}for(;o=e.shift();)$b(o.V,i,o.hint)}else $b(o||[],i,s)},$b=function(e,o,i){e=Pa(e)||[];var s=o.callback,n=o.config,l=o.timeout,c=o.ontimeout,u=o.onerror,p=void 0;typeof u=="function"&&(p=u);var d=null,g=!1;if(l&&!c||!l&&c)throw"Timeout requires both the timeout parameter and ontimeout parameter to be set";u=A(ub(i),"r",[]).sort();var h=A(ub(i),"L",[]).sort(),_=[].concat(u),y=function($,_e){if(g)return 0;x.clearTimeout(d),h.push.apply(h,k);var Ie=((F||{}).config||{}).update;if(Ie?Ie(n):n&&A(K,"cu",[]).push(n),_e){Ab("me0",$,_);try{Zb(_e,i,p)}finally{Ab("me1",$,_)}}return 1};0<l&&(d=x.setTimeout(function(){g=!0,c()},l));var k=Sb(e,h);if(k.length){k=Sb(e,u);var M=A(K,"CP",[]),J=M.length;if(M[J]=function($){if(!$)return 0;Ab("ml1",k,_);var _e=function(f){M[J]=null,y(k,$)&&tb(function(){s&&s(),f()})},Ie=function(){var f=M[J+1];f&&f()};0<J&&M[J-1]?M[J]=function(){_e(Ie)}:_e(Ie)},k.length){var j="loaded_"+K.I++;F[j]=function($){M[J]($),F[j]=null},e=Kb(i,k,"gapi."+j,u),u.push.apply(u,k),Ab("ml0",k,_),o.sync||x.___gapisync?Wb(e):Ub(e)}else M[J](Ma)}else y(k)&&s&&s()},Vb=qa("gapi#gapi"),Yb=function(e,o){if(K.hee&&0<K.hel)try{return e()}catch(i){o&&o(i),K.hel--,ac("debug_error",function(){try{window.___jsl.hefn(i)}catch{throw i}})}else try{return e()}catch(i){throw o&&o(i),i}};F.load=function(e,o){return Yb(function(){return ac(e,o)})};var bc=function(e){var o=window.___jsl=window.___jsl||{};return o[e]=o[e]||[],o[e]},cc=function(e){var o=window.___jsl=window.___jsl||{};return o.cfg=!e&&o.cfg||{},o.cfg},dc=function(e){return typeof e=="object"&&/\[native code\]/.test(e.push)},P=function(e,o,i){if(o&&typeof o=="object")for(var s in o)!Object.prototype.hasOwnProperty.call(o,s)||i&&s==="___goc"&&typeof o[s]>"u"||(e[s]&&o[s]&&typeof e[s]=="object"&&typeof o[s]=="object"&&!dc(e[s])&&!dc(o[s])?P(e[s],o[s]):o[s]&&typeof o[s]=="object"?(e[s]=dc(o[s])?[]:{},P(e[s],o[s])):e[s]=o[s])},ec=function(e){if(e&&!/^\s+$/.test(e)){for(;e.charCodeAt(e.length-1)==0;)e=e.substring(0,e.length-1);try{var o=window.JSON.parse(e)}catch{}if(typeof o=="object")return o;try{o=new Function("return ("+e+`
)`)()}catch{}if(typeof o=="object")return o;try{o=new Function("return ({"+e+`
})`)()}catch{}return typeof o=="object"?o:{}}},fc=function(e,o){var i={___goc:void 0};e.length&&e[e.length-1]&&Object.hasOwnProperty.call(e[e.length-1],"___goc")&&typeof e[e.length-1].___goc>"u"&&(i=e.pop()),P(i,o),e.push(i)},gc=function(e){cc(!0);var o=window.___gcfg,i=bc("cu"),s=window.___gu;o&&o!==s&&(fc(i,o),window.___gu=o),o=bc("cu");var n=document.scripts||document.getElementsByTagName("script")||[];s=[];var l=[];l.push.apply(l,bc("us"));for(var c=0;c<n.length;++c)for(var u=n[c],p=0;p<l.length;++p)u.src&&u.src.indexOf(l[p])==0&&s.push(u);for(s.length==0&&0<n.length&&n[n.length-1].src&&s.push(n[n.length-1]),n=0;n<s.length;++n)s[n].getAttribute("gapi_processed")||(s[n].setAttribute("gapi_processed",!0),(l=s[n])?(c=l.nodeType,l=c==3||c==4?l.nodeValue:l.textContent||l.innerText||l.innerHTML||""):l=void 0,(l=ec(l))&&o.push(l));for(e&&fc(i,e),s=bc("cd"),e=0,o=s.length;e<o;++e)P(cc(),s[e],!0);for(s=bc("ci"),e=0,o=s.length;e<o;++e)P(cc(),s[e],!0);for(e=0,o=i.length;e<o;++e)P(cc(),i[e],!0)},Q=function(e){var o=cc();if(!e)return o;e=e.split("/");for(var i=0,s=e.length;o&&typeof o=="object"&&i<s;++i)o=o[e[i]];return i===e.length&&o!==void 0?o:void 0},hc=function(e,o){var i;if(typeof e=="string"){var s=i={};e=e.split("/");for(var n=0,l=e.length;n<l-1;++n){var c={};s=s[e[n]]=c}s[e[n]]=o}else i=e;gc(i)},ic=function(){var e=window.__GOOGLEAPIS;e&&(e.googleapis&&!e["googleapis.config"]&&(e["googleapis.config"]=e.googleapis),A(K,"ci",[]).push(e),window.__GOOGLEAPIS=void 0)},jc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},kc=!1,lc=B(),mc=function(){if(!kc){for(var e=document.getElementsByTagName("meta"),o=0;o<e.length;++o){var i=e[o].name.toLowerCase();if(i.lastIndexOf("google-signin-",0)==0){i=i.substring(14);var s=e[o].content;jc[i]&&s&&(lc[i]=s)}}if(window.self!==window.top){e=document.location.toString();for(var n in jc)0<jc[n]&&(o=H(e,n,""))&&(lc[n]=o)}kc=!0}return n=B(),D(lc,n),n},nc=function(e){return!!(e.clientid&&e.scope&&e.callback)},oc=window.console,pc=function(e){oc&&oc.log&&oc.log(e)},qc=function(){return!!K.oa},rc=function(){},R=A(K,"rw",B()),sc=function(e){for(var o in R)e(R[o])},tc=function(e,o){(e=R[e])&&e.state<o&&(e.state=o)},vc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/u\/(\d)\//,wc=/^https?:\/\/(?:\w|[\-\.])+\.google\.(?:\w|[\-:\.])+(?:\/[^\?#]*)?\/b\/(\d{10,21})\//,xc=function(e){var o=Q("googleapis.config/sessionIndex");if(typeof o=="string"&&254<o.length&&(o=null),o==null&&(o=window.__X_GOOG_AUTHUSER),typeof o=="string"&&254<o.length&&(o=null),o==null){var i=window.google;i&&(o=i.authuser)}return typeof o=="string"&&254<o.length&&(o=null),o==null&&(e=e||window.location.href,o=H(e,"authuser")||null,o==null&&(o=(o=e.match(vc))?o[1]:null)),o==null?null:(o=String(o),254<o.length&&(o=null),o)},yc=function(e){var o=Q("googleapis.config/sessionDelegate");return typeof o=="string"&&21<o.length&&(o=null),o==null&&(o=(e=(e||window.location.href).match(wc))?e[1]:null),o==null?null:(o=String(o),21<o.length&&(o=null),o)},zc,S,T=void 0,U=function(e){try{return m.JSON.parse.call(m.JSON,e)}catch{return!1}},V=function(e){return Object.prototype.toString.call(e)},Ac=V(0),Bc=V(new Date(0)),Cc=V(!0),Dc=V(""),Ec=V({}),Fc=V([]),W=function(e,o){if(o){for(var i=0,s=o.length;i<s;++i)if(e===o[i])throw new TypeError("Converting circular structure to JSON")}if(s=typeof e,s!=="undefined"){i=Array.prototype.slice.call(o||[],0),i[i.length]=e,o=[];var n=V(e);if(e!=null&&typeof e.toJSON=="function"&&(Object.prototype.hasOwnProperty.call(e,"toJSON")||(n!==Fc||e.constructor!==Array&&e.constructor!==Object)&&(n!==Ec||e.constructor!==Array&&e.constructor!==Object)&&n!==Dc&&n!==Ac&&n!==Cc&&n!==Bc))return W(e.toJSON.call(e),i);if(e==null)o[o.length]="null";else if(n===Ac)e=Number(e),isNaN(e)||isNaN(e-e)?e="null":e===-0&&0>1/e&&(e="-0"),o[o.length]=String(e);else if(n===Cc)o[o.length]=String(!!Number(e));else{if(n===Bc)return W(e.toISOString.call(e),i);if(n===Fc&&V(e.length)===Ac){o[o.length]="[";var l=0;for(s=Number(e.length)>>0;l<s;++l)l&&(o[o.length]=","),o[o.length]=W(e[l],i)||"null";o[o.length]="]"}else if(n==Dc&&V(e.length)===Ac){for(o[o.length]='"',l=0,i=Number(e.length)>>0;l<i;++l)s=String.prototype.charAt.call(e,l),n=String.prototype.charCodeAt.call(e,l),o[o.length]=s==="\b"?"\\b":s==="\f"?"\\f":s===`
`?"\\n":s==="\r"?"\\r":s==="	"?"\\t":s==="\\"||s==='"'?"\\"+s:31>=n?"\\u"+(n+65536).toString(16).substr(1):32<=n&&65535>=n?s:"�";o[o.length]='"'}else if(s==="object"){o[o.length]="{",s=0;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&(n=W(e[l],i),n!==void 0&&(s++&&(o[o.length]=","),o[o.length]=W(l),o[o.length]=":",o[o.length]=n));o[o.length]="}"}else return}return o.join("")}},Gc=/[\0-\x07\x0b\x0e-\x1f]/,Hc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*[\0-\x1f]/,Ic=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\[^\\\/"bfnrtu]/,Jc=/^([^"]*"([^\\"]|\\.)*")*[^"]*"([^"\\]|\\.)*\\u([0-9a-fA-F]{0,3}[^0-9a-fA-F])/,Kc=/"([^\0-\x1f\\"]|\\[\\\/"bfnrt]|\\u[0-9a-fA-F]{4})*"/g,Lc=/-?(0|[1-9][0-9]*)(\.[0-9]+)?([eE][-+]?[0-9]+)?/g,Mc=/[ \t\n\r]+/g,Nc=/[^"]:/,Oc=/""/g,Pc=/true|false|null/g,Qc=/00/,Rc=/[\{]([^0\}]|0[^:])/,Sc=/(^|\[)[,:]|[,:](\]|\}|[,:]|$)/,Tc=/[^\[,:][\[\{]/,Uc=/^(\{|\}|\[|\]|,|:|0)+/,Vc=/\u2028/g,Wc=/\u2029/g,Xc=function(a){if(a=String(a),Gc.test(a)||Hc.test(a)||Ic.test(a)||Jc.test(a))return!1;var b=a.replace(Kc,'""');if(b=b.replace(Lc,"0"),b=b.replace(Mc,""),Nc.test(b)||(b=b.replace(Oc,"0"),b=b.replace(Pc,"0"),Qc.test(b)||Rc.test(b)||Sc.test(b)||Tc.test(b)||!b||(b=b.replace(Uc,""))))return!1;a=a.replace(Vc,"\\u2028").replace(Wc,"\\u2029"),b=void 0;try{b=T?[U(a)]:eval(`(function (var_args) {
  return Array.prototype.slice.call(arguments, 0);
})(
`+a+`
)`)}catch(e){return!1}return b&&b.length===1?b[0]:!1},Yc=function(){var e=((m.document||{}).scripts||[]).length;if((zc===void 0||T===void 0||S!==e)&&S!==-1){zc=T=!1,S=-1;try{try{T=!!m.JSON&&m.JSON.stringify.call(m.JSON,{a:[3,!0,new Date(0)],c:function(){}})==='{"a":[3,true,"1970-01-01T00:00:00.000Z"]}'&&U("true")===!0&&U('[{"a":3}]')[0].a===3}catch{}zc=T&&!U("[00]")&&!U('"\x07"')&&!U('"\\0"')&&!U('"\\v"')}finally{S=e}}},Zc=function(e){return S===-1?!1:(Yc(),(zc?U:Xc)(e))},$c=function(e){if(S!==-1)return Yc(),T?m.JSON.stringify.call(m.JSON,e):W(e)},ad=!Date.prototype.toISOString||typeof Date.prototype.toISOString!="function"||new Date(0).toISOString()!=="1970-01-01T00:00:00.000Z",bd=function(){var e=Date.prototype.getUTCFullYear.call(this);return[0>e?"-"+String(1e6-e).substr(1):9999>=e?String(1e4+e).substr(1):"+"+String(1e6+e).substr(1),"-",String(101+Date.prototype.getUTCMonth.call(this)).substr(1),"-",String(100+Date.prototype.getUTCDate.call(this)).substr(1),"T",String(100+Date.prototype.getUTCHours.call(this)).substr(1),":",String(100+Date.prototype.getUTCMinutes.call(this)).substr(1),":",String(100+Date.prototype.getUTCSeconds.call(this)).substr(1),".",String(1e3+Date.prototype.getUTCMilliseconds.call(this)).substr(1),"Z"].join("")};Date.prototype.toISOString=ad?bd:Date.prototype.toISOString;var cd=function(){this.j=-1},dd=function(){this.j=64,this.b=[],this.G=[],this.da=[],this.C=[],this.C[0]=128;for(var e=1;e<this.j;++e)this.C[e]=0;this.D=this.o=0,this.reset()};oa(dd,cd),dd.prototype.reset=function(){this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.b[4]=3285377520,this.D=this.o=0};var ed=function(e,o,i){i||(i=0);var s=e.da;if(typeof o=="string")for(var n=0;16>n;n++)s[n]=o.charCodeAt(i)<<24|o.charCodeAt(i+1)<<16|o.charCodeAt(i+2)<<8|o.charCodeAt(i+3),i+=4;else for(n=0;16>n;n++)s[n]=o[i]<<24|o[i+1]<<16|o[i+2]<<8|o[i+3],i+=4;for(n=16;80>n;n++){var l=s[n-3]^s[n-8]^s[n-14]^s[n-16];s[n]=(l<<1|l>>>31)&4294967295}o=e.b[0],i=e.b[1];var c=e.b[2],u=e.b[3],p=e.b[4];for(n=0;80>n;n++){if(40>n)if(20>n){l=u^i&(c^u);var d=1518500249}else l=i^c^u,d=1859775393;else 60>n?(l=i&c|u&(i|c),d=2400959708):(l=i^c^u,d=3395469782);l=(o<<5|o>>>27)+l+p+d+s[n]&4294967295,p=u,u=c,c=(i<<30|i>>>2)&4294967295,i=o,o=l}e.b[0]=e.b[0]+o&4294967295,e.b[1]=e.b[1]+i&4294967295,e.b[2]=e.b[2]+c&4294967295,e.b[3]=e.b[3]+u&4294967295,e.b[4]=e.b[4]+p&4294967295};dd.prototype.update=function(e,o){if(e!=null){o===void 0&&(o=e.length);for(var i=o-this.j,s=0,n=this.G,l=this.o;s<o;){if(l==0)for(;s<=i;)ed(this,e,s),s+=this.j;if(typeof e=="string"){for(;s<o;)if(n[l]=e.charCodeAt(s),++l,++s,l==this.j){ed(this,n),l=0;break}}else for(;s<o;)if(n[l]=e[s],++l,++s,l==this.j){ed(this,n),l=0;break}}this.o=l,this.D+=o}},dd.prototype.digest=function(){var e=[],o=8*this.D;56>this.o?this.update(this.C,56-this.o):this.update(this.C,this.j-(this.o-56));for(var i=this.j-1;56<=i;i--)this.G[i]=o&255,o/=256;for(ed(this,this.G),i=o=0;5>i;i++)for(var s=24;0<=s;s-=8)e[o]=this.b[i]>>s&255,++o;return e};var fd=function(){this.O=new dd};fd.prototype.reset=function(){this.O.reset()};var gd=x.crypto,hd=!1,id=0,jd=0,kd=1,ld=0,md="",nd=function(e){e=e||x.event;var o=e.screenX+e.clientX<<16;o+=e.screenY+e.clientY,o*=new Date().getTime()%1e6,kd=kd*o%ld,0<id&&++jd==id&&jb("mousemove",nd,"remove","de")},od=function(e){var o=new fd;e=unescape(encodeURIComponent(e));for(var i=[],s=0,n=e.length;s<n;++s)i.push(e.charCodeAt(s));for(o.O.update(i),o=o.O.digest(),e="",i=0;i<o.length;i++)e+="0123456789ABCDEF".charAt(Math.floor(o[i]/16))+"0123456789ABCDEF".charAt(o[i]%16);return e};hd=!!gd&&typeof gd.getRandomValues=="function",hd||(ld=1e6*(screen.width*screen.width+screen.height),md=od(z.cookie+"|"+z.location+"|"+new Date().getTime()+"|"+Math.random()),id=Q("random/maxObserveMousemove")||0,id!=0&&jb("mousemove",nd,"add","at"));var pd=function(){var e=kd;return e+=parseInt(md.substr(0,20),16),md=od(md),e/(ld+Math.pow(16,20))},qd=function(){var e=new x.Uint32Array(1);return gd.getRandomValues(e),+("0."+e[0])},rd=function(){var e=K.onl;if(!e){e=B(),K.onl=e;var o=B();e.e=function(i){var s=o[i];s&&(delete o[i],s())},e.a=function(i,s){o[i]=s},e.r=function(i){delete o[i]}}return e},sd=function(e,o){return o=o.onload,typeof o=="function"?(rd().a(e,o),o):null},td=function(e){return E(/^\w+$/.test(e),"Unsupported id - "+e),rd(),'onload="window.___jsl.onl.e(&#34;'+e+'&#34;)"'},ud=function(e){rd().r(e)},vd={allowtransparency:"true",frameborder:"0",hspace:"0",marginheight:"0",marginwidth:"0",scrolling:"no",style:"",tabindex:"0",vspace:"0",width:"100%"},wd={allowtransparency:!0,onload:!0},xd=0,yd=function(e){E(!e||ib.test(e),"Illegal url for new iframe - "+e)},zd=function(e,o,i,s,n){yd(i.src);var l,c=sd(s,i),u=c?td(s):"";try{document.all&&(l=e.createElement('<iframe frameborder="'+Wa(String(i.frameborder))+'" scrolling="'+Wa(String(i.scrolling))+'" '+u+' name="'+Wa(String(i.name))+'"/>'))}catch{}finally{l||(l=e.createElement("iframe"),c&&(l.onload=function(){l.onload=null,c.call(this)},ud(s)))}l.setAttribute("ng-non-bindable","");for(var p in i)e=i[p],p==="style"&&typeof e=="object"?D(e,l.style):wd[p]||l.setAttribute(p,String(e));return(p=n&&n.beforeNode||null)||n&&n.dontclear||ob(o),o.insertBefore(l,p),l=p?p.previousSibling:o.lastChild,i.allowtransparency&&(l.allowTransparency=!0),l},Ad=/^:[\w]+$/,Bd=/:([a-zA-Z_]+):/g,Cd=function(){var e=xc()||"0",o=yc(),i=xc(void 0)||e,s=yc(void 0),n="";i&&(n+="u/"+encodeURIComponent(String(i))+"/"),s&&(n+="b/"+encodeURIComponent(String(s))+"/"),i=n||null,(n=(s=Q("isLoggedIn")===!1)?"_/im/":"")&&(i="");var l=Q("iframes/:socialhost:"),c=Q("iframes/:im_socialhost:");return{socialhost:l,ctx_socialhost:s?c:l,session_index:e,session_delegate:o,session_prefix:i,im_prefix:n}},Dd=function(e,o){return Cd()[o]||""},Ed=function(e){return function(o,i){return e?Cd()[i]||e[i]||"":Cd()[i]||""}},Fd=function(e){var o;return e.match(/^https?%3A/i)&&(o=decodeURIComponent(e)),hb(document,o||e)},Gd=function(e){e=e||"canonical";for(var o=document.getElementsByTagName("link"),i=0,s=o.length;i<s;i++){var n=o[i],l=n.getAttribute("rel");if(l&&l.toLowerCase()==e&&(n=n.getAttribute("href"))&&(n=Fd(n))&&n.match(/^https?:\/\/[\w\-_\.]+/i)!=null)return n}return window.location.href},Hd={se:"0"},Id={post:!0},Jd={style:"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none"},Kd="onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh".split(" "),Ld=A(K,"WI",B()),Md=function(e,o,i){var s,n={},l=s=e;e=="plus"&&o.action&&(s=e+"_"+o.action,l=e+"/"+o.action),(s=Q("iframes/"+s+"/url"))||(s=":im_socialhost:/:session_prefix::im_prefix:_/widget/render/"+l+"?usegapi=1");for(var c in Hd)n[c]=c+"/"+(o[c]||Hd[c])+"/";if(n=hb(z,s.replace(Bd,Ed(n))),c="iframes/"+e+"/params/",l={},D(o,l),(s=Q("lang")||Q("gwidget/lang"))&&(l.hl=s),Id[e]||(l.origin=window.location.origin||window.location.protocol+"//"+window.location.host),l.exp=Q(c+"exp"),c=Q(c+"location"))for(s=0;s<c.length;s++){var u=c[s];l[u]=x.location[u]}switch(e){case"plus":case"follow":c=l.href,s=o.action?void 0:"publisher",c=(c=typeof c=="string"?c:void 0)?Fd(c):Gd(s),l.url=c,delete l.href;break;case"plusone":c=(c=o.href)?Fd(c):Gd(),l.url=c,c=o.db,s=Q(),c==null&&s&&(c=s.db,c==null&&(c=s.gwidget&&s.gwidget.db)),l.db=c||void 0,c=o.ecp,s=Q(),c==null&&s&&(c=s.ecp,c==null&&(c=s.gwidget&&s.gwidget.ecp)),l.ecp=c||void 0,delete l.href;break;case"signin":l.url=Gd()}K.ILI&&(l.iloader="1"),delete l["data-onload"],delete l.rd;for(var p in Hd)l[p]&&delete l[p];l.gsrc=Q("iframes/:source:"),p=Q("inline/css"),typeof p<"u"&&0<i&&p>=i&&(l.ic="1"),p=/^#|^fr-/,i={};for(var d in l)C(l,d)&&p.test(d)&&(i[d.replace(p,"")]=l[d],delete l[d]);d=Q("iframes/"+e+"/params/si")=="q"?l:i,p=mc();for(var g in p)!C(p,g)||C(l,g)||C(i,g)||(d[g]=p[g]);g=[].concat(Kd),(d=Q("iframes/"+e+"/methods"))&&typeof d=="object"&&Na.test(d.push)&&(g=g.concat(d));for(var h in o)C(o,h)&&/^on/.test(h)&&(e!="plus"||h!="onconnect")&&(g.push(h),delete l[h]);return delete l.callback,i._methods=g.join(","),fb(n,l,i)},Nd=["style","data-gapiscan"],Pd=function(e){for(var o=B(),i=e.nodeName.toLowerCase().indexOf("g:")!=0,s=0,n=e.attributes.length;s<n;s++){var l=e.attributes[s],c=l.name,u=l.value;0<=Oa.call(Nd,c)||i&&c.indexOf("data-")!=0||u==="null"||"specified"in l&&!l.specified||(i&&(c=c.substr(5)),o[c.toLowerCase()]=u)}return e=e.style,(i=Od(e&&e.height))&&(o.height=String(i)),(e=Od(e&&e.width))&&(o.width=String(e)),o},Od=function(e){var o=void 0;return typeof e=="number"?o=e:typeof e=="string"&&(o=parseInt(e,10)),o},Rd=function(){var e=K.drw;sc(function(o){if(e!==o.id&&o.state!=4&&o.type!="share"){var i=o.id,s=o.type,n=o.url;o=o.userParams;var l=z.getElementById(i);if(l){var c=Md(s,o,0);c?(l=l.parentNode,n.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")!==c.replace(/#.*/,"").replace(/(\?|&)ic=1/,"")&&(o.dontclear=!0,o.rd=!0,o.ri=!0,o.type=s,Qd(l,o),(s=R[l.lastChild.id])&&(s.oid=i),tc(i,4))):delete R[i]}else delete R[i]}})},Sd,Td,X,Ud,Vd,Wd=/(?:^|\s)g-((\S)*)(?:$|\s)/,Xd={plusone:!0,autocomplete:!0,profile:!0,signin:!0,signin2:!0};Sd=A(K,"SW",B()),Td=A(K,"SA",B()),X=A(K,"SM",B()),Ud=A(K,"FW",[]),Vd=null;var Zd=function(e,o){Yd(void 0,!1,e,o)},Yd=function(e,o,i,s){L("ps0",!0),i=(typeof i=="string"?document.getElementById(i):i)||z;var n=z.documentMode;if(i.querySelectorAll&&(!n||8<n)){n=s?[s]:Xa(Sd).concat(Xa(Td)).concat(Xa(X));for(var l=[],c=0;c<n.length;c++){var u=n[c];l.push(".g-"+u,"g\\:"+u)}n=i.querySelectorAll(l.join(","))}else n=i.getElementsByTagName("*");for(i=B(),l=0;l<n.length;l++){c=n[l];var p=c;u=s;var d=p.nodeName.toLowerCase(),g=void 0;if(p.getAttribute("data-gapiscan"))u=null;else{var h=d.indexOf("g:");h==0?g=d.substr(2):(h=(h=String(p.className||p.getAttribute("class")))&&Wd.exec(h))&&(g=h[1]),u=!g||!(Sd[g]||Td[g]||X[g])||u&&g!==u?null:g}u&&(Xd[u]||c.nodeName.toLowerCase().indexOf("g:")==0||Xa(Pd(c)).length!=0)&&(c.setAttribute("data-gapiscan",!0),A(i,u,[]).push(c))}if(o)for(var _ in i)for(o=i[_],s=0;s<o.length;s++)o[s].setAttribute("data-onload",!0);for(var y in i)Ud.push(y);if(L("ps1",!0),(_=Ud.join(":"))||e)try{F.load(_,e)}catch(M){pc(M);return}if($d(Vd||{}))for(var k in i){for(e=i[k],y=0,o=e.length;y<o;y++)e[y].removeAttribute("data-gapiscan");ae(k)}else{s=[];for(k in i)for(e=i[k],y=0,o=e.length;y<o;y++)n=e[y],be(k,n,Pd(n),s,o);ce(_,s)}},de=function(e){var o=A(F,e,{});o.go||(o.go=function(i){return Zd(i,e)},o.render=function(i,s){return s=s||{},s.type=e,Qd(i,s)})},ee=function(e){Sd[e]=!0},fe=function(e){Td[e]=!0},ge=function(e){X[e]=!0},ae=function(e,o){var i=sb(e);o&&i?(i(o),(i=o.iframeNode)&&i.setAttribute("data-gapiattached",!0)):F.load(e,function(){var s=sb(e),n=o&&o.iframeNode,l=o&&o.userParams;n&&s?(s(o),n.setAttribute("data-gapiattached",!0)):(s=F[e].go,e=="signin2"?s(n,l):s(n&&n.parentNode,l))})},$d=function(){return!1},ce=function(){},be=function(e,o,i,s,n,l,c){switch(he(o,e,l)){case 0:e=X[e]?e+"_annotation":e,s={},s.iframeNode=o,s.userParams=i,ae(e,s);break;case 1:if(o.parentNode){for(var u in i)if((l=C(i,u))&&(l=i[u],l=!!l&&typeof l=="object"&&(!l.toString||l.toString===Object.prototype.toString||l.toString===Array.prototype.toString)),l)try{i[u]=$c(i[u])}catch{delete i[u]}if(l=!0,i.dontclear&&(l=!1),delete i.dontclear,rc(),u=Md(e,i,n),n=c||{},n.allowPost=1,n.attributes=Jd,n.dontclear=!l,c={},c.userParams=i,c.url=u,c.type=e,i.rd)var p=o;else p=document.createElement("div"),o.setAttribute("data-gapistub",!0),p.style.cssText="position:absolute;width:450px;left:-10000px;",o.parentNode.insertBefore(p,o);c.siteElement=p,p.id||(o=p,A(Ld,e,0),l="___"+e+"_"+Ld[e]++,o.id=l),o=B(),o[">type"]=e,D(i,o),l=u,i=p,u=n||{},o=u.attributes||{},E(!(u.allowPost||u.forcePost)||!o.onload,"onload is not supported by post iframe (allowPost or forcePost)"),n=o=l,Ad.test(o)&&(n=Q("iframes/"+n.substring(1)+"/url"),E(!!n,"Unknown iframe url config for - "+o)),l=hb(z,n.replace(Bd,Dd)),o=i.ownerDocument||z,p=0;do n=u.id||["I",xd++,"_",new Date().getTime()].join("");while(o.getElementById(n)&&5>++p);E(5>p,"Error creating iframe id"),p={};var d={};o.documentMode&&9>o.documentMode&&(p.hostiemode=o.documentMode),D(u.queryParams||{},p),D(u.fragmentParams||{},d);var g=u.pfname,h=B();Q("iframes/dropLegacyIdParam")||(h.id=n),h._gfid=n,h.parent=o.location.protocol+"//"+o.location.host;var _=H(o.location.href,"parent");if(g=g||"",!g&&_&&(_=H(o.location.href,"_gfid","")||H(o.location.href,"id",""),g=H(o.location.href,"pfname",""),g=_?g+"/"+_:""),g||(_=Zc(H(o.location.href,"jcp","")))&&typeof _=="object"&&(g=(g=_.id)?_.pfname+"/"+g:""),h.pfname=g,u.connectWithJsonParam&&(_={},_.jcp=$c(h),h=_),_=H(l,"rpctoken")||p.rpctoken||d.rpctoken,_||(_=u.rpctoken||String(Math.round(1e8*(hd?qd():pd()))),h.rpctoken=_),u.rpctoken=_,D(h,u.connectWithQueryParams?p:d),_=o.location.href,h=B(),(g=H(_,"_bsh",K.bsh))&&(h._bsh=g),(_=qb(_))&&(h.jsh=_),u.hintInFragment?D(h,d):D(h,p),l=fb(l,p,d,u.paramsSerializer),d=B(),D(vd,d),D(u.attributes,d),d.name=d.id=n,d.src=l,u.eurl=l,p=u||{},h=!!p.allowPost,p.forcePost||h&&2e3<l.length){if(p=I(l),d.src="",u.dropDataPostorigin||(d["data-postorigin"]=l),l=zd(o,i,d,n),navigator.userAgent.indexOf("WebKit")!=-1){var y=l.contentWindow.document;y.open(),d=y.createElement("div"),h={},_=n+"_inner",h.name=_,h.src="",h.style="display:none",zd(o,d,h,_,u)}for(d=(u=p.query[0])?u.split("&"):[],u=[],h=0;h<d.length;h++)_=d[h].split("=",2),u.push([decodeURIComponent(_[0]),decodeURIComponent(_[1])]);for(p.query=[],d=db(p),E(ib.test(d),"Invalid URL: "+d),p=o.createElement("form"),p.method="POST",p.target=n,p.style.display="none",n=d instanceof v?d:Fa(d),xa(p,"HTMLFormElement").action=Da(n),n=0;n<u.length;n++)d=o.createElement("input"),d.type="hidden",d.name=u[n][0],d.value=u[n][1],p.appendChild(d);i.appendChild(p),p.submit(),p.parentNode.removeChild(p),y&&y.close(),y=l}else y=zd(o,i,d,n,u);c.iframeNode=y,c.id=y.getAttribute("id"),y=c.id,i=B(),i.id=y,i.userParams=c.userParams,i.url=c.url,i.type=c.type,i.state=1,R[y]=i,y=c}else y=null;y&&((c=y.id)&&s.push(c),ae(e,y))}},he=function(e,o,i){if(e&&e.nodeType===1&&o){if(i)return 1;if(X[o]){if(pb[e.nodeName.toLowerCase()])return(e=e.innerHTML)&&e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")?0:1}else{if(Td[o])return 0;if(Sd[o])return 1}}return null},Qd=function(e,o){var i=o.type;delete o.type;var s=(typeof e=="string"?document.getElementById(e):e)||void 0;if(s){e={};for(var n in o)C(o,n)&&(e[n.toLowerCase()]=o[n]);e.rd=1,(o=!!e.ri)&&delete e.ri,n=[],be(i,s,e,n,0,o,void 0),ce(i,n)}else pc("gapi."+i+".render: missing element "+typeof e=="string"?e:"")};A(F,"platform",{}).go=Zd,$d=function(e){for(var o=["_c","jsl","h"],i=0;i<o.length&&e;i++)e=e[o[i]];return o=qb(La.href),!e||e.indexOf("n;")!=0&&o.indexOf("n;")!=0&&e!==o},ce=function(e,o){ie(e,o)};var lb=function(e){Yd(e,!0)},je=function(e,o){o=o||[];for(var i=0;i<o.length;++i)e(o[i]);for(e=0;e<o.length;e++)de(o[e])};N.push(["platform",function(e,o,i){if(Vd=i,o&&Ud.push(o),je(ee,e),je(fe,i._c.annotation),je(ge,i._c.bimodal),ic(),gc(),Q("parsetags")!="explicit"){if(rb(e),nc(mc())&&!Q("disableRealtimeCallback")&&rc(),i&&(e=i.callback)){var s=Ya(e);delete i.callback}nb(function(){lb(s)})}}]),F._pl=!0;var ke=function(e){if(e=(e=R[e])?e.oid:void 0,e){var o=z.getElementById(e);o&&o.parentNode.removeChild(o),delete R[e],ke(e)}},le=/^\{h:'/,me=/^!_/,ne="",ie=function(e,o){function i(){jb("message",s,"remove","de")}function s(l){var c=l.data,u=l.origin;if(oe(c,o)){var p=n;n=!1,p&&L("rqe"),pe(e,function(){p&&L("rqd"),i();for(var d=A(K,"RPMQ",[]),g=0;g<d.length;g++)d[g]({data:c,origin:u})})}}if(o.length!==0){ne=H(La.href,"pfname","");var n=!0;jb("message",s,"add","at"),ac(e,i)}},oe=function(e,o){if(e=String(e),le.test(e))return!0;var i=!1;if(me.test(e)&&(i=!0,e=e.substr(2)),!/^\{/.test(e))return!1;var s=Zc(e);if(!s)return!1;if(e=s.f,s.s&&e&&Oa.call(o,e)!=-1){if((s.s==="_renderstart"||s.s===ne+"/"+e+"::_renderstart")&&(s=s.a&&s.a[i?0:1],o=z.getElementById(e),tc(e,2),s&&o&&s.width&&s.height)){e:{if(i=o.parentNode,e=s||{},qc()){var n=o.id;if(n){if(s=(s=R[n])?s.state:void 0,s===1||s===4)break e;ke(n)}}(s=i.nextSibling)&&s.getAttribute&&s.getAttribute("data-gapistub")&&(i.parentNode.removeChild(s),i.style.cssText=""),s=e.width;var l=e.height,c=i.style;c.textIndent="0",c.margin="0",c.padding="0",c.background="transparent",c.borderStyle="none",c.cssFloat="none",c.styleFloat="none",c.lineHeight="normal",c.fontSize="1px",c.verticalAlign="baseline",i=i.style,i.display="inline-block",c=o.style,c.position="static",c.left="0",c.top="0",c.visibility="visible",s&&(i.width=c.width=s+"px"),l&&(i.height=c.height=l+"px"),e.verticalAlign&&(i.verticalAlign=e.verticalAlign),n&&tc(n,3)}o["data-csi-wdt"]=new Date().getTime()}return!0}return!1},pe=function(e,o){ac(e,o)},qe=function(e,o){this.L=e,e=o||{},this.fa=Number(e.maxAge)||0,this.U=e.domain,this.X=e.path,this.ga=!!e.secure};qe.prototype.read=function(){for(var e=this.L+"=",o=document.cookie.split(/;\s*/),i=0;i<o.length;++i){var s=o[i];if(s.indexOf(e)==0)return s.substr(e.length)}},qe.prototype.write=function(e,o){if(!re.test(this.L))throw"Invalid cookie name";if(!se.test(e))throw"Invalid cookie value";if(e=this.L+"="+e,this.U&&(e+=";domain="+this.U),this.X&&(e+=";path="+this.X),o=typeof o=="number"?o:this.fa,0<=o){var i=new Date;i.setSeconds(i.getSeconds()+o),e+=";expires="+i.toUTCString()}return this.ga&&(e+=";secure"),document.cookie=e,!0},qe.prototype.clear=function(){this.write("",0)};var se=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,re=/^[A-Z_][A-Z0-9_]{0,63}$/;qe.iterate=function(e){for(var o=document.cookie.split(/;\s*/),i=0;i<o.length;++i){var s=o[i].split("="),n=s.shift();e(n,s.join("="))}};var te=function(e){this.B=e};te.prototype.read=function(){if(Y.hasOwnProperty(this.B))return Y[this.B]},te.prototype.write=function(e){return Y[this.B]=e,!0},te.prototype.clear=function(){delete Y[this.B]};var Y={};te.iterate=function(e){for(var o in Y)Y.hasOwnProperty(o)&&e(o,Y[o])};var ue=window.location.protocol==="https:",ve=ue||window.location.protocol==="http:"?qe:te,we=function(e){var o=e.substr(1),i="",s=window.location.hostname;if(o!==""){if(i=parseInt(o,10),isNaN(i)||(o=s.split("."),o.length<i-1))return null;o.length==i-1&&(s="."+s)}else s="";return{i:e.charAt(0)=="S",domain:s,l:i}},xe=function(){var e,o=null;return ve.iterate(function(i,s){i.indexOf("G_AUTHUSER_")===0&&(i=we(i.substring(11)),!e||i.i&&!e.i||i.i==e.i&&i.l>e.l)&&(e=i,o=s)}),{ea:e,F:o}},ye=function(e){if(e.indexOf("GCSC")!==0)return null;var o={W:!1};if(e=e.substr(4),!e)return o;var i=e.charAt(0);e=e.substr(1);var s=e.lastIndexOf("_");if(s==-1)return o;var n=we(e.substr(s+1));return n==null||(e=e.substring(0,s),e.charAt(0)!=="_")?o:(s=i==="E"&&n.i,!s&&(i!=="U"||n.i)||s&&!ue?o:{W:!0,i:s,ja:e.substr(1),domain:n.domain,l:n.l})},ze=function(e){return e?(e=e.split("="),e[1]?e[1].split("|"):[]):[]},Ae=function(e){return e=e.split(":"),{clientId:e[0].split("=")[1],ia:ze(e[1]),la:ze(e[2]),ka:ze(e[3])}},Be=function(){var e=xe(),o=e.ea;if(e=e.F,e!==null){var i;if(ve.iterate(function(l,c){(l=ye(l))&&l.W&&l.i==o.i&&l.l==o.l&&(i=c)}),i){var s=Ae(i),n=s&&s.ia[Number(e)];if(s=s&&s.clientId,n)return{F:e,ha:n,clientId:s}}}return null},Z=function(){this.T=Ce};Z.prototype.$=function(){this.K||(this.v=0,this.K=!0,this.Y())},Z.prototype.Y=function(){this.K&&(this.T()?this.v=this.R:this.v=Math.min(2*(this.v||this.R),120),window.setTimeout(na(this.Y,this),1e3*this.v))},Z.prototype.v=0,Z.prototype.R=2,Z.prototype.T=null,Z.prototype.K=!1;var Ee=null;qc=function(){return K.oa=!0},rc=function(){K.oa=!0;var e=Be();(e=e&&e.F)&&hc("googleapis.config/sessionIndex",e),Ee||(Ee=A(K,"ss",new Z)),e=Ee,e.$&&e.$()};var Ce=function(){var e=Be(),o=e&&e.ha||null,i=e&&e.clientId;return ac("auth",{callback:function(){var s=x.gapi.auth,n={client_id:i,session_state:o};s.checkSessionState(n,function(l){var c=n.session_state,u=Q("isLoggedIn");l=Q("debug/forceIm")?!1:c&&l||!c&&!l,(u=u!=l)&&(hc("isLoggedIn",l),rc(),Rd(),l||((l=s.signOut)?l():(l=s.setToken)&&l(null))),l=mc();var p=Q("savedUserState");c=s._guss(l.cookiepolicy),p=p!=c&&typeof p<"u",hc("savedUserState",c),(u||p)&&nc(l)&&!Q("disableRealtimeCallback")&&s._pimf(l,!0)})}}),!0};L("bs0",!0,window.gapi._bs),L("bs1",!0),delete window.gapi._bs}).call(void 0);gapi.load("",{callback:window.gapi_onload,_c:{jsl:{ci:{deviceType:"desktop","oauth-flow":{authUrl:"https://accounts.google.com/o/oauth2/auth",proxyUrl:"https://accounts.google.com/o/oauth2/postmessageRelay",disableOpt:!0,idpIframeUrl:"https://accounts.google.com/o/oauth2/iframe",usegapi:!1},debug:{reportExceptionRate:.05,forceIm:!1,rethrowException:!1,host:"https://apis.google.com"},enableMultilogin:!0,"googleapis.config":{auth:{useFirstPartyAuthV2:!0}},isPlusUser:!1,inline:{css:1},disableRealtimeCallback:!1,drive_share:{skipInitCommand:!0},csi:{rate:.01},client:{cors:!1},isLoggedIn:!0,signInDeprecation:{rate:0},include_granted_scopes:!0,llang:"pt",iframes:{youtube:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/youtube?usegapi=1",methods:["scroll","openwindow"]},ytsubscribe:{url:"https://www.youtube.com/subscribe_embed?usegapi=1"},plus_circle:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/plus/circle?usegapi=1"},plus_share:{params:{url:""},url:":socialhost:/:session_prefix::se:_/+1/sharebutton?plusShare=true&usegapi=1"},rbr_s:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarsimplescroller"},":source:":"3p",playemm:{url:"https://play.google.com/work/embedded/search?usegapi=1&usegapi=1"},savetoandroidpay:{url:"https://pay.google.com/gp/v/widget/save"},blogger:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/blogger?usegapi=1",methods:["scroll","openwindow"]},evwidget:{params:{url:""},url:":socialhost:/:session_prefix:_/events/widget?usegapi=1"},partnersbadge:{url:"https://www.gstatic.com/partners/badge/templates/badge.html?usegapi=1"},dataconnector:{url:"https://dataconnector.corp.google.com/:session_prefix:ui/widgetview?usegapi=1"},surveyoptin:{url:"https://www.google.com/shopping/customerreviews/optin?usegapi=1"},":socialhost:":"https://apis.google.com",shortlists:{url:""},hangout:{url:"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget"},plus_followers:{params:{url:""},url:":socialhost:/_/im/_/widget/render/plus/followers?usegapi=1"},post:{params:{url:""},url:":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi=1"},":gplus_url:":"https://plus.google.com",signin:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/signin?usegapi=1",methods:["onauth"]},rbr_i:{params:{url:""},url:":socialhost:/:session_prefix::se:_/widget/render/recobarinvitation"},share:{url:":socialhost:/:session_prefix::im_prefix:_/widget/render/share?usegapi=1"},plusone:{params:{count:"",size:"",url:""},url:":socialhost:/:session_prefix::se:_/+1/fastbutton?usegapi=1"},comments:{params:{location:["search","hash"]},url:":socialhost:/:session_prefix:_/widget/render/comments?usegapi=1",methods:["scroll","openwindow"]},":im_socialhost:":"https://plus.googleapis.com",backdrop:{url:"https://clients3.google.com/cast/chromecast/home/widget/backdrop?usegapi=1"},visibility:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/visibility?usegapi=1"},autocomplete:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/autocomplete"},additnow:{url:"https://apis.google.com/marketplace/button?usegapi=1",methods:["launchurl"]},":signuphost:":"https://plus.google.com",ratingbadge:{url:"https://www.google.com/shopping/customerreviews/badge?usegapi=1"},appcirclepicker:{url:":socialhost:/:session_prefix:_/widget/render/appcirclepicker"},follow:{url:":socialhost:/:session_prefix:_/widget/render/follow?usegapi=1"},community:{url:":ctx_socialhost:/:session_prefix::im_prefix:_/widget/render/community?usegapi=1"},sharetoclassroom:{url:"https://classroom.google.com/sharewidget?usegapi=1"},ytshare:{params:{url:""},url:":socialhost:/:session_prefix:_/widget/render/ytshare?usegapi=1"},plus:{url:":socialhost:/:session_prefix:_/widget/render/badge?usegapi=1"},family_creation:{params:{url:""},url:"https://families.google.com/webcreation?usegapi=1&usegapi=1"},commentcount:{url:":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi=1"},configurator:{url:":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi=1"},zoomableimage:{url:"https://ssl.gstatic.com/microscope/embed/"},appfinder:{url:"https://workspace.google.com/:session_prefix:marketplace/appfinder?usegapi=1"},savetowallet:{url:"https://pay.google.com/gp/v/widget/save"},person:{url:":socialhost:/:session_prefix:_/widget/render/person?usegapi=1"},savetodrive:{url:"https://drive.google.com/savetodrivebutton?usegapi=1",methods:["save"]},page:{url:":socialhost:/:session_prefix:_/widget/render/page?usegapi=1"},card:{url:":socialhost:/:session_prefix:_/hovercard/card"}}},h:"m;/_/scs/apps-static/_/js/k=oz.gapi.pt_BR.l4Bv_WkVC6g.O/am=wQE/d=1/ct=zgms/rs=AGLTcCOuH5S2uqmF6E8zOW7n3yiqiwhzNQ/m=__features__",u:"https://apis.google.com/js/platform.js",hee:!0,fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",dpo:!1},platform:["additnow","backdrop","blogger","comments","commentcount","community","donation","family_creation","follow","hangout","health","page","partnersbadge","person","playemm","playreview","plus","plusone","post","ratingbadge","savetoandroidpay","savetodrive","savetowallet","sharetoclassroom","shortlists","signin2","surveyoptin","visibility","youtube","ytsubscribe","zoomableimage"],fp:"821a251b140e4add32f87f4a7a08f044a59aa0e9",annotation:["interactivepost","recobar","signin2","autocomplete","profile"],bimodal:["signin","share"]}});const index=Object.freeze(Object.defineProperty({__proto__:null,gapi},Symbol.toStringTag,{value:"Module"}));function validateGoogleConfig(){const e=[],o=[];return"AIzaSyAEOr-6nIoOfiKiN_EbMyeZxuagJWpzCrQ".length<30&&o.push("Google API Key appears to be too short. Please verify it is correct."),googleConfig.auth.clientId.includes(".googleusercontent.com")||o.push("Google Client ID format appears incorrect. It should end with .googleusercontent.com"),googleConfig.sheets.spreadsheetId.length!==44&&o.push("Google Spreadsheet ID length appears incorrect. Should be 44 characters long."),(!googleConfig.sheets.scopes||googleConfig.sheets.scopes.length===0)&&e.push("Google Sheets scopes are not configured."),{isValid:e.length===0,errors:e,warnings:o}}function logConfigValidation(){const e=validateGoogleConfig();e.isValid?console.log("✅ Google Configuration Validation Passed"):(console.error("❌ Google Configuration Validation Failed:"),e.errors.forEach(o=>console.error(`  • ${o}`))),e.warnings.length>0&&(console.warn("⚠️ Google Configuration Warnings:"),e.warnings.forEach(o=>console.warn(`  • ${o}`)))}let isInitializing=!1,initializationCompleted=!1,initializationPromise=null;async function initializeGoogleApi(e={retries:3,timeout:15e3}){var s,n,l;const o=validateGoogleConfig();if(!o.isValid)throw console.error("Google API configuration validation failed:"),o.errors.forEach(c=>console.error(`  • ${c}`)),new Error("Google API configuration is invalid. Please check your environment variables.");if(logConfigValidation(),isInitializing&&initializationPromise)return console.log("Google API initialization already in progress, returning existing promise"),initializationPromise;if(initializationCompleted&&((s=gapi==null?void 0:gapi.client)!=null&&s.sheets)&&((n=gapi==null?void 0:gapi.auth2)!=null&&n.getAuthInstance()))try{const c=gapi.auth2.getAuthInstance();if(c&&typeof((l=c.isSignedIn)==null?void 0:l.get)=="function")return console.log("Google API already initialized and working"),!0}catch(c){console.warn("Previously initialized auth instance is no longer valid, re-initializing:",c),initializationCompleted=!1}isInitializing=!0;let i=0;initializationPromise=(async()=>{const c=[...googleConfig.sheets.scopes,...googleConfig.drive.scopes,"profile","email"].join(" "),u=async()=>{try{if(!gapi)throw new Error("Google API script not loaded. Please ensure gapi-script is properly loaded.");gapi.client||await new Promise((h,_)=>{const y=setTimeout(()=>{_(new Error("Timeout loading gapi.client"))},e.timeout);gapi.load("client",{callback:()=>{clearTimeout(y),h()},onerror:k=>{clearTimeout(y),_(k||new Error("Failed to load gapi.client"))}})}),gapi.auth2||await new Promise((h,_)=>{const y=setTimeout(()=>{_(new Error("Timeout loading gapi.auth2"))},e.timeout);gapi.load("auth2",{callback:()=>{clearTimeout(y),h()},onerror:k=>{clearTimeout(y),_(k||new Error("Failed to load gapi.auth2"))}})});const p="AIzaSyAEOr-6nIoOfiKiN_EbMyeZxuagJWpzCrQ",d=googleConfig.auth.clientId;if(await gapi.client.init({apiKey:p,clientId:d,scope:c,discoveryDocs:["https://sheets.googleapis.com/$discovery/rest?version=v4"]}),!gapi.auth2.getAuthInstance())throw new Error("Failed to get Google Auth instance after initialization");return gapi.client.sheets||await new Promise((h,_)=>{gapi.client.load("sheets","v4").then(()=>{gapi.client.sheets?h():_(new Error("Google Sheets API failed to load properly"))}).catch(_)}),console.log("Google API initialization completed successfully"),isInitializing=!1,initializationCompleted=!0,!0}catch(p){if(console.error(`Google API initialization attempt ${i+1} failed:`,p),i<e.retries-1){i++;const d=Math.min(1e3*Math.pow(2,i)+Math.random()*1e3,1e4);return console.log(`Retrying Google API initialization in ${d}ms...`),await new Promise(g=>setTimeout(g,d)),u()}else throw isInitializing=!1,initializationPromise=null,p}};return u()})();try{return await initializationPromise}catch(c){return isInitializing=!1,initializationPromise=null,console.error("Failed to initialize Google API after multiple attempts:",c),!1}}async function ensureValidToken(){var e,o;try{if(!((o=(e=gapi==null?void 0:gapi.auth2)==null?void 0:e.getAuthInstance())!=null&&o.isSignedIn.get()))return console.warn("User is not signed in"),null;const i=gapi.auth2.getAuthInstance().currentUser.get();if(!i)return console.warn("No Google user found"),null;const s=i.getAuthResponse();if(!s)return console.warn("No auth response found"),null;if(s.expires_at-Date.now()<5*60*1e3)try{console.log("Token expiring soon, refreshing..."),await i.reloadAuthResponse();const l=i.getAuthResponse();return console.log("Token refreshed successfully"),l.access_token}catch(l){return console.error("Error refreshing Google access token:",l),null}return s.access_token}catch(i){return console.error("Error in ensureValidToken:",i),null}}function isGoogleApiInitialized(){var e,o;return initializationCompleted&&!!((e=gapi==null?void 0:gapi.client)!=null&&e.sheets)&&!!((o=gapi==null?void 0:gapi.auth2)!=null&&o.getAuthInstance())}const googleApiHelper=Object.freeze(Object.defineProperty({__proto__:null,ensureValidToken,initializeGoogleApi,isGoogleApiInitialized},Symbol.toStringTag,{value:"Module"})),useAppStore=create()(persist((e,o)=>({isAuthenticated:!1,user:null,token:null,googleAuth:null,authLoading:!1,authError:null,currentView:"dashboard",themeMode:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",isSidebarCollapsed:!1,metricSettings:{system:"metric",weightUnit:"kg",heightUnit:"cm",temperatureUnit:"celsius"},initAuth:async()=>{if(o().authLoading){console.log("Auth initialization already in progress");return}e({authLoading:!0,authError:null});try{if(console.log("Starting Google Auth initialization..."),!await initializeGoogleApi({retries:3,timeout:2e4}))throw new Error("Failed to initialize Google API after multiple attempts");const{gapi:n}=await __vitePreload(async()=>{const{gapi:c}=await Promise.resolve().then(()=>index);return{gapi:c}},void 0,import.meta.url),l=n.auth2.getAuthInstance();if(!l)throw new Error("Google Auth instance not available");if(console.log("Google Auth instance obtained successfully"),l.isSignedIn.get()){console.log("User is already signed in, updating state...");const c=l.currentUser.get(),u=c.getBasicProfile(),p=c.getAuthResponse(!0);if(!p||!p.access_token)throw new Error("Invalid authentication response");e({isAuthenticated:!0,user:{id:u.getId(),name:u.getName(),email:u.getEmail(),picture:u.getImageUrl()},token:p.access_token,googleAuth:l,authLoading:!1,authError:null}),console.log("Authentication state updated successfully")}else console.log("User not signed in, setting auth instance only"),e({googleAuth:l,authLoading:!1,authError:null})}catch(s){console.error("Error initializing Google Auth:",s);let n="Failed to initialize authentication";s instanceof Error&&(s.message.includes("API_KEY")?n="Google API key not configured. Please check environment variables.":s.message.includes("CLIENT_ID")?n="Google Client ID not configured. Please check configuration.":s.message.includes("script not loaded")?n="Google API script failed to load. Please check your internet connection.":n=s.message),e({authError:n,authLoading:!1,googleAuth:null})}},login:async()=>{e({authLoading:!0,authError:null});try{const{googleAuth:i}=o();if(!i&&(await o().initAuth(),!o().googleAuth))throw new Error("Google Auth initialization failed");const n=await o().googleAuth.signIn({scope:[...googleConfig.sheets.scopes,...googleConfig.drive.scopes,"profile","email"].join(" ")}),l=n.getBasicProfile(),c=n.getAuthResponse(!0);e({isAuthenticated:!0,user:{id:l.getId(),name:l.getName(),email:l.getEmail(),picture:l.getImageUrl()},token:c.access_token,authLoading:!1,authError:null})}catch(i){console.error("Login error:",i),e({authError:i instanceof Error?i.message:"Login failed. Please try again.",authLoading:!1})}},logout:async()=>{e({authLoading:!0});try{const{googleAuth:i}=o();i&&await i.signOut(),e({isAuthenticated:!1,user:null,token:null,authLoading:!1,authError:null})}catch(i){console.error("Logout error:",i),e({authError:"Logout failed. Please try again.",authLoading:!1})}},setCurrentView:i=>{e({currentView:i})},toggleTheme:()=>{const i=o().themeMode==="light"?"dark":"light";e({themeMode:i}),typeof document<"u"&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(i),localStorage.setItem("theme",i))},setThemeMode:i=>{e({themeMode:i}),typeof document<"u"&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(i),localStorage.setItem("theme",i))},toggleSidebar:()=>{e(i=>({isSidebarCollapsed:!i.isSidebarCollapsed}))},setIsSidebarCollapsed:i=>{e({isSidebarCollapsed:i})},setMetricSystem:i=>e(s=>({metricSettings:{...s.metricSettings,system:i,weightUnit:i==="metric"?"kg":"lbs",heightUnit:i==="metric"?"cm":"inch",temperatureUnit:i==="metric"?"celsius":"fahrenheit"}})),setWeightUnit:i=>e(s=>({metricSettings:{...s.metricSettings,weightUnit:i}})),setHeightUnit:i=>e(s=>({metricSettings:{...s.metricSettings,heightUnit:i}})),setTemperatureUnit:i=>e(s=>({metricSettings:{...s.metricSettings,temperatureUnit:i}}))}),{name:"workout-app-storage",partialize:e=>({themeMode:e.themeMode,token:e.token,user:e.user,isAuthenticated:e.isAuthenticated,currentView:e.currentView,isSidebarCollapsed:e.isSidebarCollapsed,metricSettings:e.metricSettings})}));var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(e,...o){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(e){return!!e&&!!e[DRAFT_STATE]}function isDraftable(e){var o;return e?isPlainObject(e)||Array.isArray(e)||!!e[DRAFTABLE]||!!((o=e.constructor)!=null&&o[DRAFTABLE])||isMap(e)||isSet(e):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject(e){if(!e||typeof e!="object")return!1;const o=getPrototypeOf(e);if(o===null)return!0;const i=Object.hasOwnProperty.call(o,"constructor")&&o.constructor;return i===Object?!0:typeof i=="function"&&Function.toString.call(i)===objectCtorString}function each(e,o){getArchtype(e)===0?Reflect.ownKeys(e).forEach(i=>{o(i,e[i],e)}):e.forEach((i,s)=>o(s,i,e))}function getArchtype(e){const o=e[DRAFT_STATE];return o?o.type_:Array.isArray(e)?1:isMap(e)?2:isSet(e)?3:0}function has(e,o){return getArchtype(e)===2?e.has(o):Object.prototype.hasOwnProperty.call(e,o)}function set(e,o,i){const s=getArchtype(e);s===2?e.set(o,i):s===3?e.add(i):e[o]=i}function is(e,o){return e===o?e!==0||1/e===1/o:e!==e&&o!==o}function isMap(e){return e instanceof Map}function isSet(e){return e instanceof Set}function latest(e){return e.copy_||e.base_}function shallowCopy(e,o){if(isMap(e))return new Map(e);if(isSet(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const i=isPlainObject(e);if(o===!0||o==="class_only"&&!i){const s=Object.getOwnPropertyDescriptors(e);delete s[DRAFT_STATE];let n=Reflect.ownKeys(s);for(let l=0;l<n.length;l++){const c=n[l],u=s[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(s[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(getPrototypeOf(e),s)}else{const s=getPrototypeOf(e);if(s!==null&&i)return{...e};const n=Object.create(s);return Object.assign(n,e)}}function freeze(e,o=!1){return isFrozen(e)||isDraft(e)||!isDraftable(e)||(getArchtype(e)>1&&(e.set=e.add=e.clear=e.delete=dontMutateFrozenCollections),Object.freeze(e),o&&Object.entries(e).forEach(([i,s])=>freeze(s,!0))),e}function dontMutateFrozenCollections(){die(2)}function isFrozen(e){return Object.isFrozen(e)}var plugins={};function getPlugin(e){const o=plugins[e];return o||die(0,e),o}var currentScope;function getCurrentScope(){return currentScope}function createScope(e,o){return{drafts_:[],parent_:e,immer_:o,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(e,o){o&&(getPlugin("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=o)}function revokeScope(e){leaveScope(e),e.drafts_.forEach(revokeDraft),e.drafts_=null}function leaveScope(e){e===currentScope&&(currentScope=e.parent_)}function enterScope(e){return currentScope=createScope(currentScope,e)}function revokeDraft(e){const o=e[DRAFT_STATE];o.type_===0||o.type_===1?o.revoke_():o.revoked_=!0}function processResult(e,o){o.unfinalizedDrafts_=o.drafts_.length;const i=o.drafts_[0];return e!==void 0&&e!==i?(i[DRAFT_STATE].modified_&&(revokeScope(o),die(4)),isDraftable(e)&&(e=finalize(o,e),o.parent_||maybeFreeze(o,e)),o.patches_&&getPlugin("Patches").generateReplacementPatches_(i[DRAFT_STATE].base_,e,o.patches_,o.inversePatches_)):e=finalize(o,i,[]),revokeScope(o),o.patches_&&o.patchListener_(o.patches_,o.inversePatches_),e!==NOTHING?e:void 0}function finalize(e,o,i){if(isFrozen(o))return o;const s=o[DRAFT_STATE];if(!s)return each(o,(n,l)=>finalizeProperty(e,s,o,n,l,i)),o;if(s.scope_!==e)return o;if(!s.modified_)return maybeFreeze(e,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const n=s.copy_;let l=n,c=!1;s.type_===3&&(l=new Set(n),n.clear(),c=!0),each(l,(u,p)=>finalizeProperty(e,s,n,u,p,i,c)),maybeFreeze(e,n,!1),i&&e.patches_&&getPlugin("Patches").generatePatches_(s,i,e.patches_,e.inversePatches_)}return s.copy_}function finalizeProperty(e,o,i,s,n,l,c){if(isDraft(n)){const u=l&&o&&o.type_!==3&&!has(o.assigned_,s)?l.concat(s):void 0,p=finalize(e,n,u);if(set(i,s,p),isDraft(p))e.canAutoFreeze_=!1;else return}else c&&i.add(n);if(isDraftable(n)&&!isFrozen(n)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;finalize(e,n),(!o||!o.scope_.parent_)&&typeof s!="symbol"&&Object.prototype.propertyIsEnumerable.call(i,s)&&maybeFreeze(e,n)}}function maybeFreeze(e,o,i=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&freeze(o,i)}function createProxyProxy(e,o){const i=Array.isArray(e),s={type_:i?1:0,scope_:o?o.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:o,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,l=objectTraps;i&&(n=[s],l=arrayTraps);const{revoke:c,proxy:u}=Proxy.revocable(n,l);return s.draft_=u,s.revoke_=c,u}var objectTraps={get(e,o){if(o===DRAFT_STATE)return e;const i=latest(e);if(!has(i,o))return readPropFromProto(e,i,o);const s=i[o];return e.finalized_||!isDraftable(s)?s:s===peek(e.base_,o)?(prepareCopy(e),e.copy_[o]=createProxy(s,e)):s},has(e,o){return o in latest(e)},ownKeys(e){return Reflect.ownKeys(latest(e))},set(e,o,i){const s=getDescriptorFromProto(latest(e),o);if(s!=null&&s.set)return s.set.call(e.draft_,i),!0;if(!e.modified_){const n=peek(latest(e),o),l=n==null?void 0:n[DRAFT_STATE];if(l&&l.base_===i)return e.copy_[o]=i,e.assigned_[o]=!1,!0;if(is(i,n)&&(i!==void 0||has(e.base_,o)))return!0;prepareCopy(e),markChanged(e)}return e.copy_[o]===i&&(i!==void 0||o in e.copy_)||Number.isNaN(i)&&Number.isNaN(e.copy_[o])||(e.copy_[o]=i,e.assigned_[o]=!0),!0},deleteProperty(e,o){return peek(e.base_,o)!==void 0||o in e.base_?(e.assigned_[o]=!1,prepareCopy(e),markChanged(e)):delete e.assigned_[o],e.copy_&&delete e.copy_[o],!0},getOwnPropertyDescriptor(e,o){const i=latest(e),s=Reflect.getOwnPropertyDescriptor(i,o);return s&&{writable:!0,configurable:e.type_!==1||o!=="length",enumerable:s.enumerable,value:i[o]}},defineProperty(){die(11)},getPrototypeOf(e){return getPrototypeOf(e.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(e,o)=>{arrayTraps[e]=function(){return arguments[0]=arguments[0][0],o.apply(this,arguments)}});arrayTraps.deleteProperty=function(e,o){return arrayTraps.set.call(this,e,o,void 0)};arrayTraps.set=function(e,o,i){return objectTraps.set.call(this,e[0],o,i,e[0])};function peek(e,o){const i=e[DRAFT_STATE];return(i?latest(i):e)[o]}function readPropFromProto(e,o,i){var n;const s=getDescriptorFromProto(o,i);return s?"value"in s?s.value:(n=s.get)==null?void 0:n.call(e.draft_):void 0}function getDescriptorFromProto(e,o){if(!(o in e))return;let i=getPrototypeOf(e);for(;i;){const s=Object.getOwnPropertyDescriptor(i,o);if(s)return s;i=getPrototypeOf(i)}}function markChanged(e){e.modified_||(e.modified_=!0,e.parent_&&markChanged(e.parent_))}function prepareCopy(e){e.copy_||(e.copy_=shallowCopy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(o,i,s)=>{if(typeof o=="function"&&typeof i!="function"){const l=i;i=o;const c=this;return function(p=l,...d){return c.produce(p,g=>i.call(this,g,...d))}}typeof i!="function"&&die(6),s!==void 0&&typeof s!="function"&&die(7);let n;if(isDraftable(o)){const l=enterScope(this),c=createProxy(o,void 0);let u=!0;try{n=i(c),u=!1}finally{u?revokeScope(l):leaveScope(l)}return usePatchesInScope(l,s),processResult(n,l)}else if(!o||typeof o!="object"){if(n=i(o),n===void 0&&(n=o),n===NOTHING&&(n=void 0),this.autoFreeze_&&freeze(n,!0),s){const l=[],c=[];getPlugin("Patches").generateReplacementPatches_(o,n,l,c),s(l,c)}return n}else die(1,o)},this.produceWithPatches=(o,i)=>{if(typeof o=="function")return(c,...u)=>this.produceWithPatches(c,p=>o(p,...u));let s,n;return[this.produce(o,i,(c,u)=>{s=c,n=u}),s,n]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){isDraftable(e)||die(8),isDraft(e)&&(e=current(e));const o=enterScope(this),i=createProxy(e,void 0);return i[DRAFT_STATE].isManual_=!0,leaveScope(o),i}finishDraft(e,o){const i=e&&e[DRAFT_STATE];(!i||!i.isManual_)&&die(9);const{scope_:s}=i;return usePatchesInScope(s,o),processResult(void 0,s)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,o){let i;for(i=o.length-1;i>=0;i--){const n=o[i];if(n.path.length===0&&n.op==="replace"){e=n.value;break}}i>-1&&(o=o.slice(i+1));const s=getPlugin("Patches").applyPatches_;return isDraft(e)?s(e,o):this.produce(e,n=>s(n,o))}};function createProxy(e,o){const i=isMap(e)?getPlugin("MapSet").proxyMap_(e,o):isSet(e)?getPlugin("MapSet").proxySet_(e,o):createProxyProxy(e,o);return(o?o.scope_:getCurrentScope()).drafts_.push(i),i}function current(e){return isDraft(e)||die(10,e),currentImpl(e)}function currentImpl(e){if(!isDraftable(e)||isFrozen(e))return e;const o=e[DRAFT_STATE];let i;if(o){if(!o.modified_)return o.base_;o.finalized_=!0,i=shallowCopy(e,o.scope_.immer_.useStrictShallowCopy_)}else i=shallowCopy(e,!0);return each(i,(s,n)=>{set(i,s,currentImpl(n))}),o&&(o.finalized_=!1),i}var immer$1=new Immer2,produce=immer$1.produce;immer$1.produceWithPatches.bind(immer$1);immer$1.setAutoFreeze.bind(immer$1);immer$1.setUseStrictShallowCopy.bind(immer$1);immer$1.applyPatches.bind(immer$1);immer$1.createDraft.bind(immer$1);immer$1.finishDraft.bind(immer$1);const computeDailyMetrics=e=>{if(!e||!Array.isArray(e)||e.length===0)return[];const o=90*20*10,i=.2,s={};e.forEach(u=>{const d=`${u[0]?typeof u[0]=="string"?u[0]:new Date(u[0]).toISOString().split("T")[0]:"UnknownDate"}_${u[1]}_${u[2]}`;s[d]||(s[d]=[]),s[d].push(u)});const n=Object.entries(s).map(([u,p],d)=>{const[g,h,_]=u.split("_"),y=p.reduce((Te,G)=>Te+parseReps(G[3])*parseWeight(G[4]),0).toFixed(2),k=p.length,M=p.reduce((Te,G)=>Te+parseReps(G[3]),0).toFixed(0),J=k?(parseFloat(M)/k).toFixed(1):"0.0",j=k?(p.reduce((Te,G)=>Te+parseWeight(G[4]),0)/k).toFixed(2):"0.00",$=k?(p.reduce((Te,G)=>Te+parseRating(G[5]),0)/k).toFixed(1):"0.0",_e=Math.max(...p.map(Te=>parseWeight(Te[4]))),Ie=p.reduce((Te,G)=>{var Fe;const Pe=((Fe=G[5])==null?void 0:Fe.toString())||"N/A";return Te[Pe]=(Te[Pe]||0)+1,Te},{}),f=Object.entries(Ie).reduce((Te,G)=>G[1]>Te[1]?G:Te,["N/A",0])[0],Re=p.reduce((Te,G)=>{const Pe=parseReps(G[3]),Fe=parseWeight(G[4]),Me=parseRating(G[5]),Oe=Fe*Pe*Me;return Te+Oe/o*100},0).toFixed(2);return{id:d+1,date:g||"",muscleGroup:h||"",exercise:_||"",totalVolume:y,totalSets:k,totalReps:M,averageReps:J,averageWeight:j,averageFatigue:$,maxWeight:_e,howIFeel:f,intensity:Re,fatigue:"0"}}).sort((u,p)=>new Date(u.date).getTime()-new Date(p.date).getTime()),l={};n.forEach(u=>{const p=u.date;l[p]||(l[p]="0");const d=(parseFloat(u.intensity)*i).toFixed(2);l[p]=(parseFloat(l[p])+parseFloat(d)).toFixed(2),u.fatigue=l[p]});const c={};return n.forEach(u=>{const p=`${u.muscleGroup}_${u.exercise}`;let d="N/A";if(c[p]){const g=parseFloat(c[p].highestVolume.toString()),h=parseFloat(u.totalVolume);d=g&&g!==0?((h-g)/g*100).toFixed(2):"0.00",h>g&&(c[p].highestVolume=h)}else c[p]={highestVolume:parseFloat(u.totalVolume)},d="0.00";u.progressionRate=d}),n},parseReps=e=>{const o=parseFloat(String(e));return isNaN(o)?0:o},parseWeight=e=>{const o=parseFloat(String(e));return isNaN(o)?0:o},parseRating=e=>{const o=parseFloat(String(e));return isNaN(o)||o<1||o>10?7:Math.min(Math.max(o,1),10)},getTotalWorkouts=e=>!e||e.length===0?0:new Set(e.map(i=>{try{return new Date(i.date).toDateString()}catch{return null}}).filter(i=>i!==null)).size,getWeeklyAverageWorkouts=e=>{if(!e||e.length===0)return 0;const o=e.filter(d=>{try{return!isNaN(new Date(d.date).getTime())}catch{return!1}});if(o.length===0)return 0;const i=[...o].sort((d,g)=>new Date(d.date).getTime()-new Date(g.date).getTime()),s=new Date(i[0].date),n=new Date(i[i.length-1].date),l=Math.abs(n.getTime()-s.getTime()),c=Math.ceil(l/(1e3*60*60*24))+1,u=Math.max(1,c/7),p=getTotalWorkouts(o);return parseFloat((p/u).toFixed(1))},getTotalWeightLifted=(e,o="month")=>{if(!e||e.length===0)return 0;let i=e.filter(s=>{try{return!isNaN(new Date(s.date).getTime())}catch{return!1}});if(o==="month"){const s=new Date().getMonth(),n=new Date().getFullYear();i=i.filter(l=>{const c=new Date(l.date);return c.getMonth()===s&&c.getFullYear()===n})}return i.length===0?0:parseFloat(i.reduce((s,n)=>s+parseReps(n.reps)*parseWeight(n.weight),0).toFixed(2))},getPersonalRecordsCount=e=>{if(!e||e.length===0)return 0;const o={};return e.forEach(i=>{if(i.exercise&&typeof i.exercise=="string"){const s=parseWeight(i.weight);(!o[i.exercise]||s>o[i.exercise])&&(o[i.exercise]=s)}}),Object.keys(o).length},getNewPRsThisMonth=e=>{if(!e||e.length===0)return 0;const o=new Date().getMonth(),i=new Date().getFullYear(),s={},n=[...e].filter(u=>{try{return!isNaN(new Date(u.date).getTime())&&u.exercise&&typeof u.exercise=="string"}catch{return!1}}).sort((u,p)=>new Date(u.date).getTime()-new Date(p.date).getTime());if(n.length===0)return 0;const l={};n.forEach(u=>{const p=parseWeight(u.weight),d=new Date(u.date);(!s[u.exercise]||p>s[u.exercise].weight)&&(s[u.exercise]={weight:p,date:d}),d.getMonth()===o&&d.getFullYear()===i&&(!l[u.exercise]||p>l[u.exercise].weight)&&(l[u.exercise]={weight:p,date:d})});let c=0;for(const u in l){const p=l[u];let d=0;n.forEach(g=>{if(g.exercise===u){const h=new Date(g.date);(h.getFullYear()<i||h.getFullYear()===i&&h.getMonth()<o)&&(d=Math.max(d,parseWeight(g.weight)))}}),p.weight>d&&c++}return c},SPREADSHEET_ID=googleConfig.sheets.spreadsheetId;async function getSheetsService(){if(!gapi)throw console.error("Google API (gapi) not loaded."),new Error("Google API (gapi) not loaded.");const{isGoogleApiInitialized:e,initializeGoogleApi:o}=await __vitePreload(async()=>{const{isGoogleApiInitialized:l,initializeGoogleApi:c}=await Promise.resolve().then(()=>googleApiHelper);return{isGoogleApiInitialized:l,initializeGoogleApi:c}},void 0,import.meta.url);let i=0;const s=3;for(;!e()&&i<s;)if(console.log(`Google API not initialized, attempting initialization (attempt ${i+1}/${s})...`),!await o({retries:2,timeout:2e4})){if(i++,i===s)throw console.error("Failed to initialize Google API after maximum attempts."),new Error("Failed to initialize Google API after multiple attempts.");const c=Math.min(1e3*Math.pow(2,i),5e3);await new Promise(u=>setTimeout(u,c))}if(!gapi.auth2)throw console.error("Google Auth (gapi.auth2) not initialized after API initialization."),new Error("Google Auth (gapi.auth2) not initialized.");let n;try{n=gapi.auth2.getAuthInstance()}catch(l){throw console.error("Error getting auth instance:",l),new Error("Google Auth instance not available.")}if(!n)throw console.error("Google Auth instance not available."),new Error("Google Auth instance not available.");if(!n.isSignedIn.get())throw console.error("User is not signed in via Google Auth."),new Error("User not authenticated for Google Sheets API.");if((!gapi.client||typeof gapi.client.load!="function")&&await new Promise((l,c)=>{gapi.load("client",u=>{u||!gapi.client?(console.error("Failed to load gapi.client:",u),c(u||new Error("Failed to load gapi.client"))):l()})}),!gapi.client.sheets)try{await new Promise((l,c)=>{gapi.client.load("sheets","v4").then(()=>{gapi.client.sheets?l():(console.error("gapi.client.sheets not available after load call."),c(new Error("gapi.client.sheets not available after load call.")))},u=>{console.error("Error in gapi.client.load('sheets', 'v4'):",u),c(u)})})}catch(l){throw console.error("Error loading Google Sheets API (wrapped promise):",l),new Error("Failed to load Google Sheets API.")}if(!gapi.client.sheets)throw console.error("gapi.client.sheets is critically unavailable after loading attempts."),new Error("Google Sheets API (gapi.client.sheets) is critically unavailable.");return gapi.client.sheets}async function createSpreadsheetRow(e,o){var i,s,n;try{const l=await getSheetsService();let c;return e==="Workout_Logs"||e==="Workout_Log"?c=[[o.id||generateUniqueId(),o.date||"",o.muscleGroup||"",o.exercise||"",o.reps||0,o.weight||0,o.rating||0,o.restTime||""]]:e==="WorkoutTemplates"?c=[[o.ID||o.id||generateUniqueId(),o.Name||o.name||"",o.Description||o.description||"",o.Exercises||o.exercises||"",o.CreatedAt||o.createdAt||new Date().toISOString(),o.LastUsed||o.lastUsed||""]]:e==="Vital_Signs"?c=[[o.ID||o.id||generateUniqueId(),o.PersonID||o.personId||"",o.Date||o.date||"",o.Time||o.time||"",o.BloodPressureSystolic||o.bloodPressureSystolic||"",o.BloodPressureDiastolic||o.bloodPressureDiastolic||"",o.HeartRate||o.heartRate||"",o.Temperature||o.temperature||"",o.RespiratoryRate||o.respiratoryRate||"",o.OxygenSaturation||o.oxygenSaturation||"",o.Notes||o.notes||"",o.Timestamp||o.timestamp||new Date().toISOString()]]:e==="Body_Measurements"?c=[[o.ID||o.id||generateUniqueId(),o.PersonID||o.personId||"",o.Date||o.date||"",o.Time||o.time||"",o.Weight||o.weight||"",o.Height||o.height||"",o.BodyFat||o.bodyFat||"",o.MuscleMass||o.muscleMass||"",o.BMI||o.bmi||"",o.Waist||o.waist||"",o.Chest||o.chest||"",o.Hips||o.hips||"",o.Neck||o.neck||"",o.Notes||o.notes||"",o.Timestamp||o.timestamp||new Date().toISOString()]]:e==="Nutrition_Log"?c=[[o.ID||o.id||generateUniqueId(),o.PersonID||o.personId||"",o.Date||o.date||"",o.Meal||o.meal||"",o.Food||o.food||"",o.Calories||o.calories||"",o.Protein||o.protein||"",o.Carbs||o.carbs||"",o.Fat||o.fat||"",o.Fiber||o.fiber||"",o.Notes||o.notes||"",o.Timestamp||o.timestamp||new Date().toISOString()]]:e==="Meditation_Log"?c=[[o.ID||o.id||generateUniqueId(),o.PersonID||o.personId||"",o.Date||o.date||"",o.Type||o.type||"",o.Duration||o.duration||"",o.MoodBefore||o.moodBefore||"",o.MoodAfter||o.moodAfter||"",o.StressBefore||o.stressBefore||"",o.StressAfter||o.stressAfter||"",o.Guided||o.guided||"",o.Notes||o.notes||"",o.Timestamp||o.timestamp||new Date().toISOString()]]:e==="Health_Tracking"?c=[[o.ID||o.id||generateUniqueId(),o.PersonID||o.personId||"",o.Date||o.date||"",o.Type||o.type||"",o.Value||o.value||"",o.Unit||o.unit||"",o.Notes||o.notes||"",o.Timestamp||o.timestamp||new Date().toISOString()]]:e==="ToDo"?c=[[o.ID||o.id||generateUniqueId(),o.PersonID||o.personId||"",o.Title||o.title||"",o.Description||o.description||"",o.DueDate||o.dueDate||"",o.Priority||o.priority||"medium",o.Category||o.category||"",o.Status||o.status||"active",o.IsCompleted||o.isCompleted||!1,o.CompletedAt||o.completedAt||"",o.Reminder||o.reminder||!1,o.ReminderTime||o.reminderTime||"",o.Subtasks||o.subtasks?JSON.stringify(o.Subtasks||o.subtasks):"",o.Notes||o.notes||"",o.Tags||o.tags?JSON.stringify(o.Tags||o.tags):"",o.CreatedAt||o.createdAt||new Date().toISOString(),o.UpdatedAt||o.updatedAt||new Date().toISOString()]]:c=[Object.values(o)],{success:!0,rowId:(i=(await l.spreadsheets.values.append({spreadsheetId:SPREADSHEET_ID,range:e,valueInputOption:"USER_ENTERED",resource:{values:c}})).result.updates)==null?void 0:i.updatedRange}}catch(l){const c=l;return console.error(`Error creating row in sheet "${e}":`,c),{success:!1,error:((n=(s=c.result)==null?void 0:s.error)==null?void 0:n.message)||c.message||"Failed to create spreadsheet row."}}}function generateUniqueId(){return`${Date.now()}-${Math.random().toString(36).substr(2,9)}`}async function readSpreadsheetData(e){var o,i;try{const s=await getSheetsService(),n=e,c=(await s.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:n})).result.values;if(c&&c.length>0){const u=c[0].map(String);return{success:!0,data:c.slice(1).map(d=>{const g={};return u.forEach((h,_)=>{g[h]=d[_]}),g})}}else return{success:!0,data:[]}}catch(s){const n=s;return console.error(`Error reading sheet "${e}":`,n),{success:!1,error:((i=(o=n.result)==null?void 0:o.error)==null?void 0:i.message)||n.message||"Failed to read spreadsheet data."}}}async function updateSpreadsheetRow(e,o,i){var s,n,l,c,u,p,d,g,h,_;try{const y=await getSheetsService();let k;if(typeof o=="number")k=o;else return{success:!1,error:"updateSpreadsheetRow currently only supports numeric row identifiers."};let M;if(e==="Workout_Logs"||e==="Workout_Log"){const f=((s=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:H${k}`})).result.values)==null?void 0:s[0])||[];M=[[f[0]||generateUniqueId(),i.date||f[1]||"",i.muscleGroup||f[2]||"",i.exercise||f[3]||"",i.reps!==void 0?i.reps:f[4]||0,i.weight!==void 0?i.weight:f[5]||0,i.rating!==void 0?i.rating:f[6]||0,i.restTime!==void 0?i.restTime:f[7]||""]]}else if(e==="WorkoutTemplates"){const f=((n=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:F${k}`})).result.values)==null?void 0:n[0])||[];M=[[f[0]||generateUniqueId(),i.Name||i.name||f[1]||"",i.Description||i.description||f[2]||"",i.Exercises||i.exercises||f[3]||"",i.CreatedAt||i.createdAt||f[4]||new Date().toISOString(),i.LastUsed||i.lastUsed||f[5]||""]]}else if(e==="Vital_Signs"){const f=((l=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:L${k}`})).result.values)==null?void 0:l[0])||[];M=[[f[0]||generateUniqueId(),i.PersonID||i.personId||f[1]||"",i.Date||i.date||f[2]||"",i.Time||i.time||f[3]||"",i.BloodPressureSystolic||i.bloodPressureSystolic||f[4]||"",i.BloodPressureDiastolic||i.bloodPressureDiastolic||f[5]||"",i.HeartRate||i.heartRate||f[6]||"",i.Temperature||i.temperature||f[7]||"",i.RespiratoryRate||i.respiratoryRate||f[8]||"",i.OxygenSaturation||i.oxygenSaturation||f[9]||"",i.Notes||i.notes||f[10]||"",i.Timestamp||i.timestamp||f[11]||new Date().toISOString()]]}else if(e==="Body_Measurements"){const f=((c=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:O${k}`})).result.values)==null?void 0:c[0])||[];M=[[f[0]||generateUniqueId(),i.PersonID||i.personId||f[1]||"",i.Date||i.date||f[2]||"",i.Time||i.time||f[3]||"",i.Weight||i.weight||f[4]||"",i.Height||i.height||f[5]||"",i.BodyFat||i.bodyFat||f[6]||"",i.MuscleMass||i.muscleMass||f[7]||"",i.BMI||i.bmi||f[8]||"",i.Waist||i.waist||f[9]||"",i.Chest||i.chest||f[10]||"",i.Hips||i.hips||f[11]||"",i.Neck||i.neck||f[12]||"",i.Notes||i.notes||f[13]||"",i.Timestamp||i.timestamp||f[14]||new Date().toISOString()]]}else if(e==="Health_Tracking"){const f=((u=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:H${k}`})).result.values)==null?void 0:u[0])||[];M=[[f[0]||generateUniqueId(),i.PersonID||i.personId||f[1]||"",i.Date||i.date||f[2]||"",i.Type||i.type||f[3]||"",i.Value||i.value||f[4]||"",i.Unit||i.unit||f[5]||"",i.Notes||i.notes||f[6]||"",i.Timestamp||i.timestamp||f[7]||new Date().toISOString()]]}else if(e==="Nutrition_Log"){const f=((p=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:L${k}`})).result.values)==null?void 0:p[0])||[];M=[[f[0]||generateUniqueId(),i.PersonID||i.personId||f[1]||"",i.Date||i.date||f[2]||"",i.Meal||i.meal||f[3]||"",i.Food||i.food||f[4]||"",i.Calories||i.calories||f[5]||"",i.Protein||i.protein||f[6]||"",i.Carbs||i.carbs||f[7]||"",i.Fat||i.fat||f[8]||"",i.Fiber||i.fiber||f[9]||"",i.Notes||i.notes||f[10]||"",i.Timestamp||i.timestamp||f[11]||new Date().toISOString()]]}else if(e==="Meditation_Log"){const f=((d=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:L${k}`})).result.values)==null?void 0:d[0])||[];M=[[f[0]||generateUniqueId(),i.PersonID||i.personId||f[1]||"",i.Date||i.date||f[2]||"",i.Type||i.type||f[3]||"",i.Duration||i.duration||f[4]||"",i.MoodBefore||i.moodBefore||f[5]||"",i.MoodAfter||i.moodAfter||f[6]||"",i.StressBefore||i.stressBefore||f[7]||"",i.StressAfter||i.stressAfter||f[8]||"",i.Guided||i.guided||f[9]||"",i.Notes||i.notes||f[10]||"",i.Timestamp||i.timestamp||f[11]||new Date().toISOString()]]}else if(e==="ToDo"){const f=((g=(await y.spreadsheets.values.get({spreadsheetId:SPREADSHEET_ID,range:`${e}!A${k}:Q${k}`})).result.values)==null?void 0:g[0])||[];M=[[f[0]||generateUniqueId(),i.PersonID||i.personId||f[1]||"",i.Title||i.title||f[2]||"",i.Description||i.description||f[3]||"",i.DueDate||i.dueDate||f[4]||"",i.Priority||i.priority||f[5]||"medium",i.Category||i.category||f[6]||"",i.Status||i.status||f[7]||"active",i.IsCompleted!==void 0?i.IsCompleted:i.isCompleted!==void 0?i.isCompleted:f[8]||!1,i.CompletedAt||i.completedAt||f[9]||"",i.Reminder!==void 0?i.Reminder:i.reminder!==void 0?i.reminder:f[10]||!1,i.ReminderTime||i.reminderTime||f[11]||"",i.Subtasks||i.subtasks?JSON.stringify(i.Subtasks||i.subtasks):f[12]||"",i.Notes||i.notes||f[13]||"",i.Tags||i.tags?JSON.stringify(i.Tags||i.tags):f[14]||"",f[15]||new Date().toISOString(),new Date().toISOString()]]}else M=[Object.values(i)];const J=M[0].length,j=String.fromCharCode(64+J),$=`${e}!A${k}:${j}${k}`,_e=await y.spreadsheets.values.update({spreadsheetId:SPREADSHEET_ID,range:$,valueInputOption:"USER_ENTERED",resource:{values:M}});return _e.result.updatedRows&&_e.result.updatedRows>0?{success:!0}:{success:!1,error:"No rows were updated."}}catch(y){const k=y;return console.error(`Error updating row in sheet "${e}":`,k),{success:!1,error:((_=(h=k.result)==null?void 0:h.error)==null?void 0:_.message)||k.message||"Failed to update spreadsheet row."}}}async function getSheetIdByTitle(e,o,i){var s,n,l,c;try{const p=(s=(await e.spreadsheets.get({spreadsheetId:o,fields:"sheets(properties(sheetId,title))"})).result.sheets)==null?void 0:s.find(d=>{var g;return((g=d.properties)==null?void 0:g.title)===i});return(n=p==null?void 0:p.properties)==null?void 0:n.sheetId}catch(u){const p=u;console.error(`Error fetching sheetId for title "${i}":`,p);const d=((c=(l=p.result)==null?void 0:l.error)==null?void 0:c.message)||p.message||`Failed to fetch sheetId for title "${i}".`;throw new Error(d)}}async function deleteSpreadsheetRow(e,o){var i,s;try{const n=await getSheetsService();let l;if(typeof o=="number")l=o;else return{success:!1,error:"deleteSpreadsheetRow currently only supports numeric row identifiers."};const c=await getSheetIdByTitle(n,SPREADSHEET_ID,e);if(c===void 0)return{success:!1,error:`Could not find sheetId for sheet name "${e}". Deletion failed.`};const u={requests:[{deleteDimension:{range:{sheetId:c,dimension:"ROWS",startIndex:l-1,endIndex:l}}}]},p=await n.spreadsheets.batchUpdate({spreadsheetId:SPREADSHEET_ID,resource:u});return p.result&&p.result.replies&&p.result.replies.length>0?{success:!0}:{success:!1,error:"No rows were deleted."}}catch(n){const l=n;return console.error(`Error deleting row in sheet "${e}":`,l),{success:!1,error:((s=(i=l.result)==null?void 0:i.error)==null?void 0:s.message)||l.message||"Failed to delete spreadsheet row."}}}async function createMealPlan(e){return await createSpreadsheetRow("Meal_Plans",{id:generateUniqueId(),date:e.date,meal:e.meal,recipeName:e.recipeName,ingredients:e.ingredients,instructions:e.instructions,prepTime:e.prepTime,cookTime:e.cookTime,servings:e.servings,calories:e.calories,protein:e.protein,carbs:e.carbs,fat:e.fat,tags:Array.isArray(e.tags)?e.tags.join(","):e.tags||"",notes:e.notes||"",timestamp:new Date().toISOString()})}async function getMealPlans(){const e=await readSpreadsheetData("Meal_Plans");return e.success?e.data||[]:[]}async function updateMealPlan(e,o){const i={...o,timestamp:new Date().toISOString()};return o.tags&&(i.tags=Array.isArray(o.tags)?o.tags.join(","):o.tags),await updateSpreadsheetRow("Meal_Plans",e,i)}async function deleteMealPlan(e){return await deleteSpreadsheetRow("Meal_Plans",e)}const immer=e=>(o,i,s)=>e(n=>o(produce(n)),i,s),checkAuthenticationStatus=()=>{try{const e=useAppStore.getState();return{isAuthenticated:e.isAuthenticated,hasToken:!!e.token,authError:e.authError}}catch(e){return console.error("Error checking authentication status:",e),{isAuthenticated:!1,hasToken:!1,authError:"Failed to check authentication status"}}},defaultDashboardLayouts={lg:[{i:"stats",x:0,y:0,w:12,h:3},{i:"charts",x:0,y:3,w:8,h:6},{i:"recent",x:8,y:3,w:4,h:6},{i:"summary",x:0,y:9,w:12,h:5}],md:[{i:"stats",x:0,y:0,w:10,h:3},{i:"charts",x:0,y:3,w:6,h:6},{i:"recent",x:6,y:3,w:4,h:6},{i:"summary",x:0,y:9,w:10,h:5}],sm:[{i:"stats",x:0,y:0,w:6,h:3},{i:"charts",x:0,y:3,w:6,h:6},{i:"recent",x:0,y:9,w:6,h:6},{i:"summary",x:0,y:15,w:6,h:5}]},generateId=()=>v4(),clearApiCache=()=>{navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"CLEAR_API_CACHE",cacheName:"sheets-api-cache"}),console.log("[UnifiedDataStore] Sent message to SW to clear sheets-api-cache."))},unifiedDataStore=create()(subscribeWithSelector(persist(immer((e,o)=>({exercises:[],exerciseGroups:[],workoutLogs:[],dailyMetrics:[],templates:[],activeWorkout:null,dashboardLayouts:defaultDashboardLayouts,isDashboardEditMode:!1,isDashboardCustomizable:!0,loading:{isLoading:!1,exercises:!1,workoutLogs:!1,templates:!1,general:!1},errors:{exercises:null,workoutLogs:null,templates:null,general:null},dataFetched:{exercises:!1,workoutLogs:!1,templates:!1},fetchExercises:async(i=!1)=>{const s=checkAuthenticationStatus();if(!s.isAuthenticated||!s.hasToken){const l=s.authError||"Cannot fetch exercises: User not authenticated or missing token";console.warn("UnifiedDataStore: Skipping exercises fetch -",l),e(c=>{c.errors.exercises=l,c.loading.exercises=!1});return}if(!(typeof navigator<"u"&&navigator.onLine)&&!i){console.log("Offline, using cached exercises data."),e(l=>{l.loading.exercises=!1,l.errors.exercises=null});return}i&&(console.log("[UnifiedDataStore] Force refreshing exercises data..."),clearApiCache(),localStorage.removeItem("unified-workout-storage")),e(l=>{l.loading.exercises=!0,l.errors.exercises=null});try{const l=await readSpreadsheetData("Exercises");if(l.success&&l.data){const c=l.data.map(d=>({muscleGroup:d.Muscle_Group||d["Muscle Group"]||d.muscleGroup||"",exercise:d.Exercise||d.exercise||"",difficultyLevel:d.Difficulty_Level||d["Difficulty Level"]||d.difficultyLevel||"",equipmentRequired:d.Equipment_Required||d["Equipment Required"]||d.equipmentRequired||"",targetIntensity:d.Target_Intensity||d["Target Intensity"]||d.targetIntensity||"",primaryMuscleGroup:d.Primary_Muscle_Group||d["Primary Muscle Group"]||d.primaryMuscleGroup||"",secondaryMuscleGroup:d.Secondary_Muscle_Group||d["Secondary Muscle Group"]||d.secondaryMuscleGroup||"",exerciseDuration:d.Exercise_Duration||d["Exercise Duration"]||d.exerciseDuration||"",recoveryTime:d.Recovery_Time||d["Recovery Time"]||d.recoveryTime||"",exerciseType:d.Exercise_Type||d["Exercise Type"]||d.exerciseType||"",caloriesBurned:parseInt(String(d.Calories_Burned||d["Calories Burned"]||d.caloriesBurned||"0")),exerciseProgression:d.Exercise_Progression||d["Exercise Progression"]||d.exerciseProgression||"",injuryRiskLevel:d.Injury_Risk_Level||d["Injury Risk Level"]||d.injuryRiskLevel||"",exerciseLink:d.Exercise_Link||d["Exercise Link"]||d.exerciseLink||"",imageLink:d.Image_Link||d["Image Link"]||d.imageLink||"",relatedPath:d.Related_Path||d["Related Path"]||d.relatedPath||""})),u=new Map;c.forEach(d=>{u.has(d.muscleGroup)||u.set(d.muscleGroup,new Set),u.get(d.muscleGroup).add(d.exercise)});const p=Array.from(u.entries()).map(([d,g])=>({muscleGroup:d,exercises:Array.from(g)}));e(d=>{d.exercises=c,d.exerciseGroups=p,d.loading.exercises=!1,d.dataFetched.exercises=!0,d.errors.exercises=null})}else e(c=>{c.errors.exercises=l.error||"Failed to fetch exercises data.",c.loading.exercises=!1})}catch(l){console.error("Error fetching exercises:",l),e(c=>{c.errors.exercises=l.message,c.loading.exercises=!1})}},getExercisesByMuscleGroup:i=>{const s=o().exerciseGroups.find(n=>n.muscleGroup.toLowerCase()===i.toLowerCase());return s?s.exercises:[]},getMuscleGroupsByExercise:i=>{const s=new Set;return o().exercises.forEach(n=>{n.exercise.toLowerCase()===i.toLowerCase()&&s.add(n.muscleGroup)}),Array.from(s)},getAllUniqueExerciseNames:()=>{const i=new Set;return o().exercises.forEach(s=>i.add(s.exercise)),Array.from(i)},fetchWorkoutLogs:async(i=!1)=>{console.log("[UnifiedDataStore] fetchWorkoutLogs called with forceRefresh:",i);const s=checkAuthenticationStatus();if(console.log("[UnifiedDataStore] Auth status:",s),!s.isAuthenticated||!s.hasToken){const l=s.authError||"Cannot fetch workout logs: User not authenticated or missing token";console.warn("UnifiedDataStore: Skipping workout logs fetch -",l),e(c=>{c.errors.workoutLogs=l,c.loading.workoutLogs=!1,c.dataFetched.workoutLogs=!1});return}if(!i&&o().dataFetched.workoutLogs&&navigator.onLine){console.log("[UnifiedDataStore] Data already fetched, skipping");return}const n=typeof navigator<"u"&&navigator.onLine;if(console.log("[UnifiedDataStore] Online status:",n),!n&&!i){if(o().workoutLogs.length>0){console.log("Offline, using cached workout logs data."),e(l=>{l.loading.workoutLogs=!1,l.dataFetched.workoutLogs=!0});return}e(l=>{l.errors.workoutLogs="Offline and no data cached.",l.loading.workoutLogs=!1,l.dataFetched.workoutLogs=!1});return}i&&(console.log("[UnifiedDataStore] Force refreshing workout logs data..."),clearApiCache(),localStorage.removeItem("unified-workout-storage")),console.log("[UnifiedDataStore] Starting workout logs fetch..."),e(l=>{l.loading.workoutLogs=!0,l.errors.workoutLogs=null});try{console.log("[UnifiedDataStore] Calling readSpreadsheetData for Workout_Log...");const l=await readSpreadsheetData("Workout_Logs");if(console.log("[UnifiedDataStore] readSpreadsheetData result:",l),l.success&&l.data){console.log("[UnifiedDataStore] Processing",l.data.length,"workout log entries");const c=l.data.map(u=>({id:u.ID||u.id||generateId(),date:u.Date||u.date||"",muscleGroup:u.Muscle_Group||u["Muscle Group"]||u.muscleGroup||"",exercise:u.Exercise||u.exercise||"",sets:parseInt(String(u.Sets||u.sets||"1")),reps:parseInt(String(u.Reps||u.reps||"0")),weight:parseFloat(String(u.Weight||u.weight||"0")),rating:parseInt(String(u.Rating||u.rating||"0")),restTime:parseInt(String(u.Rest_Time||u["Rest Time"]||u.restTime||"0"))||null,isSynced:!0,pendingAction:null}));console.log("[UnifiedDataStore] Processed logs sample:",c.slice(0,3)),e(u=>{u.workoutLogs=c,u.loading.workoutLogs=!1,u.dataFetched.workoutLogs=!0,u.errors.workoutLogs=null}),console.log("[UnifiedDataStore] Computing daily metrics..."),o().computeDailyMetricsData(),console.log("[UnifiedDataStore] Daily metrics computed")}else console.error("Failed to fetch workout logs from sheet:",l.error),e(c=>{c.errors.workoutLogs=l.error||"Failed to fetch workout logs.",c.loading.workoutLogs=!1,c.dataFetched.workoutLogs=!1})}catch(l){const c=l;console.error("Error in fetchWorkoutLogs:",c),e(u=>{u.errors.workoutLogs=c.message,u.loading.workoutLogs=!1,u.dataFetched.workoutLogs=!1})}},addWorkoutLog:async i=>{const s=generateId(),n={...i,id:s,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isSynced:!1};if(e(l=>{l.workoutLogs=[n,...l.workoutLogs],l.loading.workoutLogs=navigator.onLine,l.errors.workoutLogs=null}),o().computeDailyMetricsData(),!navigator.onLine)return console.warn("Offline: Workout log added to local cache. Will sync when online."),n;try{const l="Workout_Logs",c={date:i.date,muscleGroup:i.muscleGroup,exercise:i.exercise,reps:i.reps,weight:i.weight,rating:i.rating,restTime:i.restTime??""},u=await createSpreadsheetRow(l,c);return u.success?(e(p=>{const d=p.workoutLogs.findIndex(g=>g.id===s);if(d!==-1&&(p.workoutLogs[d].isSynced=!0,"rowId"in u&&u.rowId)){const g=parseInt(u.rowId.split("!").pop()||"0");isNaN(g)||(p.workoutLogs[d].rowIndex=g)}p.loading.workoutLogs=!1}),n):(e(p=>{p.errors.workoutLogs=u.error||"Failed to sync workout log.",p.loading.workoutLogs=!1}),n)}catch(l){const c=l;return console.error("Error adding workout log:",c),e(u=>{u.errors.workoutLogs=c.message,u.loading.workoutLogs=!1}),n}},editWorkoutLog:async i=>{if(e(s=>{const n=s.workoutLogs.findIndex(l=>l.id===i.id);n!==-1&&(s.workoutLogs[n]={...i,updatedAt:new Date().toISOString(),isSynced:!1}),s.loading.workoutLogs=navigator.onLine,s.errors.workoutLogs=null}),o().computeDailyMetricsData(),!navigator.onLine){console.warn("Offline: Workout log edit saved locally. Will sync when online.");return}try{const s="Workout_Logs",n={date:i.date,muscleGroup:i.muscleGroup,exercise:i.exercise,reps:i.reps,weight:i.weight,rating:i.rating,restTime:i.restTime??""},l=await updateSpreadsheetRow(s,i.rowIndex||0,n);l.success?e(c=>{const u=c.workoutLogs.findIndex(p=>p.id===i.id);u!==-1&&(c.workoutLogs[u].isSynced=!0),c.loading.workoutLogs=!1}):e(c=>{c.errors.workoutLogs=l.error||"Failed to sync workout log edit.",c.loading.workoutLogs=!1})}catch(s){const n=s;console.error("Error editing workout log:",n),e(l=>{l.errors.workoutLogs=n.message,l.loading.workoutLogs=!1})}},removeWorkoutLog:async i=>{const s=o().workoutLogs.find(n=>n.id===i);if(e(n=>{n.workoutLogs=n.workoutLogs.filter(l=>l.id!==i),n.loading.workoutLogs=navigator.onLine,n.errors.workoutLogs=null}),!navigator.onLine){console.warn("Offline: Workout log removal saved locally. Will sync when online.");return}if(!s||!s.rowIndex){e(n=>{n.loading.workoutLogs=!1});return}try{const l=await deleteSpreadsheetRow("Workout_Logs",s.rowIndex);l.success?e(c=>{c.loading.workoutLogs=!1}):e(c=>{c.workoutLogs=[s,...c.workoutLogs],c.errors.workoutLogs=l.error||"Failed to sync workout log removal.",c.loading.workoutLogs=!1})}catch(n){const l=n;console.error("Error removing workout log:",l),e(c=>{c.workoutLogs=[s,...c.workoutLogs],c.errors.workoutLogs=l.message,c.loading.workoutLogs=!1})}},syncPendingLogs:async()=>{const i=o().workoutLogs.filter(s=>!s.isSynced);if(i.length!==0){e(s=>{s.loading.workoutLogs=!0,s.errors.workoutLogs=null});try{for(const s of i){const n="Workout_Logs",l={date:s.date,muscleGroup:s.muscleGroup,exercise:s.exercise,reps:s.reps,weight:s.weight,rating:s.rating,restTime:s.restTime??""};let c;s.rowIndex?c=await updateSpreadsheetRow(n,s.rowIndex,l):c=await createSpreadsheetRow(n,l),c.success&&e(u=>{const p=u.workoutLogs.findIndex(d=>d.id===s.id);if(p!==-1&&(u.workoutLogs[p].isSynced=!0,"rowId"in c&&typeof c.rowId=="string")){const d=parseInt(c.rowId.split("!").pop()||"0");isNaN(d)||(u.workoutLogs[p].rowIndex=d)}})}e(s=>{s.loading.workoutLogs=!1})}catch(s){const n=s;console.error("Error syncing pending logs:",n),e(l=>{l.errors.workoutLogs=n.message,l.loading.workoutLogs=!1})}}},getPreviousHighestVolumeWorkout:(i,s)=>{const{workoutLogs:n}=o(),l=n.filter(y=>y.exercise===i&&y.muscleGroup===s);if(l.length===0)return null;const c=l.reduce((y,k)=>{const M=k.date,J=k.weight*k.reps;return y[M]||(y[M]={totalVolume:0,logs:[]}),y[M].totalVolume+=J,y[M].logs.push(k),y},{});let u=0,p="",d=[];for(const y in c)c[y].totalVolume>u&&(u=c[y].totalVolume,p=y,d=c[y].logs);if(d.length===0)return null;const g=d.reduce((y,k)=>y+k.reps,0),h=Math.max(...d.map(y=>y.weight)),_=d.length;return{date:p,totalVolume:u,maxWeight:h,totalReps:g,weight:h,reps:Math.max(...d.map(y=>y.reps)),highestVolumeDate:p,totalSets:_,allSets:d.map(y=>({id:y.id,weight:y.weight,reps:y.reps,rating:y.rating,restTime:null,volume:y.weight*y.reps})),highestVolume:{date:p,totalVolume:u,maxWeight:h,totalReps:g,weight:h,reps:Math.max(...d.map(y=>y.reps))},progressionTargets:{targetVolume:u*1.05,progressionRate:5,sameWeightMoreReps:{weight:h,reps:Math.max(...d.map(y=>y.reps))+1,additionalReps:1,sets:_},moreSets:{weight:h,reps:Math.max(...d.map(y=>y.reps)),additionalSets:1,sets:_+1},balancedProgression:{weight:h,reps:Math.max(...d.map(y=>y.reps))+1,additionalReps:1,sets:_,additionalSets:0}}}},fetchTemplates:async(i=!1)=>{const s=checkAuthenticationStatus();if(!s.isAuthenticated||!s.hasToken){const l=s.authError||"Cannot fetch templates: User not authenticated or missing token";console.warn("UnifiedDataStore: Skipping templates fetch -",l),e(c=>{c.errors.templates=l,c.loading.templates=!1});return}if(!(typeof navigator<"u"&&navigator.onLine)&&!i){console.log("Offline, using cached workout template data."),e(l=>{l.loading.templates=!1,l.errors.templates=null});return}e(l=>{l.loading.templates=!0,l.errors.templates=null});try{const l=await readSpreadsheetData("WorkoutTemplates");if(l.success&&l.data){const c=l.data.map(u=>({id:u.ID||u.id||generateId(),name:u.Name||u.name||"",description:u.Description||u.description||"",exercises:JSON.parse(String(u.Exercises||u.exercises||"[]")),createdAt:u.Created_At||u.CreatedAt||u.createdAt||new Date().toISOString(),lastUsed:u.Last_Used||u.LastUsed||u.lastUsed||""}));e(u=>{u.templates=c,u.loading.templates=!1,u.dataFetched.templates=!0,u.errors.templates=null})}else e(c=>{c.errors.templates=l.error||"Failed to fetch workout templates.",c.loading.templates=!1})}catch(l){console.error("Error fetching workout templates:",l),e(c=>{c.errors.templates=l.message,c.loading.templates=!1})}},saveTemplate:async i=>{try{const s="WorkoutTemplates",n={Name:i.name,Description:i.description,Exercises:JSON.stringify(i.exercises),CreatedAt:i.createdAt||new Date().toISOString(),LastUsed:i.lastUsed||""},l=await createSpreadsheetRow(s,n);return l.success?(e(c=>{const u=c.templates.findIndex(p=>p.name===i.name);u!==-1?c.templates[u]=i:c.templates.push(i)}),{success:!0}):{success:!1,error:l.error||"Failed to save template."}}catch(s){const n=s;return console.error("Error saving workout template:",n),{success:!1,error:n.message}}},deleteTemplate:async i=>{try{return e(s=>{s.templates=s.templates.filter(n=>n.id!==i)}),{success:!0}}catch(s){const n=s;return console.error("Error deleting workout template:",n),{success:!1,error:n.message}}},getTemplateByName:i=>o().templates.find(s=>s.name===i),getTemplateById:i=>o().templates.find(s=>s.id===i),updateTemplate:i=>{e(s=>{const n=s.templates.findIndex(l=>l.name===i.name);n!==-1&&(s.templates[n]=i)})},startWorkout:async i=>{const s=o().getTemplateByName(i);if(!s)return{success:!1,error:"Template not found"};const n={id:generateId(),templateName:s.name,description:s.description,startTime:new Date().toISOString(),lastUpdated:new Date().toISOString(),exercises:s.exercises.map(l=>({...l,setsCompleted:0,percentComplete:0})),isCompleted:!1,duration:0,notes:""};return e(l=>{l.activeWorkout=n}),{success:!0}},completeWorkout:async()=>{const i=o().activeWorkout;if(!i)return{success:!1,error:"No active workout"};const s=new Date,n=new Date(i.startTime),l=Math.floor((s.getTime()-n.getTime())/(1e3*60));e(u=>{u.activeWorkout&&(u.activeWorkout.isCompleted=!0,u.activeWorkout.duration=l,u.activeWorkout.lastUpdated=s.toISOString())});const c=o().getTemplateByName(i.templateName);if(c){const u={...c,lastUsed:new Date().toISOString()};o().updateTemplate(u)}return setTimeout(()=>{e(u=>{u.activeWorkout=null})},1e3),{success:!0}},updateActiveWorkout:i=>{e(s=>{s.activeWorkout&&Object.assign(s.activeWorkout,i)})},updateExerciseProgress:(i,s)=>{e(n=>{if(n.activeWorkout&&n.activeWorkout.exercises[i]){n.activeWorkout.exercises[i].setsCompleted=s;const l=n.activeWorkout.exercises[i].sets||1;n.activeWorkout.exercises[i].percentComplete=Math.min(100,s/l*100)}})},addExerciseSet:i=>{e(s=>{if(s.activeWorkout&&s.activeWorkout.exercises[i]){const n=s.activeWorkout.exercises[i];n.sets=(n.sets||1)+1}})},cancelWorkout:()=>{e(i=>{i.activeWorkout=null})},getActiveWorkout:()=>o().activeWorkout,setDashboardLayouts:i=>{e(s=>{s.dashboardLayouts=i})},resetDashboardLayouts:()=>{e(i=>{i.dashboardLayouts=defaultDashboardLayouts})},toggleDashboardEditMode:()=>{e(i=>{i.isDashboardEditMode=!i.isDashboardEditMode})},setDashboardEditMode:i=>{e(s=>{s.isDashboardEditMode=i})},setDashboardCustomizable:i=>{e(s=>{s.isDashboardCustomizable=i})},clearAllData:()=>{e(i=>{i.exercises=[],i.exerciseGroups=[],i.workoutLogs=[],i.dailyMetrics=[],i.templates=[],i.activeWorkout=null,i.dashboardLayouts=defaultDashboardLayouts,i.isDashboardEditMode=!1,i.loading={isLoading:!1,exercises:!1,workoutLogs:!1,templates:!1,general:!1},i.errors={exercises:null,workoutLogs:null,templates:null,general:null},i.dataFetched={exercises:!1,workoutLogs:!1,templates:!1}})},clearError:i=>{e(s=>{s.errors[i]=null})},fetchAllData:async(i=!1)=>{console.log("[UnifiedDataStore] fetchAllData called with forceRefresh:",i),e(s=>{s.loading.general=!0,s.errors.general=null});try{console.log("[UnifiedDataStore] Fetching exercises..."),await o().fetchExercises(i),console.log("[UnifiedDataStore] Fetching workout logs..."),await o().fetchWorkoutLogs(i),console.log("[UnifiedDataStore] Fetching templates..."),await o().fetchTemplates(i),console.log("[UnifiedDataStore] All data fetched successfully"),e(s=>{s.loading.general=!1})}catch(s){console.error("[UnifiedDataStore] Error in fetchAllData:",s),e(n=>{n.errors.general=s.message,n.loading.general=!1})}},computeDailyMetricsData:()=>{console.log("[UnifiedDataStore] computeDailyMetricsData called");const i=o().workoutLogs;if(console.log("[UnifiedDataStore] Computing metrics for",i.length,"workout logs"),i.length===0){console.log("[UnifiedDataStore] No workout logs available for metrics computation"),e(s=>{s.dailyMetrics=[]});return}try{const s=i.map(c=>[c.date,c.muscleGroup,c.exercise,c.reps,c.weight,c.rating,c.restTime]);console.log("[UnifiedDataStore] Sample log for computation:",s[0]);const n=computeDailyMetrics(s);console.log("[UnifiedDataStore] Computed",n.length,"daily metrics"),console.log("[UnifiedDataStore] Sample computed metric:",n[0]);const l=n.map(c=>({id:String(c.id),date:c.date,muscleGroup:c.muscleGroup,exercise:c.exercise,totalVolume:parseFloat(c.totalVolume),totalSets:c.totalSets,totalReps:parseFloat(c.totalReps),averageReps:parseFloat(c.averageReps),averageWeight:parseFloat(c.averageWeight),averageFatigue:parseFloat(c.averageFatigue),maxWeight:c.maxWeight,intensity:parseFloat(c.intensity),fatigue:parseFloat(c.fatigue),howIFeel:c.howIFeel,progressionRate:c.progressionRate==="N/A"||!c.progressionRate?"N/A":parseFloat(c.progressionRate)}));console.log("[UnifiedDataStore] Final daily metrics sample:",l[0]),e(c=>{c.dailyMetrics=l}),console.log("[UnifiedDataStore] Daily metrics updated in store")}catch(s){console.error("[UnifiedDataStore] Error computing daily metrics:",s)}},workoutLogActions:{fetchAll:()=>o().fetchWorkoutLogs(),create:i=>o().addWorkoutLog(i),update:i=>o().editWorkoutLog(i),delete:i=>o().removeWorkoutLog(i)},testDataFetch:async()=>{console.log("[UnifiedDataStore] Manual test data fetch triggered");try{await o().fetchWorkoutLogs(!0),console.log("[UnifiedDataStore] Test fetch completed. Current state:"),console.log("- Workout logs:",o().workoutLogs.length),console.log("- Daily metrics:",o().dailyMetrics.length),console.log("- Loading state:",o().loading),console.log("- Errors:",o().errors)}catch(i){console.error("[UnifiedDataStore] Test fetch failed:",i)}}})),{name:"unified-workout-storage",version:1})));typeof window<"u"&&(window.testDataFetch=()=>unifiedDataStore.getState().testDataFetch(),window.getUnifiedStoreState=()=>unifiedDataStore.getState());const useUnifiedDataStore=unifiedDataStore,UnifiedAppContext=reactExports.createContext(void 0),UnifiedAppProvider=({children:e})=>{const{isAuthenticated:o,user:i,token:s,authLoading:n,authError:l,login:c,logout:u,initAuth:p,themeMode:d,toggleTheme:g,setThemeMode:h,currentView:_,setCurrentView:y,isSidebarCollapsed:k,toggleSidebar:M,setIsSidebarCollapsed:J}=useAppStore(),{loading:j,errors:$,fetchAllData:_e,clearAllData:Ie}=useUnifiedDataStore(),[f,Re]=React.useState(!navigator.onLine),Te=React.useCallback(async Me=>{try{if(console.log("ConsolidatedAppContext: Starting fetchAllData with auth check..."),!o||!s||n||l){console.warn("ConsolidatedAppContext: Skipping fetchAllData - authentication not ready",{isAuthenticated:o,hasToken:!!s,authLoading:n,authError:l});return}await _e(Me)}catch(Oe){if(console.error("ConsolidatedAppContext: Error in fetchAllData:",Oe),Oe instanceof Error&&(Oe.message.includes("authentication")||Oe.message.includes("token")||Oe.message.includes("401"))){console.log("ConsolidatedAppContext: Auth error detected, attempting to re-initialize...");try{await p()}catch($e){console.error("ConsolidatedAppContext: Failed to re-initialize auth:",$e)}}}},[_e,o,s,n,l,p]);reactExports.useEffect(()=>{p()},[p]),reactExports.useEffect(()=>{o&&!n&&!l&&s&&!f?(console.log("ConsolidatedAppContext: Starting data fetch - authentication verified"),Te()):o&&!s?console.warn("ConsolidatedAppContext: User authenticated but no token available, skipping data fetch"):l?console.warn("ConsolidatedAppContext: Authentication error present, skipping data fetch:",l):n&&console.log("ConsolidatedAppContext: Authentication still loading, waiting...")},[o,n,l,s,f,Te]),reactExports.useEffect(()=>{const Me=()=>{Re(!1),o&&!n&&!l&&s&&(console.log("ConsolidatedAppContext: Back online, refreshing data..."),Te())},Oe=()=>{Re(!0),console.log("ConsolidatedAppContext: Gone offline")};return window.addEventListener("online",Me),window.addEventListener("offline",Oe),()=>{window.removeEventListener("online",Me),window.removeEventListener("offline",Oe)}},[o,n,l,s,Te]),reactExports.useEffect(()=>{typeof document<"u"&&(document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(d))},[d]);const G=j.exercises||j.workoutLogs||j.templates||j.general,Pe=!!($.exercises||$.workoutLogs||$.templates||$.general),Fe={isAuthenticated:o,user:i,token:s,authLoading:n,authError:l,login:c,logout:u,initAuth:p,themeMode:d,toggleTheme:g,setThemeMode:h,currentView:_,setCurrentView:y,isSidebarCollapsed:k,toggleSidebar:M,setIsSidebarCollapsed:J,fetchAllData:Te,clearAllData:Ie,isDataLoading:G,hasDataErrors:Pe,isOffline:f};return jsxRuntimeExports.jsx(UnifiedAppContext.Provider,{value:Fe,children:e})},useUnifiedApp=()=>{const e=reactExports.useContext(UnifiedAppContext);if(e===void 0)throw new Error("useUnifiedApp must be used within a UnifiedAppProvider");return e},useAuth=()=>{const{isAuthenticated:e,user:o,token:i,authLoading:s,authError:n,login:l,logout:c,initAuth:u}=useUnifiedApp();return{isAuthenticated:e,user:o,token:i,loading:s,error:n,login:l,logout:c,initAuth:u}},useTheme=()=>{const{themeMode:e,toggleTheme:o,setThemeMode:i}=useUnifiedApp();return{themeMode:e,toggleTheme:o,setThemeMode:i,isDark:e==="dark",isLight:e==="light"}},useNavigation=()=>{const{currentView:e,setCurrentView:o,isSidebarCollapsed:i,toggleSidebar:s,setIsSidebarCollapsed:n}=useUnifiedApp();return{currentView:e,setCurrentView:o,isSidebarCollapsed:i,toggleSidebar:s,setIsSidebarCollapsed:n}},useWorkoutLogs=()=>{const e=useUnifiedDataStore(g=>g.workoutLogs),o=useUnifiedDataStore(g=>g.loading.workoutLogs),i=useUnifiedDataStore(g=>g.errors.workoutLogs),s=useUnifiedDataStore(g=>g.dataFetched.workoutLogs),n=useUnifiedDataStore(g=>g.fetchWorkoutLogs),l=useUnifiedDataStore(g=>g.addWorkoutLog),c=useUnifiedDataStore(g=>g.editWorkoutLog),u=useUnifiedDataStore(g=>g.removeWorkoutLog),p=useUnifiedDataStore(g=>g.syncPendingLogs),d=useUnifiedDataStore(g=>g.getPreviousHighestVolumeWorkout);return{workoutLogs:e,isLoading:o,error:i,isDataFetched:s,fetchWorkoutLogs:n,addWorkoutLog:l,editWorkoutLog:c,removeWorkoutLog:u,syncPendingLogs:p,getPreviousHighestVolumeWorkout:d}},useExercises=()=>{const e=useUnifiedDataStore(d=>d.exercises),o=useUnifiedDataStore(d=>d.exerciseGroups),i=useUnifiedDataStore(d=>d.loading.exercises),s=useUnifiedDataStore(d=>d.errors.exercises),n=useUnifiedDataStore(d=>d.dataFetched.exercises),l=useUnifiedDataStore(d=>d.fetchExercises),c=useUnifiedDataStore(d=>d.getExercisesByMuscleGroup),u=useUnifiedDataStore(d=>d.getMuscleGroupsByExercise),p=useUnifiedDataStore(d=>d.getAllUniqueExerciseNames);return{exercises:e,exerciseGroups:o,isLoading:i,error:s,isDataFetched:n,fetchExercises:l,getExercisesByMuscleGroup:c,getMuscleGroupsByExercise:u,getAllUniqueExerciseNames:p}},useWorkoutTemplates=()=>{const e=useUnifiedDataStore(j=>j.templates),o=useUnifiedDataStore(j=>j.activeWorkout),i=useUnifiedDataStore(j=>j.loading.templates),s=useUnifiedDataStore(j=>j.errors.templates),n=useUnifiedDataStore(j=>j.dataFetched.templates),l=useUnifiedDataStore(j=>j.fetchTemplates),c=useUnifiedDataStore(j=>j.saveTemplate),u=useUnifiedDataStore(j=>j.deleteTemplate),p=useUnifiedDataStore(j=>j.getTemplateByName),d=useUnifiedDataStore(j=>j.updateTemplate),g=useUnifiedDataStore(j=>j.startWorkout),h=useUnifiedDataStore(j=>j.completeWorkout),_=useUnifiedDataStore(j=>j.updateActiveWorkout),y=useUnifiedDataStore(j=>j.updateExerciseProgress),k=useUnifiedDataStore(j=>j.addExerciseSet),M=useUnifiedDataStore(j=>j.cancelWorkout),J=useUnifiedDataStore(j=>j.getActiveWorkout);return{templates:e,activeWorkout:o,isLoading:i,error:s,isDataFetched:n,fetchTemplates:l,saveTemplate:c,deleteTemplate:u,getTemplateByName:p,updateTemplate:d,startWorkout:g,completeWorkout:h,updateActiveWorkout:_,updateExerciseProgress:y,addExerciseSet:k,cancelWorkout:M,getActiveWorkout:J}},useConsolidatedApp=()=>{const{isAuthenticated:e,user:o,token:i,authLoading:s,authError:n,login:l,logout:c,initAuth:u,themeMode:p,toggleTheme:d,setThemeMode:g,currentView:h,setCurrentView:_,isSidebarCollapsed:y,toggleSidebar:k,setIsSidebarCollapsed:M}=useUnifiedApp(),J=useExercises(),j=useWorkoutLogs(),$=useWorkoutTemplates(),_e={isAuthenticated:e,user:o,token:i,authLoading:s,authError:n,login:l,logout:c,initAuth:u,themeMode:p,toggleTheme:d,setThemeMode:g,currentView:h,setCurrentView:_,isSidebarCollapsed:y,toggleSidebar:k,setIsSidebarCollapsed:M},Ie={exercises:J.exercises,exerciseGroups:J.exerciseGroups,loading:J.isLoading,error:J.error,fetchExercises:J.fetchExercises,getExercisesByMuscleGroup:J.getExercisesByMuscleGroup,getMuscleGroupsByExercise:J.getMuscleGroupsByExercise,getAllUniqueExerciseNames:J.getAllUniqueExerciseNames},f={workoutLogs:j.workoutLogs,loading:j.isLoading,error:j.error,fetchWorkoutLogs:j.fetchWorkoutLogs,addWorkoutLog:j.addWorkoutLog,editWorkoutLog:j.editWorkoutLog,removeWorkoutLog:j.removeWorkoutLog,syncPendingLogs:j.syncPendingLogs,getPreviousHighestVolumeWorkout:j.getPreviousHighestVolumeWorkout},Re={templates:$.templates,activeWorkout:$.activeWorkout,loading:$.isLoading,error:$.error,fetchTemplates:$.fetchTemplates,saveTemplate:$.saveTemplate,deleteTemplate:$.deleteTemplate,getTemplateByName:$.getTemplateByName,updateTemplate:$.updateTemplate,startWorkout:$.startWorkout,completeWorkout:$.completeWorkout,updateActiveWorkout:$.updateActiveWorkout,updateExerciseProgress:$.updateExerciseProgress,addExerciseSet:$.addExerciseSet,cancelWorkout:$.cancelWorkout,getActiveWorkout:$.getActiveWorkout};return{appStore:_e,exercisesStore:Ie,workoutLogStore:f,templatesStore:Re,useAuth,useTheme,useNavigation,useExercises,useWorkoutLogs,useWorkoutTemplates}};function setRef(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function composeRefs(...e){return o=>{let i=!1;const s=e.map(n=>{const l=setRef(n,o);return!i&&typeof l=="function"&&(i=!0),l});if(i)return()=>{for(let n=0;n<s.length;n++){const l=s[n];typeof l=="function"?l():setRef(e[n],null)}}}}function useComposedRefs(...e){return reactExports.useCallback(composeRefs(...e),e)}function createSlot(e){const o=createSlotClone(e),i=reactExports.forwardRef((s,n)=>{const{children:l,...c}=s,u=reactExports.Children.toArray(l),p=u.find(isSlottable);if(p){const d=p.props.children,g=u.map(h=>h===p?reactExports.Children.count(d)>1?reactExports.Children.only(null):reactExports.isValidElement(d)?d.props.children:null:h);return jsxRuntimeExports.jsx(o,{...c,ref:n,children:reactExports.isValidElement(d)?reactExports.cloneElement(d,void 0,g):null})}return jsxRuntimeExports.jsx(o,{...c,ref:n,children:l})});return i.displayName=`${e}.Slot`,i}var Slot=createSlot("Slot");function createSlotClone(e){const o=reactExports.forwardRef((i,s)=>{const{children:n,...l}=i,c=reactExports.isValidElement(n)?getElementRef(n):void 0,u=useComposedRefs(c,s);if(reactExports.isValidElement(n)){const p=mergeProps(l,n.props);return n.type!==reactExports.Fragment&&(p.ref=u),reactExports.cloneElement(n,p)}return reactExports.Children.count(n)>1?reactExports.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var SLOTTABLE_IDENTIFIER=Symbol("radix.slottable");function createSlottable(e){const o=({children:i})=>jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i});return o.displayName=`${e}.Slottable`,o.__radixId=SLOTTABLE_IDENTIFIER,o}function isSlottable(e){return reactExports.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===SLOTTABLE_IDENTIFIER}function mergeProps(e,o){const i={...o};for(const s in o){const n=e[s],l=o[s];/^on[A-Z]/.test(s)?n&&l?i[s]=(...u)=>{const p=l(...u);return n(...u),p}:n&&(i[s]=n):s==="style"?i[s]={...n,...l}:s==="className"&&(i[s]=[n,l].filter(Boolean).join(" "))}return{...e,...i}}function getElementRef(e){var s,n;let o=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,i=o&&"isReactWarning"in o&&o.isReactWarning;return i?e.ref:(o=(n=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:n.get,i=o&&"isReactWarning"in o&&o.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function r(e){var o,i,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(o=0;o<n;o++)e[o]&&(i=r(e[o]))&&(s&&(s+=" "),s+=i)}else for(i in e)e[i]&&(s&&(s+=" "),s+=i);return s}function clsx(){for(var e,o,i=0,s="",n=arguments.length;i<n;i++)(e=arguments[i])&&(o=r(e))&&(s&&(s+=" "),s+=o);return s}const falsyToString=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,cx=clsx,cva=(e,o)=>i=>{var s;if((o==null?void 0:o.variants)==null)return cx(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:n,defaultVariants:l}=o,c=Object.keys(n).map(d=>{const g=i==null?void 0:i[d],h=l==null?void 0:l[d];if(g===null)return null;const _=falsyToString(g)||falsyToString(h);return n[d][_]}),u=i&&Object.entries(i).reduce((d,g)=>{let[h,_]=g;return _===void 0||(d[h]=_),d},{}),p=o==null||(s=o.compoundVariants)===null||s===void 0?void 0:s.reduce((d,g)=>{let{class:h,className:_,...y}=g;return Object.entries(y).every(k=>{let[M,J]=k;return Array.isArray(J)?J.includes({...l,...u}[M]):{...l,...u}[M]===J})?[...d,h,_]:d},[]);return cx(e,c,p,i==null?void 0:i.class,i==null?void 0:i.className)},CLASS_PART_SEPARATOR="-",createClassGroupUtils=e=>{const o=createClassMap(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:c=>{const u=c.split(CLASS_PART_SEPARATOR);return u[0]===""&&u.length!==1&&u.shift(),getGroupRecursive(u,o)||getGroupIdForArbitraryProperty(c)},getConflictingClassGroupIds:(c,u)=>{const p=i[c]||[];return u&&s[c]?[...p,...s[c]]:p}}},getGroupRecursive=(e,o)=>{var c;if(e.length===0)return o.classGroupId;const i=e[0],s=o.nextPart.get(i),n=s?getGroupRecursive(e.slice(1),s):void 0;if(n)return n;if(o.validators.length===0)return;const l=e.join(CLASS_PART_SEPARATOR);return(c=o.validators.find(({validator:u})=>u(l)))==null?void 0:c.classGroupId},arbitraryPropertyRegex=/^\[(.+)\]$/,getGroupIdForArbitraryProperty=e=>{if(arbitraryPropertyRegex.test(e)){const o=arbitraryPropertyRegex.exec(e)[1],i=o==null?void 0:o.substring(0,o.indexOf(":"));if(i)return"arbitrary.."+i}},createClassMap=e=>{const{theme:o,classGroups:i}=e,s={nextPart:new Map,validators:[]};for(const n in i)processClassesRecursively(i[n],s,n,o);return s},processClassesRecursively=(e,o,i,s)=>{e.forEach(n=>{if(typeof n=="string"){const l=n===""?o:getPart(o,n);l.classGroupId=i;return}if(typeof n=="function"){if(isThemeGetter(n)){processClassesRecursively(n(s),o,i,s);return}o.validators.push({validator:n,classGroupId:i});return}Object.entries(n).forEach(([l,c])=>{processClassesRecursively(c,getPart(o,l),i,s)})})},getPart=(e,o)=>{let i=e;return o.split(CLASS_PART_SEPARATOR).forEach(s=>{i.nextPart.has(s)||i.nextPart.set(s,{nextPart:new Map,validators:[]}),i=i.nextPart.get(s)}),i},isThemeGetter=e=>e.isThemeGetter,createLruCache=e=>{if(e<1)return{get:()=>{},set:()=>{}};let o=0,i=new Map,s=new Map;const n=(l,c)=>{i.set(l,c),o++,o>e&&(o=0,s=i,i=new Map)};return{get(l){let c=i.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return n(l,c),c},set(l,c){i.has(l)?i.set(l,c):n(l,c)}}},IMPORTANT_MODIFIER="!",MODIFIER_SEPARATOR=":",MODIFIER_SEPARATOR_LENGTH=MODIFIER_SEPARATOR.length,createParseClassName=e=>{const{prefix:o,experimentalParseClassName:i}=e;let s=n=>{const l=[];let c=0,u=0,p=0,d;for(let k=0;k<n.length;k++){let M=n[k];if(c===0&&u===0){if(M===MODIFIER_SEPARATOR){l.push(n.slice(p,k)),p=k+MODIFIER_SEPARATOR_LENGTH;continue}if(M==="/"){d=k;continue}}M==="["?c++:M==="]"?c--:M==="("?u++:M===")"&&u--}const g=l.length===0?n:n.substring(p),h=stripImportantModifier(g),_=h!==g,y=d&&d>p?d-p:void 0;return{modifiers:l,hasImportantModifier:_,baseClassName:h,maybePostfixModifierPosition:y}};if(o){const n=o+MODIFIER_SEPARATOR,l=s;s=c=>c.startsWith(n)?l(c.substring(n.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(i){const n=s;s=l=>i({className:l,parseClassName:n})}return s},stripImportantModifier=e=>e.endsWith(IMPORTANT_MODIFIER)?e.substring(0,e.length-1):e.startsWith(IMPORTANT_MODIFIER)?e.substring(1):e,createSortModifiers=e=>{const o=Object.fromEntries(e.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const n=[];let l=[];return s.forEach(c=>{c[0]==="["||o[c]?(n.push(...l.sort(),c),l=[]):l.push(c)}),n.push(...l.sort()),n}},createConfigUtils=e=>({cache:createLruCache(e.cacheSize),parseClassName:createParseClassName(e),sortModifiers:createSortModifiers(e),...createClassGroupUtils(e)}),SPLIT_CLASSES_REGEX=/\s+/,mergeClassList=(e,o)=>{const{parseClassName:i,getClassGroupId:s,getConflictingClassGroupIds:n,sortModifiers:l}=o,c=[],u=e.trim().split(SPLIT_CLASSES_REGEX);let p="";for(let d=u.length-1;d>=0;d-=1){const g=u[d],{isExternal:h,modifiers:_,hasImportantModifier:y,baseClassName:k,maybePostfixModifierPosition:M}=i(g);if(h){p=g+(p.length>0?" "+p:p);continue}let J=!!M,j=s(J?k.substring(0,M):k);if(!j){if(!J){p=g+(p.length>0?" "+p:p);continue}if(j=s(k),!j){p=g+(p.length>0?" "+p:p);continue}J=!1}const $=l(_).join(":"),_e=y?$+IMPORTANT_MODIFIER:$,Ie=_e+j;if(c.includes(Ie))continue;c.push(Ie);const f=n(j,J);for(let Re=0;Re<f.length;++Re){const Te=f[Re];c.push(_e+Te)}p=g+(p.length>0?" "+p:p)}return p};function twJoin(){let e=0,o,i,s="";for(;e<arguments.length;)(o=arguments[e++])&&(i=toValue(o))&&(s&&(s+=" "),s+=i);return s}const toValue=e=>{if(typeof e=="string")return e;let o,i="";for(let s=0;s<e.length;s++)e[s]&&(o=toValue(e[s]))&&(i&&(i+=" "),i+=o);return i};function createTailwindMerge(e,...o){let i,s,n,l=c;function c(p){const d=o.reduce((g,h)=>h(g),e());return i=createConfigUtils(d),s=i.cache.get,n=i.cache.set,l=u,u(p)}function u(p){const d=s(p);if(d)return d;const g=mergeClassList(p,i);return n(p,g),g}return function(){return l(twJoin.apply(null,arguments))}}const fromTheme=e=>{const o=i=>i[e]||[];return o.isThemeGetter=!0,o},arbitraryValueRegex=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,arbitraryVariableRegex=/^\((?:(\w[\w-]*):)?(.+)\)$/i,fractionRegex=/^\d+\/\d+$/,tshirtUnitRegex=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,lengthUnitRegex=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,colorFunctionRegex=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,shadowRegex=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,imageRegex=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,isFraction=e=>fractionRegex.test(e),isNumber=e=>!!e&&!Number.isNaN(Number(e)),isInteger=e=>!!e&&Number.isInteger(Number(e)),isPercent=e=>e.endsWith("%")&&isNumber(e.slice(0,-1)),isTshirtSize=e=>tshirtUnitRegex.test(e),isAny=()=>!0,isLengthOnly=e=>lengthUnitRegex.test(e)&&!colorFunctionRegex.test(e),isNever=()=>!1,isShadow=e=>shadowRegex.test(e),isImage=e=>imageRegex.test(e),isAnyNonArbitrary=e=>!isArbitraryValue(e)&&!isArbitraryVariable(e),isArbitrarySize=e=>getIsArbitraryValue(e,isLabelSize,isNever),isArbitraryValue=e=>arbitraryValueRegex.test(e),isArbitraryLength=e=>getIsArbitraryValue(e,isLabelLength,isLengthOnly),isArbitraryNumber=e=>getIsArbitraryValue(e,isLabelNumber,isNumber),isArbitraryPosition=e=>getIsArbitraryValue(e,isLabelPosition,isNever),isArbitraryImage=e=>getIsArbitraryValue(e,isLabelImage,isImage),isArbitraryShadow=e=>getIsArbitraryValue(e,isLabelShadow,isShadow),isArbitraryVariable=e=>arbitraryVariableRegex.test(e),isArbitraryVariableLength=e=>getIsArbitraryVariable(e,isLabelLength),isArbitraryVariableFamilyName=e=>getIsArbitraryVariable(e,isLabelFamilyName),isArbitraryVariablePosition=e=>getIsArbitraryVariable(e,isLabelPosition),isArbitraryVariableSize=e=>getIsArbitraryVariable(e,isLabelSize),isArbitraryVariableImage=e=>getIsArbitraryVariable(e,isLabelImage),isArbitraryVariableShadow=e=>getIsArbitraryVariable(e,isLabelShadow,!0),getIsArbitraryValue=(e,o,i)=>{const s=arbitraryValueRegex.exec(e);return s?s[1]?o(s[1]):i(s[2]):!1},getIsArbitraryVariable=(e,o,i=!1)=>{const s=arbitraryVariableRegex.exec(e);return s?s[1]?o(s[1]):i:!1},isLabelPosition=e=>e==="position"||e==="percentage",isLabelImage=e=>e==="image"||e==="url",isLabelSize=e=>e==="length"||e==="size"||e==="bg-size",isLabelLength=e=>e==="length",isLabelNumber=e=>e==="number",isLabelFamilyName=e=>e==="family-name",isLabelShadow=e=>e==="shadow",getDefaultConfig=()=>{const e=fromTheme("color"),o=fromTheme("font"),i=fromTheme("text"),s=fromTheme("font-weight"),n=fromTheme("tracking"),l=fromTheme("leading"),c=fromTheme("breakpoint"),u=fromTheme("container"),p=fromTheme("spacing"),d=fromTheme("radius"),g=fromTheme("shadow"),h=fromTheme("inset-shadow"),_=fromTheme("text-shadow"),y=fromTheme("drop-shadow"),k=fromTheme("blur"),M=fromTheme("perspective"),J=fromTheme("aspect"),j=fromTheme("ease"),$=fromTheme("animate"),_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ie=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],f=()=>[...Ie(),isArbitraryVariable,isArbitraryValue],Re=()=>["auto","hidden","clip","visible","scroll"],Te=()=>["auto","contain","none"],G=()=>[isArbitraryVariable,isArbitraryValue,p],Pe=()=>[isFraction,"full","auto",...G()],Fe=()=>[isInteger,"none","subgrid",isArbitraryVariable,isArbitraryValue],Me=()=>["auto",{span:["full",isInteger,isArbitraryVariable,isArbitraryValue]},isInteger,isArbitraryVariable,isArbitraryValue],Oe=()=>[isInteger,"auto",isArbitraryVariable,isArbitraryValue],$e=()=>["auto","min","max","fr",isArbitraryVariable,isArbitraryValue],Qe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ge=()=>["start","end","center","stretch","center-safe","end-safe"],Ne=()=>["auto",...G()],We=()=>[isFraction,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...G()],Se=()=>[e,isArbitraryVariable,isArbitraryValue],Xe=()=>[...Ie(),isArbitraryVariablePosition,isArbitraryPosition,{position:[isArbitraryVariable,isArbitraryValue]}],et=()=>["no-repeat",{repeat:["","x","y","space","round"]}],tt=()=>["auto","cover","contain",isArbitraryVariableSize,isArbitrarySize,{size:[isArbitraryVariable,isArbitraryValue]}],Ze=()=>[isPercent,isArbitraryVariableLength,isArbitraryLength],Ve=()=>["","none","full",d,isArbitraryVariable,isArbitraryValue],Ue=()=>["",isNumber,isArbitraryVariableLength,isArbitraryLength],He=()=>["solid","dashed","dotted","double"],rt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Le=()=>[isNumber,isPercent,isArbitraryVariablePosition,isArbitraryPosition],ot=()=>["","none",k,isArbitraryVariable,isArbitraryValue],De=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Ke=()=>["none",isNumber,isArbitraryVariable,isArbitraryValue],Ye=()=>[isNumber,isArbitraryVariable,isArbitraryValue],Je=()=>[isFraction,"full",...G()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[isTshirtSize],breakpoint:[isTshirtSize],color:[isAny],container:[isTshirtSize],"drop-shadow":[isTshirtSize],ease:["in","out","in-out"],font:[isAnyNonArbitrary],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[isTshirtSize],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[isTshirtSize],shadow:[isTshirtSize],spacing:["px",isNumber],text:[isTshirtSize],"text-shadow":[isTshirtSize],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",isFraction,isArbitraryValue,isArbitraryVariable,J]}],container:["container"],columns:[{columns:[isNumber,isArbitraryValue,isArbitraryVariable,u]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:f()}],overflow:[{overflow:Re()}],"overflow-x":[{"overflow-x":Re()}],"overflow-y":[{"overflow-y":Re()}],overscroll:[{overscroll:Te()}],"overscroll-x":[{"overscroll-x":Te()}],"overscroll-y":[{"overscroll-y":Te()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Pe()}],"inset-x":[{"inset-x":Pe()}],"inset-y":[{"inset-y":Pe()}],start:[{start:Pe()}],end:[{end:Pe()}],top:[{top:Pe()}],right:[{right:Pe()}],bottom:[{bottom:Pe()}],left:[{left:Pe()}],visibility:["visible","invisible","collapse"],z:[{z:[isInteger,"auto",isArbitraryVariable,isArbitraryValue]}],basis:[{basis:[isFraction,"full","auto",u,...G()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[isNumber,isFraction,"auto","initial","none",isArbitraryValue]}],grow:[{grow:["",isNumber,isArbitraryVariable,isArbitraryValue]}],shrink:[{shrink:["",isNumber,isArbitraryVariable,isArbitraryValue]}],order:[{order:[isInteger,"first","last","none",isArbitraryVariable,isArbitraryValue]}],"grid-cols":[{"grid-cols":Fe()}],"col-start-end":[{col:Me()}],"col-start":[{"col-start":Oe()}],"col-end":[{"col-end":Oe()}],"grid-rows":[{"grid-rows":Fe()}],"row-start-end":[{row:Me()}],"row-start":[{"row-start":Oe()}],"row-end":[{"row-end":Oe()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$e()}],"auto-rows":[{"auto-rows":$e()}],gap:[{gap:G()}],"gap-x":[{"gap-x":G()}],"gap-y":[{"gap-y":G()}],"justify-content":[{justify:[...Qe(),"normal"]}],"justify-items":[{"justify-items":[...Ge(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ge()]}],"align-content":[{content:["normal",...Qe()]}],"align-items":[{items:[...Ge(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ge(),{baseline:["","last"]}]}],"place-content":[{"place-content":Qe()}],"place-items":[{"place-items":[...Ge(),"baseline"]}],"place-self":[{"place-self":["auto",...Ge()]}],p:[{p:G()}],px:[{px:G()}],py:[{py:G()}],ps:[{ps:G()}],pe:[{pe:G()}],pt:[{pt:G()}],pr:[{pr:G()}],pb:[{pb:G()}],pl:[{pl:G()}],m:[{m:Ne()}],mx:[{mx:Ne()}],my:[{my:Ne()}],ms:[{ms:Ne()}],me:[{me:Ne()}],mt:[{mt:Ne()}],mr:[{mr:Ne()}],mb:[{mb:Ne()}],ml:[{ml:Ne()}],"space-x":[{"space-x":G()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":G()}],"space-y-reverse":["space-y-reverse"],size:[{size:We()}],w:[{w:[u,"screen",...We()]}],"min-w":[{"min-w":[u,"screen","none",...We()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[c]},...We()]}],h:[{h:["screen","lh",...We()]}],"min-h":[{"min-h":["screen","lh","none",...We()]}],"max-h":[{"max-h":["screen","lh",...We()]}],"font-size":[{text:["base",i,isArbitraryVariableLength,isArbitraryLength]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,isArbitraryVariable,isArbitraryNumber]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",isPercent,isArbitraryValue]}],"font-family":[{font:[isArbitraryVariableFamilyName,isArbitraryValue,o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,isArbitraryVariable,isArbitraryValue]}],"line-clamp":[{"line-clamp":[isNumber,"none",isArbitraryVariable,isArbitraryNumber]}],leading:[{leading:[l,...G()]}],"list-image":[{"list-image":["none",isArbitraryVariable,isArbitraryValue]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",isArbitraryVariable,isArbitraryValue]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Se()}],"text-color":[{text:Se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...He(),"wavy"]}],"text-decoration-thickness":[{decoration:[isNumber,"from-font","auto",isArbitraryVariable,isArbitraryLength]}],"text-decoration-color":[{decoration:Se()}],"underline-offset":[{"underline-offset":[isNumber,"auto",isArbitraryVariable,isArbitraryValue]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",isArbitraryVariable,isArbitraryValue]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",isArbitraryVariable,isArbitraryValue]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Xe()}],"bg-repeat":[{bg:et()}],"bg-size":[{bg:tt()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},isInteger,isArbitraryVariable,isArbitraryValue],radial:["",isArbitraryVariable,isArbitraryValue],conic:[isInteger,isArbitraryVariable,isArbitraryValue]},isArbitraryVariableImage,isArbitraryImage]}],"bg-color":[{bg:Se()}],"gradient-from-pos":[{from:Ze()}],"gradient-via-pos":[{via:Ze()}],"gradient-to-pos":[{to:Ze()}],"gradient-from":[{from:Se()}],"gradient-via":[{via:Se()}],"gradient-to":[{to:Se()}],rounded:[{rounded:Ve()}],"rounded-s":[{"rounded-s":Ve()}],"rounded-e":[{"rounded-e":Ve()}],"rounded-t":[{"rounded-t":Ve()}],"rounded-r":[{"rounded-r":Ve()}],"rounded-b":[{"rounded-b":Ve()}],"rounded-l":[{"rounded-l":Ve()}],"rounded-ss":[{"rounded-ss":Ve()}],"rounded-se":[{"rounded-se":Ve()}],"rounded-ee":[{"rounded-ee":Ve()}],"rounded-es":[{"rounded-es":Ve()}],"rounded-tl":[{"rounded-tl":Ve()}],"rounded-tr":[{"rounded-tr":Ve()}],"rounded-br":[{"rounded-br":Ve()}],"rounded-bl":[{"rounded-bl":Ve()}],"border-w":[{border:Ue()}],"border-w-x":[{"border-x":Ue()}],"border-w-y":[{"border-y":Ue()}],"border-w-s":[{"border-s":Ue()}],"border-w-e":[{"border-e":Ue()}],"border-w-t":[{"border-t":Ue()}],"border-w-r":[{"border-r":Ue()}],"border-w-b":[{"border-b":Ue()}],"border-w-l":[{"border-l":Ue()}],"divide-x":[{"divide-x":Ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...He(),"hidden","none"]}],"divide-style":[{divide:[...He(),"hidden","none"]}],"border-color":[{border:Se()}],"border-color-x":[{"border-x":Se()}],"border-color-y":[{"border-y":Se()}],"border-color-s":[{"border-s":Se()}],"border-color-e":[{"border-e":Se()}],"border-color-t":[{"border-t":Se()}],"border-color-r":[{"border-r":Se()}],"border-color-b":[{"border-b":Se()}],"border-color-l":[{"border-l":Se()}],"divide-color":[{divide:Se()}],"outline-style":[{outline:[...He(),"none","hidden"]}],"outline-offset":[{"outline-offset":[isNumber,isArbitraryVariable,isArbitraryValue]}],"outline-w":[{outline:["",isNumber,isArbitraryVariableLength,isArbitraryLength]}],"outline-color":[{outline:Se()}],shadow:[{shadow:["","none",g,isArbitraryVariableShadow,isArbitraryShadow]}],"shadow-color":[{shadow:Se()}],"inset-shadow":[{"inset-shadow":["none",h,isArbitraryVariableShadow,isArbitraryShadow]}],"inset-shadow-color":[{"inset-shadow":Se()}],"ring-w":[{ring:Ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Se()}],"ring-offset-w":[{"ring-offset":[isNumber,isArbitraryLength]}],"ring-offset-color":[{"ring-offset":Se()}],"inset-ring-w":[{"inset-ring":Ue()}],"inset-ring-color":[{"inset-ring":Se()}],"text-shadow":[{"text-shadow":["none",_,isArbitraryVariableShadow,isArbitraryShadow]}],"text-shadow-color":[{"text-shadow":Se()}],opacity:[{opacity:[isNumber,isArbitraryVariable,isArbitraryValue]}],"mix-blend":[{"mix-blend":[...rt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":rt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[isNumber]}],"mask-image-linear-from-pos":[{"mask-linear-from":Le()}],"mask-image-linear-to-pos":[{"mask-linear-to":Le()}],"mask-image-linear-from-color":[{"mask-linear-from":Se()}],"mask-image-linear-to-color":[{"mask-linear-to":Se()}],"mask-image-t-from-pos":[{"mask-t-from":Le()}],"mask-image-t-to-pos":[{"mask-t-to":Le()}],"mask-image-t-from-color":[{"mask-t-from":Se()}],"mask-image-t-to-color":[{"mask-t-to":Se()}],"mask-image-r-from-pos":[{"mask-r-from":Le()}],"mask-image-r-to-pos":[{"mask-r-to":Le()}],"mask-image-r-from-color":[{"mask-r-from":Se()}],"mask-image-r-to-color":[{"mask-r-to":Se()}],"mask-image-b-from-pos":[{"mask-b-from":Le()}],"mask-image-b-to-pos":[{"mask-b-to":Le()}],"mask-image-b-from-color":[{"mask-b-from":Se()}],"mask-image-b-to-color":[{"mask-b-to":Se()}],"mask-image-l-from-pos":[{"mask-l-from":Le()}],"mask-image-l-to-pos":[{"mask-l-to":Le()}],"mask-image-l-from-color":[{"mask-l-from":Se()}],"mask-image-l-to-color":[{"mask-l-to":Se()}],"mask-image-x-from-pos":[{"mask-x-from":Le()}],"mask-image-x-to-pos":[{"mask-x-to":Le()}],"mask-image-x-from-color":[{"mask-x-from":Se()}],"mask-image-x-to-color":[{"mask-x-to":Se()}],"mask-image-y-from-pos":[{"mask-y-from":Le()}],"mask-image-y-to-pos":[{"mask-y-to":Le()}],"mask-image-y-from-color":[{"mask-y-from":Se()}],"mask-image-y-to-color":[{"mask-y-to":Se()}],"mask-image-radial":[{"mask-radial":[isArbitraryVariable,isArbitraryValue]}],"mask-image-radial-from-pos":[{"mask-radial-from":Le()}],"mask-image-radial-to-pos":[{"mask-radial-to":Le()}],"mask-image-radial-from-color":[{"mask-radial-from":Se()}],"mask-image-radial-to-color":[{"mask-radial-to":Se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Ie()}],"mask-image-conic-pos":[{"mask-conic":[isNumber]}],"mask-image-conic-from-pos":[{"mask-conic-from":Le()}],"mask-image-conic-to-pos":[{"mask-conic-to":Le()}],"mask-image-conic-from-color":[{"mask-conic-from":Se()}],"mask-image-conic-to-color":[{"mask-conic-to":Se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Xe()}],"mask-repeat":[{mask:et()}],"mask-size":[{mask:tt()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",isArbitraryVariable,isArbitraryValue]}],filter:[{filter:["","none",isArbitraryVariable,isArbitraryValue]}],blur:[{blur:ot()}],brightness:[{brightness:[isNumber,isArbitraryVariable,isArbitraryValue]}],contrast:[{contrast:[isNumber,isArbitraryVariable,isArbitraryValue]}],"drop-shadow":[{"drop-shadow":["","none",y,isArbitraryVariableShadow,isArbitraryShadow]}],"drop-shadow-color":[{"drop-shadow":Se()}],grayscale:[{grayscale:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"hue-rotate":[{"hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],invert:[{invert:["",isNumber,isArbitraryVariable,isArbitraryValue]}],saturate:[{saturate:[isNumber,isArbitraryVariable,isArbitraryValue]}],sepia:[{sepia:["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-filter":[{"backdrop-filter":["","none",isArbitraryVariable,isArbitraryValue]}],"backdrop-blur":[{"backdrop-blur":ot()}],"backdrop-brightness":[{"backdrop-brightness":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-contrast":[{"backdrop-contrast":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-grayscale":[{"backdrop-grayscale":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-invert":[{"backdrop-invert":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-opacity":[{"backdrop-opacity":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-saturate":[{"backdrop-saturate":[isNumber,isArbitraryVariable,isArbitraryValue]}],"backdrop-sepia":[{"backdrop-sepia":["",isNumber,isArbitraryVariable,isArbitraryValue]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":G()}],"border-spacing-x":[{"border-spacing-x":G()}],"border-spacing-y":[{"border-spacing-y":G()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",isArbitraryVariable,isArbitraryValue]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[isNumber,"initial",isArbitraryVariable,isArbitraryValue]}],ease:[{ease:["linear","initial",j,isArbitraryVariable,isArbitraryValue]}],delay:[{delay:[isNumber,isArbitraryVariable,isArbitraryValue]}],animate:[{animate:["none",$,isArbitraryVariable,isArbitraryValue]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[M,isArbitraryVariable,isArbitraryValue]}],"perspective-origin":[{"perspective-origin":f()}],rotate:[{rotate:De()}],"rotate-x":[{"rotate-x":De()}],"rotate-y":[{"rotate-y":De()}],"rotate-z":[{"rotate-z":De()}],scale:[{scale:Ke()}],"scale-x":[{"scale-x":Ke()}],"scale-y":[{"scale-y":Ke()}],"scale-z":[{"scale-z":Ke()}],"scale-3d":["scale-3d"],skew:[{skew:Ye()}],"skew-x":[{"skew-x":Ye()}],"skew-y":[{"skew-y":Ye()}],transform:[{transform:[isArbitraryVariable,isArbitraryValue,"","none","gpu","cpu"]}],"transform-origin":[{origin:f()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Je()}],"translate-x":[{"translate-x":Je()}],"translate-y":[{"translate-y":Je()}],"translate-z":[{"translate-z":Je()}],"translate-none":["translate-none"],accent:[{accent:Se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",isArbitraryVariable,isArbitraryValue]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",isArbitraryVariable,isArbitraryValue]}],fill:[{fill:["none",...Se()]}],"stroke-w":[{stroke:[isNumber,isArbitraryVariableLength,isArbitraryLength,isArbitraryNumber]}],stroke:[{stroke:["none",...Se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},twMerge=createTailwindMerge(getDefaultConfig);function cn(...e){return twMerge(clsx(e))}function useRouter(){const{appStore:e}=useConsolidatedApp(),{setCurrentView:o}=e;return{push:reactExports.useCallback(s=>{const n={"/":"dashboard","/workout":"workout","/templates":"templates","/exercises":"exercises","/settings":"settings","/stats":"stats","/profile":"profile"};n[s]?o(n[s]):console.error(`Route not found: ${s}`)},[o])}}const buttonVariants=cva("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function Button({className:e,variant:o,size:i,asChild:s=!1,...n}){const l=s?Slot:"button";return jsxRuntimeExports.jsx(l,{"data-slot":"button",className:cn(buttonVariants({variant:o,size:i,className:e})),type:l==="button"?"button":void 0,...n})}function useNetworkStatus(){const[e,o]=reactExports.useState(navigator.onLine),[i,s]=reactExports.useState(!1);return reactExports.useEffect(()=>{const n=()=>{o(!0),i?s(!1):processSyncQueue().catch(console.error)},l=()=>{o(!1)};return o(navigator.onLine),s(!0),window.addEventListener("online",n),window.addEventListener("offline",l),registerNetworkListeners(),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",l)}},[]),{isOnline:e}}function OfflineIndicator(){const{isOnline:e}=useNetworkStatus(),[o,i]=reactExports.useState(!1);return e||o?null:jsxRuntimeExports.jsxs("div",{className:"fixed top-0 inset-x-0 z-50 bg-yellow-500 text-black px-4 py-2 flex justify-between items-center",children:[jsxRuntimeExports.jsx("p",{className:"text-center font-medium flex-1",children:"You are currently offline. Some features may be limited."}),jsxRuntimeExports.jsx("button",{onClick:()=>i(!0),className:"ml-2 bg-transparent border-none text-black hover:text-gray-800","aria-label":"Dismiss offline notification",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),jsxRuntimeExports.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]})}function PWAInstallPrompt(){const[e,o]=reactExports.useState(null),[i,s]=reactExports.useState(!1);reactExports.useEffect(()=>{window.matchMedia("(display-mode: standalone)").matches&&s(!0);const l=c=>{c.preventDefault(),o(c)};return window.addEventListener("beforeinstallprompt",l),window.addEventListener("appinstalled",()=>{s(!0),o(null),console.log("PWA was installed")}),()=>{window.removeEventListener("beforeinstallprompt",l)}},[]);const n=async()=>{if(!e)return;await e.prompt(),(await e.userChoice).outcome==="accepted"?console.log("User accepted the installation"):console.log("User dismissed the installation"),o(null)};return i||!e?null:jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 left-0 right-0 mx-auto max-w-md p-4 bg-background border border-border rounded-lg shadow-lg z-50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-primary text-primary-foreground rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[jsxRuntimeExports.jsx("path",{d:"M16 8v8"}),jsxRuntimeExports.jsx("path",{d:"M8 8v8"}),jsxRuntimeExports.jsx("path",{d:"M12 4v16"})]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:pwaConfig.installation.installButtonText}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:pwaConfig.installation.installDescription})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>o(null),children:"Not now"}),jsxRuntimeExports.jsx(Button,{onClick:n,children:"Install"})]})]})})}function UpdateNotification(){const[e,o]=reactExports.useState(!1);reactExports.useEffect(()=>{const s=n=>{console.log("Update available!"),o(!0)};return window.addEventListener("pwa-update-available",s),()=>{window.removeEventListener("pwa-update-available",s)}},[]);const i=()=>{window.updateSW&&window.updateSW(!0).then(()=>{o(!1)})};return e?jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 right-4 max-w-xs p-4 bg-background border border-border rounded-lg shadow-lg z-50",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Update Available"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-muted-foreground",children:"A new version of this application is available."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx(Button,{variant:"outline",onClick:()=>o(!1),children:"Later"}),jsxRuntimeExports.jsx(Button,{onClick:i,children:"Update Now"})]})]})}):null}function PWAHandler(){const[e,o]=reactExports.useState({prompt:!1,installed:!1,update:!1,error:!1});return reactExports.useEffect(()=>{(window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0)&&o(d=>({...d,installed:!0}));const s=d=>{d.preventDefault(),o(g=>({...g,prompt:!0}))},n=()=>{o(d=>({...d,installed:!0,prompt:!1})),console.log("PWA was installed successfully")},l=()=>{o(d=>({...d,update:!0}))},c=()=>{console.log("App is offline")},u=()=>{console.log("App is online")},p=d=>{const{error:g}=d.detail;console.error("Service worker registration failed:",g),o(h=>({...h,error:!0}))};return window.addEventListener("beforeinstallprompt",s),window.addEventListener("appinstalled",n),window.addEventListener("pwa-update-available",l),window.addEventListener("pwa-registration-error",p),window.addEventListener("online",u),window.addEventListener("offline",c),()=>{window.removeEventListener("beforeinstallprompt",s),window.removeEventListener("appinstalled",n),window.removeEventListener("pwa-update-available",l),window.removeEventListener("pwa-registration-error",p),window.removeEventListener("online",u),window.removeEventListener("offline",c)}},[]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e.prompt&&jsxRuntimeExports.jsx(PWAInstallPrompt,{}),e.update&&jsxRuntimeExports.jsx(UpdateNotification,{})]})}export{deleteSpreadsheetRow as A,Button as B,updateSpreadsheetRow as C,createSpreadsheetRow as D,getMealPlans as E,deleteMealPlan as F,updateMealPlan as G,createMealPlan as H,createSlot as I,composeRefs as J,useAppStore as K,useExercises as L,v4 as M,createJSONStorage as N,OfflineIndicator as O,PWAHandler as P,cva as Q,React as R,React$1 as S,Slot as T,UnifiedAppProvider as U,createSlottable as V,__vitePreload as _,useAuth as a,useNavigation as b,cn as c,PWAInstallPrompt as d,useComposedRefs as e,create as f,persist as g,useWorkoutLogs as h,getTotalWorkouts as i,jsxRuntimeExports as j,getWeeklyAverageWorkouts as k,getTotalWeightLifted as l,getPersonalRecordsCount as m,getNewPRsThisMonth as n,clsx as o,pwaConfig as p,useUnifiedDataStore as q,reactExports as r,serviceWorkerOptions as s,useRouter as t,useConsolidatedApp as u,useWorkoutTemplates as v,googleConfig as w,ensureValidToken as x,gapi as y,readSpreadsheetData as z};
//# sourceMappingURL=pwa-components-DFRzXAPN.js.map
