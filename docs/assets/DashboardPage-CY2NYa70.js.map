{"version":3,"file":"DashboardPage-CY2NYa70.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-down-wide-narrow.js","../../node_modules/lucide-react/dist/esm/icons/arrow-down.js","../../node_modules/lucide-react/dist/esm/icons/arrow-right.js","../../node_modules/lucide-react/dist/esm/icons/arrow-up-narrow-wide.js","../../node_modules/lucide-react/dist/esm/icons/arrow-up.js","../../node_modules/lucide-react/dist/esm/icons/award.js","../../node_modules/lucide-react/dist/esm/icons/chart-line.js","../../node_modules/lucide-react/dist/esm/icons/chart-no-axes-column.js","../../node_modules/lucide-react/dist/esm/icons/chef-hat.js","../../node_modules/lucide-react/dist/esm/icons/circle-plus.js","../../node_modules/lucide-react/dist/esm/icons/circle.js","../../node_modules/lucide-react/dist/esm/icons/copy.js","../../node_modules/lucide-react/dist/esm/icons/download.js","../../node_modules/lucide-react/dist/esm/icons/droplets.js","../../node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js","../../node_modules/lucide-react/dist/esm/icons/file.js","../../node_modules/lucide-react/dist/esm/icons/folder-open.js","../../node_modules/lucide-react/dist/esm/icons/funnel.js","../../node_modules/lucide-react/dist/esm/icons/image.js","../../node_modules/lucide-react/dist/esm/icons/loader-circle.js","../../node_modules/lucide-react/dist/esm/icons/lock.js","../../node_modules/lucide-react/dist/esm/icons/mail.js","../../node_modules/lucide-react/dist/esm/icons/minus.js","../../node_modules/lucide-react/dist/esm/icons/panels-top-left.js","../../node_modules/lucide-react/dist/esm/icons/pause.js","../../node_modules/lucide-react/dist/esm/icons/play.js","../../node_modules/lucide-react/dist/esm/icons/sparkles.js","../../node_modules/lucide-react/dist/esm/icons/thermometer.js","../../node_modules/lucide-react/dist/esm/icons/trending-down.js","../../node_modules/lucide-react/dist/esm/icons/upload.js","../../node_modules/lucide-react/dist/esm/icons/utensils.js","../../node_modules/lucide-react/dist/esm/icons/weight.js","../../node_modules/@radix-ui/react-switch/dist/index.mjs","../../src/components/ui/switch.tsx","../../src/store/dashboardCustomizationStore.ts","../../src/components/dashboard/DashboardCustomizationToolbar.tsx","../../src/components/dashboard/StatCard.tsx","../../src/components/dashboard/cards/TotalWorkoutsCard.tsx","../../src/components/dashboard/cards/WeeklyAverageCard.tsx","../../src/components/dashboard/cards/WeightLiftedCard.tsx","../../src/components/dashboard/cards/PersonalRecordsCard.tsx","../../node_modules/recharts/es6/shape/Polygon.js","../../node_modules/recharts/es6/polar/PolarGrid.js","../../node_modules/lodash/maxBy.js","../../node_modules/lodash/minBy.js","../../node_modules/recharts/es6/polar/PolarRadiusAxis.js","../../node_modules/recharts/es6/polar/PolarAngleAxis.js","../../node_modules/lodash/head.js","../../node_modules/lodash/first.js","../../node_modules/recharts/es6/polar/Radar.js","../../node_modules/recharts/es6/cartesian/Area.js","../../node_modules/recharts/es6/chart/RadarChart.js","../../node_modules/recharts/es6/chart/AreaChart.js","../../node_modules/date-fns/constants.js","../../node_modules/date-fns/constructFrom.js","../../node_modules/date-fns/toDate.js","../../node_modules/date-fns/addDays.js","../../node_modules/date-fns/_lib/defaultOptions.js","../../node_modules/date-fns/startOfWeek.js","../../node_modules/date-fns/startOfISOWeek.js","../../node_modules/date-fns/getISOWeekYear.js","../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js","../../node_modules/date-fns/_lib/normalizeDates.js","../../node_modules/date-fns/startOfDay.js","../../node_modules/date-fns/differenceInCalendarDays.js","../../node_modules/date-fns/startOfISOWeekYear.js","../../node_modules/date-fns/isDate.js","../../node_modules/date-fns/isValid.js","../../node_modules/date-fns/startOfYear.js","../../node_modules/date-fns/locale/en-US/_lib/formatDistance.js","../../node_modules/date-fns/locale/_lib/buildFormatLongFn.js","../../node_modules/date-fns/locale/en-US/_lib/formatLong.js","../../node_modules/date-fns/locale/en-US/_lib/formatRelative.js","../../node_modules/date-fns/locale/_lib/buildLocalizeFn.js","../../node_modules/date-fns/locale/en-US/_lib/localize.js","../../node_modules/date-fns/locale/_lib/buildMatchFn.js","../../node_modules/date-fns/locale/_lib/buildMatchPatternFn.js","../../node_modules/date-fns/locale/en-US/_lib/match.js","../../node_modules/date-fns/locale/en-US.js","../../node_modules/date-fns/getDayOfYear.js","../../node_modules/date-fns/getISOWeek.js","../../node_modules/date-fns/getWeekYear.js","../../node_modules/date-fns/startOfWeekYear.js","../../node_modules/date-fns/getWeek.js","../../node_modules/date-fns/_lib/addLeadingZeros.js","../../node_modules/date-fns/_lib/format/lightFormatters.js","../../node_modules/date-fns/_lib/format/formatters.js","../../node_modules/date-fns/_lib/format/longFormatters.js","../../node_modules/date-fns/_lib/protectedTokens.js","../../node_modules/date-fns/format.js","../../src/components/charts/ChartConfig.ts","../../src/components/charts/ChartHelpers.tsx","../../src/components/charts/FatigueProgressionByMuscleChart.tsx","../../src/components/charts/WorkoutChartsDashboard.tsx","../../src/components/charts/MuscleGroupDistributionChart.tsx","../../src/components/charts/ProgressionByMuscleChart.tsx","../../src/components/dashboard/cards/ProgressionByMuscleCard.tsx","../../src/components/dashboard/cards/MuscleGroupVolumeCard.tsx","../../src/components/dashboard/cards/FatigueProgressionCard.tsx","../../src/components/dashboard/cards/NewWorkoutActionCard.tsx","../../src/components/dashboard/cards/AnalyticsActionCard.tsx","../../src/components/dashboard/cards/SetGoalsActionCard.tsx","../../node_modules/@tanstack/table-core/build/lib/index.mjs","../../node_modules/@tanstack/react-table/build/lib/index.mjs","../../src/hooks/useBreakpoint.ts","../../src/hooks/useTableResponsive.ts","../../src/components/dashboard/WorkoutLogTable.tsx","../../src/components/dashboard/cards/WorkoutLogTableCard.tsx","../../src/hooks/useWorkoutData.ts","../../src/components/dashboard/WorkoutSummaryTable.tsx","../../src/components/dashboard/cards/WorkoutSummaryCard.tsx","../../src/components/dashboard/cards/TodoCard.tsx","../../src/components/dashboard/cards/AddWorkoutButton.tsx","../../src/components/dashboard/MuscleFatigueInsights.tsx","../../src/components/dashboard/cards/ProgressCard.tsx","../../src/components/ui/animations.tsx","../../src/assets/Abdominals.png","../../src/assets/back-wings.png","../../src/assets/back (4).png","../../src/assets/biceps.png","../../src/assets/calf.png","../../src/assets/chest.png","../../src/assets/forearm.png","../../src/assets/Hip.png","../../src/assets/leg.png","../../src/assets/neck.png","../../src/assets/shoulder.png","../../src/assets/shoulder (1).png","../../src/assets/trapezius.png","../../src/assets/triceps.png","../../src/utils/muscleIcons.ts","../../src/components/dashboard/MuscleFatigueCard.tsx","../../src/components/dashboard/ActiveWorkoutCard.tsx","../../src/lib/googleDriveService.ts","../../src/utils/healthUtils.ts","../../src/store/healthStore.ts","../../src/components/health/HealthDashboardWidget.tsx","../../src/components/dashboard/CustomizableDashboardGrid.tsx","../../src/components/dashboard/DashboardMainContent.tsx","../../src/components/dashboard/WorkoutsContent.tsx","../../src/components/dashboard/ScheduleContent.tsx","../../src/components/dashboard/StatsContent.tsx","../../src/components/dashboard/ProfileContent.tsx","../../src/components/dashboard/SettingsContent.tsx","../../src/views/NutritionPage.tsx","../../src/views/MealPlanningPage.tsx","../../src/components/health/PersonSelector.tsx","../../src/components/health/PersonManager.tsx","../../src/components/health/FolderConfiguration.tsx","../../src/components/health/DocumentUpload.tsx","../../node_modules/@radix-ui/react-menu/dist/index.mjs","../../node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs","../../src/components/ui/dropdown-menu.tsx","../../src/components/health/DocumentList.tsx","../../src/views/HealthTrackingPage.tsx","../../src/views/MeditationPage.tsx","../../src/components/dashboard/ViewContent.tsx","../../src/views/DashboardPage.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m3 16 4 4 4-4\", key: \"1co6wj\" }],\n  [\"path\", { d: \"M7 20V4\", key: \"1yoxec\" }],\n  [\"path\", { d: \"M11 4h10\", key: \"1w87gc\" }],\n  [\"path\", { d: \"M11 8h7\", key: \"djye34\" }],\n  [\"path\", { d: \"M11 12h4\", key: \"q8tih4\" }]\n];\nconst ArrowDownWideNarrow = createLucideIcon(\"arrow-down-wide-narrow\", __iconNode);\n\nexport { __iconNode, ArrowDownWideNarrow as default };\n//# sourceMappingURL=arrow-down-wide-narrow.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }],\n  [\"path\", { d: \"m19 12-7 7-7-7\", key: \"1idqje\" }]\n];\nconst ArrowDown = createLucideIcon(\"arrow-down\", __iconNode);\n\nexport { __iconNode, ArrowDown as default };\n//# sourceMappingURL=arrow-down.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"m12 5 7 7-7 7\", key: \"xquz4c\" }]\n];\nconst ArrowRight = createLucideIcon(\"arrow-right\", __iconNode);\n\nexport { __iconNode, ArrowRight as default };\n//# sourceMappingURL=arrow-right.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m3 8 4-4 4 4\", key: \"11wl7u\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }],\n  [\"path\", { d: \"M11 12h4\", key: \"q8tih4\" }],\n  [\"path\", { d: \"M11 16h7\", key: \"uosisv\" }],\n  [\"path\", { d: \"M11 20h10\", key: \"jvxblo\" }]\n];\nconst ArrowUpNarrowWide = createLucideIcon(\"arrow-up-narrow-wide\", __iconNode);\n\nexport { __iconNode, ArrowUpNarrowWide as default };\n//# sourceMappingURL=arrow-up-narrow-wide.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m5 12 7-7 7 7\", key: \"hav0vg\" }],\n  [\"path\", { d: \"M12 19V5\", key: \"x0mq9r\" }]\n];\nconst ArrowUp = createLucideIcon(\"arrow-up\", __iconNode);\n\nexport { __iconNode, ArrowUp as default };\n//# sourceMappingURL=arrow-up.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526\",\n      key: \"1yiouv\"\n    }\n  ],\n  [\"circle\", { cx: \"12\", cy: \"8\", r: \"6\", key: \"1vp47v\" }]\n];\nconst Award = createLucideIcon(\"award\", __iconNode);\n\nexport { __iconNode, Award as default };\n//# sourceMappingURL=award.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 3v16a2 2 0 0 0 2 2h16\", key: \"c24i48\" }],\n  [\"path\", { d: \"m19 9-5 5-4-4-3 3\", key: \"2osh9i\" }]\n];\nconst ChartLine = createLucideIcon(\"chart-line\", __iconNode);\n\nexport { __iconNode, ChartLine as default };\n//# sourceMappingURL=chart-line.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"18\", x2: \"18\", y1: \"20\", y2: \"10\", key: \"1xfpm4\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"20\", y2: \"4\", key: \"be30l9\" }],\n  [\"line\", { x1: \"6\", x2: \"6\", y1: \"20\", y2: \"14\", key: \"1r4le6\" }]\n];\nconst ChartNoAxesColumn = createLucideIcon(\"chart-no-axes-column\", __iconNode);\n\nexport { __iconNode, ChartNoAxesColumn as default };\n//# sourceMappingURL=chart-no-axes-column.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z\",\n      key: \"1qvrer\"\n    }\n  ],\n  [\"path\", { d: \"M6 17h12\", key: \"1jwigz\" }]\n];\nconst ChefHat = createLucideIcon(\"chef-hat\", __iconNode);\n\nexport { __iconNode, ChefHat as default };\n//# sourceMappingURL=chef-hat.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }],\n  [\"path\", { d: \"M8 12h8\", key: \"1wcyev\" }],\n  [\"path\", { d: \"M12 8v8\", key: \"napkw2\" }]\n];\nconst CirclePlus = createLucideIcon(\"circle-plus\", __iconNode);\n\nexport { __iconNode, CirclePlus as default };\n//# sourceMappingURL=circle-plus.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"circle\", { cx: \"12\", cy: \"12\", r: \"10\", key: \"1mglay\" }]];\nconst Circle = createLucideIcon(\"circle\", __iconNode);\n\nexport { __iconNode, Circle as default };\n//# sourceMappingURL=circle.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"14\", height: \"14\", x: \"8\", y: \"8\", rx: \"2\", ry: \"2\", key: \"17jyea\" }],\n  [\"path\", { d: \"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2\", key: \"zix9uf\" }]\n];\nconst Copy = createLucideIcon(\"copy\", __iconNode);\n\nexport { __iconNode, Copy as default };\n//# sourceMappingURL=copy.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"7 10 12 15 17 10\", key: \"2ggqvy\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"15\", y2: \"3\", key: \"1vk2je\" }]\n];\nconst Download = createLucideIcon(\"download\", __iconNode);\n\nexport { __iconNode, Download as default };\n//# sourceMappingURL=download.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z\",\n      key: \"1ptgy4\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97\",\n      key: \"1sl1rz\"\n    }\n  ]\n];\nconst Droplets = createLucideIcon(\"droplets\", __iconNode);\n\nexport { __iconNode, Droplets as default };\n//# sourceMappingURL=droplets.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"12\", r: \"1\", key: \"41hilf\" }],\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"1\", key: \"gxeob9\" }],\n  [\"circle\", { cx: \"12\", cy: \"19\", r: \"1\", key: \"lyex9k\" }]\n];\nconst EllipsisVertical = createLucideIcon(\"ellipsis-vertical\", __iconNode);\n\nexport { __iconNode, EllipsisVertical as default };\n//# sourceMappingURL=ellipsis-vertical.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\", key: \"1rqfz7\" }],\n  [\"path\", { d: \"M14 2v4a2 2 0 0 0 2 2h4\", key: \"tnqrlb\" }]\n];\nconst File = createLucideIcon(\"file\", __iconNode);\n\nexport { __iconNode, File as default };\n//# sourceMappingURL=file.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2\",\n      key: \"usdka0\"\n    }\n  ]\n];\nconst FolderOpen = createLucideIcon(\"folder-open\", __iconNode);\n\nexport { __iconNode, FolderOpen as default };\n//# sourceMappingURL=folder-open.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z\",\n      key: \"sc7q7i\"\n    }\n  ]\n];\nconst Funnel = createLucideIcon(\"funnel\", __iconNode);\n\nexport { __iconNode, Funnel as default };\n//# sourceMappingURL=funnel.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", ry: \"2\", key: \"1m3agn\" }],\n  [\"circle\", { cx: \"9\", cy: \"9\", r: \"2\", key: \"af1f0g\" }],\n  [\"path\", { d: \"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21\", key: \"1xmnt7\" }]\n];\nconst Image = createLucideIcon(\"image\", __iconNode);\n\nexport { __iconNode, Image as default };\n//# sourceMappingURL=image.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M21 12a9 9 0 1 1-6.219-8.56\", key: \"13zald\" }]];\nconst LoaderCircle = createLucideIcon(\"loader-circle\", __iconNode);\n\nexport { __iconNode, LoaderCircle as default };\n//# sourceMappingURL=loader-circle.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"11\", x: \"3\", y: \"11\", rx: \"2\", ry: \"2\", key: \"1w4ew1\" }],\n  [\"path\", { d: \"M7 11V7a5 5 0 0 1 10 0v4\", key: \"fwvmzm\" }]\n];\nconst Lock = createLucideIcon(\"lock\", __iconNode);\n\nexport { __iconNode, Lock as default };\n//# sourceMappingURL=lock.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7\", key: \"132q7q\" }],\n  [\"rect\", { x: \"2\", y: \"4\", width: \"20\", height: \"16\", rx: \"2\", key: \"izxlao\" }]\n];\nconst Mail = createLucideIcon(\"mail\", __iconNode);\n\nexport { __iconNode, Mail as default };\n//# sourceMappingURL=mail.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }]];\nconst Minus = createLucideIcon(\"minus\", __iconNode);\n\nexport { __iconNode, Minus as default };\n//# sourceMappingURL=minus.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { width: \"18\", height: \"18\", x: \"3\", y: \"3\", rx: \"2\", key: \"afitv7\" }],\n  [\"path\", { d: \"M3 9h18\", key: \"1pudct\" }],\n  [\"path\", { d: \"M9 21V9\", key: \"1oto5p\" }]\n];\nconst PanelsTopLeft = createLucideIcon(\"panels-top-left\", __iconNode);\n\nexport { __iconNode, PanelsTopLeft as default };\n//# sourceMappingURL=panels-top-left.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"rect\", { x: \"14\", y: \"4\", width: \"4\", height: \"16\", rx: \"1\", key: \"zuxfzm\" }],\n  [\"rect\", { x: \"6\", y: \"4\", width: \"4\", height: \"16\", rx: \"1\", key: \"1okwgv\" }]\n];\nconst Pause = createLucideIcon(\"pause\", __iconNode);\n\nexport { __iconNode, Pause as default };\n//# sourceMappingURL=pause.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [[\"polygon\", { points: \"6 3 20 12 6 21 6 3\", key: \"1oa8hb\" }]];\nconst Play = createLucideIcon(\"play\", __iconNode);\n\nexport { __iconNode, Play as default };\n//# sourceMappingURL=play.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z\",\n      key: \"4pj2yx\"\n    }\n  ],\n  [\"path\", { d: \"M20 3v4\", key: \"1olli1\" }],\n  [\"path\", { d: \"M22 5h-4\", key: \"1gvqau\" }],\n  [\"path\", { d: \"M4 17v2\", key: \"vumght\" }],\n  [\"path\", { d: \"M5 18H3\", key: \"zchphs\" }]\n];\nconst Sparkles = createLucideIcon(\"sparkles\", __iconNode);\n\nexport { __iconNode, Sparkles as default };\n//# sourceMappingURL=sparkles.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z\", key: \"17jzev\" }]\n];\nconst Thermometer = createLucideIcon(\"thermometer\", __iconNode);\n\nexport { __iconNode, Thermometer as default };\n//# sourceMappingURL=thermometer.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"polyline\", { points: \"22 17 13.5 8.5 8.5 13.5 2 7\", key: \"1r2t7k\" }],\n  [\"polyline\", { points: \"16 17 22 17 22 11\", key: \"11uiuu\" }]\n];\nconst TrendingDown = createLucideIcon(\"trending-down\", __iconNode);\n\nexport { __iconNode, TrendingDown as default };\n//# sourceMappingURL=trending-down.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\", key: \"ih7n3h\" }],\n  [\"polyline\", { points: \"17 8 12 3 7 8\", key: \"t8dd8p\" }],\n  [\"line\", { x1: \"12\", x2: \"12\", y1: \"3\", y2: \"15\", key: \"widbto\" }]\n];\nconst Upload = createLucideIcon(\"upload\", __iconNode);\n\nexport { __iconNode, Upload as default };\n//# sourceMappingURL=upload.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2\", key: \"cjf0a3\" }],\n  [\"path\", { d: \"M7 2v20\", key: \"1473qp\" }],\n  [\"path\", { d: \"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7\", key: \"j28e5\" }]\n];\nconst Utensils = createLucideIcon(\"utensils\", __iconNode);\n\nexport { __iconNode, Utensils as default };\n//# sourceMappingURL=utensils.js.map\n","/**\n * @license lucide-react v0.509.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"circle\", { cx: \"12\", cy: \"5\", r: \"3\", key: \"rqqgnr\" }],\n  [\n    \"path\",\n    {\n      d: \"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z\",\n      key: \"56o5sh\"\n    }\n  ]\n];\nconst Weight = createLucideIcon(\"weight\", __iconNode);\n\nexport { __iconNode, Weight as default };\n//# sourceMappingURL=weight.js.map\n","\"use client\";\n\n// src/switch.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx, jsxs } from \"react/jsx-runtime\";\nvar SWITCH_NAME = \"Switch\";\nvar [createSwitchContext, createSwitchScope] = createContextScope(SWITCH_NAME);\nvar [SwitchProvider, useSwitchContext] = createSwitchContext(SWITCH_NAME);\nvar Switch = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeSwitch,\n      name,\n      checked: checkedProp,\n      defaultChecked,\n      required,\n      disabled,\n      value = \"on\",\n      onCheckedChange,\n      form,\n      ...switchProps\n    } = props;\n    const [button, setButton] = React.useState(null);\n    const composedRefs = useComposedRefs(forwardedRef, (node) => setButton(node));\n    const hasConsumerStoppedPropagationRef = React.useRef(false);\n    const isFormControl = button ? form || !!button.closest(\"form\") : true;\n    const [checked, setChecked] = useControllableState({\n      prop: checkedProp,\n      defaultProp: defaultChecked ?? false,\n      onChange: onCheckedChange,\n      caller: SWITCH_NAME\n    });\n    return /* @__PURE__ */ jsxs(SwitchProvider, { scope: __scopeSwitch, checked, disabled, children: [\n      /* @__PURE__ */ jsx(\n        Primitive.button,\n        {\n          type: \"button\",\n          role: \"switch\",\n          \"aria-checked\": checked,\n          \"aria-required\": required,\n          \"data-state\": getState(checked),\n          \"data-disabled\": disabled ? \"\" : void 0,\n          disabled,\n          value,\n          ...switchProps,\n          ref: composedRefs,\n          onClick: composeEventHandlers(props.onClick, (event) => {\n            setChecked((prevChecked) => !prevChecked);\n            if (isFormControl) {\n              hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n              if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n            }\n          })\n        }\n      ),\n      isFormControl && /* @__PURE__ */ jsx(\n        SwitchBubbleInput,\n        {\n          control: button,\n          bubbles: !hasConsumerStoppedPropagationRef.current,\n          name,\n          value,\n          checked,\n          required,\n          disabled,\n          form,\n          style: { transform: \"translateX(-100%)\" }\n        }\n      )\n    ] });\n  }\n);\nSwitch.displayName = SWITCH_NAME;\nvar THUMB_NAME = \"SwitchThumb\";\nvar SwitchThumb = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeSwitch, ...thumbProps } = props;\n    const context = useSwitchContext(THUMB_NAME, __scopeSwitch);\n    return /* @__PURE__ */ jsx(\n      Primitive.span,\n      {\n        \"data-state\": getState(context.checked),\n        \"data-disabled\": context.disabled ? \"\" : void 0,\n        ...thumbProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nSwitchThumb.displayName = THUMB_NAME;\nvar BUBBLE_INPUT_NAME = \"SwitchBubbleInput\";\nvar SwitchBubbleInput = React.forwardRef(\n  ({\n    __scopeSwitch,\n    control,\n    checked,\n    bubbles = true,\n    ...props\n  }, forwardedRef) => {\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(ref, forwardedRef);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = ref.current;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        setChecked.call(input, checked);\n        input.dispatchEvent(event);\n      }\n    }, [prevChecked, checked, bubbles]);\n    return /* @__PURE__ */ jsx(\n      \"input\",\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: checked,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0\n        }\n      }\n    );\n  }\n);\nSwitchBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction getState(checked) {\n  return checked ? \"checked\" : \"unchecked\";\n}\nvar Root = Switch;\nvar Thumb = SwitchThumb;\nexport {\n  Root,\n  Switch,\n  SwitchThumb,\n  Thumb,\n  createSwitchScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as SwitchPrimitives from \"@radix-ui/react-switch\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Switch = React.forwardRef<\r\n  React.ElementRef<typeof SwitchPrimitives.Root>,\r\n  React.ComponentPropsWithoutRef<typeof SwitchPrimitives.Root>\r\n>(({ className, ...props }, ref) => (\r\n  <SwitchPrimitives.Root\r\n    className={cn(\r\n      \"peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input\",\r\n      className\r\n    )}\r\n    {...props}\r\n    ref={ref}\r\n  >\r\n    <SwitchPrimitives.Thumb\r\n      className={cn(\r\n        \"pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0\"\r\n      )}\r\n    />\r\n  </SwitchPrimitives.Root>\r\n))\r\nSwitch.displayName = SwitchPrimitives.Root.displayName\r\n\r\nexport { Switch }\r\n","import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\n\nexport interface CardConfig {\n  id: string;\n  name: string;\n  component: string;\n  isVisible: boolean;\n  category: \"stat\" | \"chart\" | \"action\" | \"content\" | \"health\" | \"other\";\n}\n\ninterface DashboardCustomizationState {\n  // Card configurations\n  cards: CardConfig[];\n\n  // Actions\n  toggleCardVisibility: (cardId: string) => void;\n  resetToDefault: () => void;\n}\n\n// Simple default card configurations - just visibility\nconst defaultCards: CardConfig[] = [\n  {\n    id: \"muscle-fatigue\",\n    name: \"Muscle Fatigue\",\n    component: \"MuscleFatigueCard\",\n    isVisible: true,\n    category: \"health\",\n  },\n  {\n    id: \"active-workout\",\n    name: \"Active Workout\",\n    component: \"ActiveWorkoutCard\",\n    isVisible: true,\n    category: \"other\",\n  },\n  {\n    id: \"total-workouts\",\n    name: \"Total Workouts\",\n    component: \"TotalWorkoutsCard\",\n    isVisible: true,\n    category: \"stat\",\n  },\n  {\n    id: \"weekly-average\",\n    name: \"Weekly Average\",\n    component: \"WeeklyAverageCard\",\n    isVisible: true,\n    category: \"stat\",\n  },\n  {\n    id: \"weight-lifted\",\n    name: \"Weight Lifted\",\n    component: \"WeightLiftedCard\",\n    isVisible: true,\n    category: \"stat\",\n  },\n  {\n    id: \"personal-records\",\n    name: \"Personal Records\",\n    component: \"PersonalRecordsCard\",\n    isVisible: true,\n    category: \"stat\",\n  },\n  {\n    id: \"recent-workouts\",\n    name: \"Recent Workouts\",\n    component: \"RecentWorkouts\",\n    isVisible: true,\n    category: \"content\",\n  },\n  {\n    id: \"progress-card\",\n    name: \"Progress\",\n    component: \"ProgressCard\",\n    isVisible: true,\n    category: \"content\",\n  },\n  {\n    id: \"health-widget\",\n    name: \"Health Dashboard\",\n    component: \"HealthDashboardWidget\",\n    isVisible: true,\n    category: \"health\",\n  },\n  {\n    id: \"todo-card\",\n    name: \"Tasks\",\n    component: \"TodoCard\",\n    isVisible: true,\n    category: \"content\",\n  },\n  {\n    id: \"new-workout-action\",\n    name: \"New Workout\",\n    component: \"NewWorkoutActionCard\",\n    isVisible: true,\n    category: \"action\",\n  },\n  {\n    id: \"analytics-action\",\n    name: \"Analytics\",\n    component: \"AnalyticsActionCard\",\n    isVisible: true,\n    category: \"action\",\n  },\n  {\n    id: \"set-goals-action\",\n    name: \"Set Goals\",\n    component: \"SetGoalsActionCard\",\n    isVisible: true,\n    category: \"action\",\n  },\n  {\n    id: \"progression-chart\",\n    name: \"Progression by Muscle\",\n    component: \"ProgressionByMuscleCard\",\n    isVisible: true,\n    category: \"chart\",\n  },\n  {\n    id: \"volume-chart\",\n    name: \"Muscle Group Volume\",\n    component: \"MuscleGroupVolumeCard\",\n    isVisible: true,\n    category: \"chart\",\n  },\n  {\n    id: \"fatigue-chart\",\n    name: \"Fatigue Progression\",\n    component: \"FatigueProgressionCard\",\n    isVisible: true,\n    category: \"chart\",\n  },\n  {\n    id: \"workout-log-table\",\n    name: \"Workout Log\",\n    component: \"WorkoutLogTableCard\",\n    isVisible: true,\n    category: \"content\",\n  },\n  {\n    id: \"workout-summary\",\n    name: \"Workout Summary\",\n    component: \"WorkoutSummaryCard\",\n    isVisible: true,\n    category: \"content\",\n  },\n];\n\nexport const useDashboardCustomization = create<DashboardCustomizationState>()(\n  persist(\n    (set, get) => ({\n      cards: defaultCards,\n\n      toggleCardVisibility: (cardId) =>\n        set((state) => ({\n          cards: state.cards.map((card) =>\n            card.id === cardId ? { ...card, isVisible: !card.isVisible } : card,\n          ),\n        })),\n\n      resetToDefault: () => set({ cards: [...defaultCards] }),\n    }),\n    {\n      name: \"dashboard-customization\",\n      version: 1,\n    },\n  ),\n);\n","import React, { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { ScrollArea } from '@/components/ui/scroll-area';\r\nimport { toast } from 'sonner';\r\nimport {\r\n  Settings,\r\n  Eye,\r\n  EyeOff,\r\n  RotateCcw,\r\n  Layout,\r\n} from 'lucide-react';\r\nimport { useDashboardCustomization } from '@/store/dashboardCustomizationStore';\r\nimport { cn } from '@/lib/utils';\r\n\r\nexport const DashboardCustomizationToolbar: React.FC = () => {\r\n  const {\r\n    cards,\r\n    toggleCardVisibility,\r\n    resetToDefault,\r\n  } = useDashboardCustomization();\r\n\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleResetToDefault = () => {\r\n    resetToDefault();\r\n    toast.success('Reset to default layout');\r\n  };\r\n\r\n  const visibleCards = cards.filter(card => card.isVisible);\r\n  const hiddenCards = cards.filter(card => !card.isVisible);\r\n\r\n  const cardsByCategory = cards.reduce((acc, card) => {\r\n    if (!acc[card.category]) {\r\n      acc[card.category] = [];\r\n    }\r\n    acc[card.category].push(card);\r\n    return acc;\r\n  }, {} as Record<string, typeof cards>);\r\n\r\n  return (\r\n    <Card className=\"mb-4 border-primary/20 bg-gradient-to-r from-primary/5 to-secondary/5\">\r\n      <CardHeader className=\"pb-3\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <Settings className=\"h-5 w-5 text-primary\" />\r\n            <CardTitle className=\"text-lg\">Dashboard Cards</CardTitle>\r\n            <Badge variant=\"secondary\" className=\"ml-2\">\r\n              {visibleCards.length} of {cards.length} visible\r\n            </Badge>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center gap-2\">\r\n            <Button\r\n              variant=\"outline\"\r\n              size=\"sm\"\r\n              onClick={handleResetToDefault}\r\n            >\r\n              <RotateCcw className=\"h-4 w-4 mr-2\" />\r\n              Reset\r\n            </Button>\r\n            \r\n            <Button\r\n              variant={isOpen ? \"default\" : \"outline\"}\r\n              size=\"sm\"\r\n              onClick={() => setIsOpen(!isOpen)}\r\n            >\r\n              <Layout className=\"h-4 w-4 mr-2\" />\r\n              {isOpen ? \"Hide\" : \"Manage Cards\"}\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </CardHeader>\r\n\r\n      {isOpen && (\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Quick Actions */}\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"text-sm font-medium flex items-center gap-2\">\r\n                <Layout className=\"h-4 w-4\" />\r\n                Quick Actions\r\n              </h4>\r\n              \r\n              <div className=\"space-y-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className=\"w-full justify-start\"\r\n                  onClick={() => {\r\n                    cards.forEach(card => {\r\n                      if (!card.isVisible) toggleCardVisibility(card.id);\r\n                    });\r\n                    toast.success('All cards shown');\r\n                  }}\r\n                >\r\n                  <Eye className=\"h-4 w-4 mr-2\" />\r\n                  Show All Cards\r\n                </Button>\r\n                \r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  className=\"w-full justify-start\"\r\n                  onClick={() => {\r\n                    cards.forEach(card => {\r\n                      if (card.isVisible && card.category !== 'stat') toggleCardVisibility(card.id);\r\n                    });\r\n                    toast.success('Only stats cards shown');\r\n                  }}\r\n                >\r\n                  <EyeOff className=\"h-4 w-4 mr-2\" />\r\n                  Show Only Stats\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Card Visibility by Category */}\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"text-sm font-medium flex items-center gap-2\">\r\n                <Eye className=\"h-4 w-4\" />\r\n                Categories\r\n              </h4>\r\n              \r\n              <ScrollArea className=\"h-48\">\r\n                <div className=\"space-y-3\">\r\n                  {Object.entries(cardsByCategory).map(([category, categoryCards]) => (\r\n                    <div key={category} className=\"space-y-2\">\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <Badge variant=\"outline\" className=\"text-xs capitalize\">\r\n                          {category} ({categoryCards.length})\r\n                        </Badge>\r\n                        <div className=\"flex gap-1\">\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"ghost\"\r\n                            className=\"h-6 w-6 p-0\"\r\n                            onClick={() => {\r\n                              categoryCards.forEach(card => {\r\n                                if (!card.isVisible) toggleCardVisibility(card.id);\r\n                              });\r\n                              toast.success(`Showing all ${category} cards`);\r\n                            }}\r\n                          >\r\n                            <Eye className=\"h-3 w-3\" />\r\n                          </Button>\r\n                          <Button\r\n                            size=\"sm\"\r\n                            variant=\"ghost\"\r\n                            className=\"h-6 w-6 p-0\"\r\n                            onClick={() => {\r\n                              categoryCards.forEach(card => {\r\n                                if (card.isVisible) toggleCardVisibility(card.id);\r\n                              });\r\n                              toast.success(`Hiding all ${category} cards`);\r\n                            }}\r\n                          >\r\n                            <EyeOff className=\"h-3 w-3\" />\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"space-y-1\">\r\n                        {categoryCards.map((card) => (\r\n                          <div\r\n                            key={card.id}\r\n                            className=\"flex items-center justify-between text-xs p-2 rounded border\"\r\n                          >\r\n                            <span className={cn(\r\n                              \"truncate\",\r\n                              !card.isVisible && \"text-muted-foreground line-through\"\r\n                            )}>\r\n                              {card.name}\r\n                            </span>\r\n                            <Switch\r\n                              checked={card.isVisible}\r\n                              onCheckedChange={() => toggleCardVisibility(card.id)}\r\n                              className=\"ml-2\"\r\n                            />\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </ScrollArea>\r\n            </div>\r\n\r\n            {/* Dashboard Stats */}\r\n            <div className=\"space-y-3\">\r\n              <h4 className=\"text-sm font-medium flex items-center gap-2\">\r\n                <Badge className=\"h-4 w-4\" />\r\n                Dashboard Stats\r\n              </h4>\r\n              \r\n              <div className=\"space-y-3\">\r\n                <div className=\"grid grid-cols-2 gap-2 text-sm\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Total:</span>\r\n                    <Badge variant=\"secondary\">{cards.length}</Badge>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-between\">\r\n                    <span>Visible:</span>\r\n                    <Badge variant=\"default\">{visibleCards.length}</Badge>\r\n                  </div>\r\n                  \r\n                  <div className=\"flex justify-between\">\r\n                    <span>Hidden:</span>\r\n                    <Badge variant=\"outline\">{hiddenCards.length}</Badge>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"text-xs space-y-1\">\r\n                  {Object.entries(cardsByCategory).map(([category, categoryCards]) => (\r\n                    <div key={category} className=\"flex justify-between\">\r\n                      <span className=\"capitalize\">{category}:</span>\r\n                      <span>{categoryCards.filter(c => c.isVisible).length}/{categoryCards.length}</span>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Instructions */}\r\n          <div className=\"mt-4 p-3 bg-muted/30 rounded-md\">\r\n            <p className=\"text-xs text-muted-foreground\">\r\n              <strong>Instructions:</strong> Use the switches to show/hide individual cards. \r\n              Use category buttons to show/hide entire categories. \r\n              Hidden cards will be automatically removed from the dashboard layout.\r\n            </p>\r\n          </div>\r\n        </CardContent>\r\n      )}\r\n    </Card>\r\n  );\r\n}; ","import React from 'react';\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { cn } from '@/lib/utils';\r\nimport { ArrowUp, ArrowDown } from 'lucide-react';\r\n\r\ninterface StatCardProps {\r\n  title: string;\r\n  value: string | number;\r\n  description?: string;\r\n  icon?: React.ReactNode;\r\n  trend?: {\r\n    value: number;\r\n    isPositive: boolean;\r\n  };\r\n  className?: string;\r\n}\r\n\r\nexport const StatCard = ({\r\n  title,\r\n  value,\r\n  description,\r\n  icon,\r\n  trend,\r\n  className,\r\n}: StatCardProps) => {\r\n  // Responsive styles based on CSS variables from DraggableCard\r\n  const responsiveStyles = {\r\n    // Use CSS custom properties for responsive sizing\r\n    fontSize: 'clamp(0.75rem, calc(var(--grid-width, 3) * 0.25rem), 1rem)',\r\n    iconSize: 'clamp(1rem, calc(var(--grid-width, 3) * 0.33rem), 2rem)',\r\n    padding: 'clamp(0.5rem, calc(var(--grid-width, 3) * 0.16rem), 1.5rem)',\r\n    valueSize: 'clamp(1.25rem, calc(var(--grid-width, 3) * 0.5rem), 2.5rem)',\r\n  } as React.CSSProperties;\r\n\r\n  return (\r\n    <Card \r\n      variant=\"glass\"\r\n      hover=\"lift\"\r\n      className={cn(\"overflow-hidden h-full\", className)}\r\n      style={responsiveStyles}\r\n    >\r\n      <CardHeader className={cn(\r\n        \"flex flex-row items-center justify-between space-y-0\",\r\n        \"pb-[calc(var(--grid-height,3)*0.15rem)]\",\r\n        \"px-[calc(var(--grid-width,3)*0.16rem)]\",\r\n        \"pt-[calc(var(--grid-height,3)*0.2rem)]\"\r\n      )}>\r\n        <CardTitle \r\n          className=\"font-medium text-muted-foreground line-clamp-1\"\r\n          style={{ \r\n            fontSize: 'clamp(0.75rem, calc(var(--grid-width, 3) * 0.25rem), 0.9rem)' \r\n          }}\r\n        >\r\n          {title}\r\n        </CardTitle>\r\n        {icon && (\r\n          <div \r\n            className=\"flex items-center justify-center rounded-full bg-primary text-white shadow-sm shrink-0\"\r\n            style={{\r\n              width: 'clamp(1.5rem, calc(var(--grid-width, 3) * 0.5rem), 2.5rem)',\r\n              height: 'clamp(1.5rem, calc(var(--grid-width, 3) * 0.5rem), 2.5rem)',\r\n            }}\r\n          >\r\n            <div style={{ \r\n              width: 'clamp(0.75rem, calc(var(--grid-width, 3) * 0.25rem), 1.25rem)',\r\n              height: 'clamp(0.75rem, calc(var(--grid-width, 3) * 0.25rem), 1.25rem)'\r\n            }}>\r\n              {icon}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </CardHeader>\r\n      <CardContent className={cn(\r\n        \"px-[calc(var(--grid-width,3)*0.16rem)]\",\r\n        \"pb-[calc(var(--grid-height,3)*0.1rem)]\"\r\n      )}>\r\n        <div \r\n          className=\"font-bold tracking-tight bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text text-transparent\"\r\n          style={{ \r\n            fontSize: 'clamp(1.25rem, calc(var(--grid-width, 3) * 0.5rem + var(--grid-height, 3) * 0.2rem), 2.5rem)',\r\n            lineHeight: 'clamp(1.5rem, calc(var(--grid-width, 3) * 0.6rem + var(--grid-height, 3) * 0.25rem), 3rem)'\r\n          }}\r\n        >\r\n          {value}\r\n        </div>\r\n        {description && (\r\n          <p \r\n            className=\"text-muted-foreground mt-1 line-clamp-2\"\r\n            style={{ \r\n              fontSize: 'clamp(0.65rem, calc(var(--grid-width, 3) * 0.2rem), 0.8rem)',\r\n              marginTop: 'clamp(0.25rem, calc(var(--grid-height, 3) * 0.1rem), 0.5rem)'\r\n            }}\r\n          >\r\n            {description}\r\n          </p>\r\n        )}\r\n      </CardContent>\r\n      {trend && (\r\n        <CardFooter className={cn(\r\n          \"px-[calc(var(--grid-width,3)*0.16rem)]\",\r\n          \"pb-[calc(var(--grid-height,3)*0.15rem)]\",\r\n          \"pt-0\"\r\n        )}>\r\n          <Badge \r\n            variant={trend.isPositive ? \"success\" : \"destructive\"} \r\n            className={cn(\r\n              \"font-medium gap-1 shadow-sm animate-fade-in\",\r\n              trend.isPositive ? \"bg-success/20 text-success hover:bg-success/30\" : \"bg-destructive/20 text-destructive hover:bg-destructive/30\"\r\n            )}\r\n            style={{\r\n              fontSize: 'clamp(0.6rem, calc(var(--grid-width, 3) * 0.18rem), 0.75rem)',\r\n              padding: 'clamp(0.25rem, calc(var(--grid-width, 3) * 0.08rem), 0.5rem) clamp(0.5rem, calc(var(--grid-width, 3) * 0.12rem), 0.75rem)'\r\n            }}\r\n          >\r\n            {trend.isPositive ? (\r\n              <ArrowUp style={{ \r\n                width: 'clamp(0.6rem, calc(var(--grid-width, 3) * 0.15rem), 0.75rem)',\r\n                height: 'clamp(0.6rem, calc(var(--grid-width, 3) * 0.15rem), 0.75rem)'\r\n              }} />\r\n            ) : (\r\n              <ArrowDown style={{ \r\n                width: 'clamp(0.6rem, calc(var(--grid-width, 3) * 0.15rem), 0.75rem)',\r\n                height: 'clamp(0.6rem, calc(var(--grid-width, 3) * 0.15rem), 0.75rem)'\r\n              }} />\r\n            )}\r\n            {trend.value}%\r\n          </Badge>\r\n        </CardFooter>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { StatCard } from '../StatCard';\r\nimport { BarChart2 } from 'lucide-react';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { getTotalWorkouts } from '@/utils/computeDailyMetrics';\r\n\r\nexport const TotalWorkoutsCard: React.FC = () => {\r\n  const { workoutLogs } = useWorkoutLogs();\r\n  const totalWorkouts = useMemo(() => getTotalWorkouts(workoutLogs), [workoutLogs]);\r\n\r\n  return (\r\n    <StatCard\r\n      title=\"Total Workouts\"\r\n      value={totalWorkouts}\r\n      description=\"Since you started\"\r\n      icon={<BarChart2 className=\"w-4 h-4 text-black\" />}\r\n      trend={{\r\n        value: 0,\r\n        isPositive: true\r\n      }}\r\n    />\r\n  );\r\n}; ","import React, { useMemo } from 'react';\r\nimport { StatCard } from '../StatCard';\r\nimport { TrendingUp } from 'lucide-react';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { getWeeklyAverageWorkouts } from '@/utils/computeDailyMetrics';\r\n\r\nexport const WeeklyAverageCard: React.FC = () => {\r\n  const { workoutLogs } = useWorkoutLogs();\r\n  const weeklyAverage = useMemo(() => getWeeklyAverageWorkouts(workoutLogs), [workoutLogs]);\r\n\r\n  return (\r\n    <StatCard\r\n      title=\"Weekly Average\"\r\n      value={weeklyAverage.toString()}\r\n      description=\"Sessions per week\"\r\n      icon={<TrendingUp className=\"w-4 h-4 text-black\" />}\r\n      trend={{\r\n        value: 0,\r\n        isPositive: true\r\n      }}\r\n    />\r\n  );\r\n}; ","import React, { useMemo } from 'react';\r\nimport { StatCard } from '../StatCard';\r\nimport { Dumbbell } from 'lucide-react';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { getTotalWeightLifted } from '@/utils/computeDailyMetrics';\r\nimport { useMetricConversion } from '@/hooks/useMetricConversion';\r\n\r\nexport const WeightLiftedCard: React.FC = () => {\r\n  const { workoutLogs } = useWorkoutLogs();\r\n  const { convertAndFormatWeight } = useMetricConversion();\r\n  const totalWeightThisMonth = useMemo(() => getTotalWeightLifted(workoutLogs, 'month'), [workoutLogs]);\r\n\r\n  return (\r\n    <StatCard\r\n      title=\"Weight Lifted\"\r\n      value={convertAndFormatWeight(totalWeightThisMonth)}\r\n      description=\"Total this month\"\r\n      icon={<Dumbbell className=\"w-4 h-4 text-black\" />}\r\n      trend={{\r\n        value: 0,\r\n        isPositive: true\r\n      }}\r\n    />\r\n  );\r\n}; ","import React, { useMemo } from 'react';\r\nimport { StatCard } from '../StatCard';\r\nimport { Award } from 'lucide-react';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { getPersonalRecordsCount, getNewPRsThisMonth } from '@/utils/computeDailyMetrics';\r\n\r\nexport const PersonalRecordsCard: React.FC = () => {\r\n  const { workoutLogs } = useWorkoutLogs();\r\n  const personalRecords = useMemo(() => getPersonalRecordsCount(workoutLogs), [workoutLogs]);\r\n  const newPRsThisMonth = useMemo(() => getNewPRsThisMonth(workoutLogs), [workoutLogs]);\r\n\r\n  return (\r\n    <StatCard\r\n      title=\"Personal Records\"\r\n      value={personalRecords}\r\n      description={`${newPRsThisMonth} new this month`}\r\n      icon={<Award className=\"w-4 h-4 text-black\" />}\r\n      trend={{\r\n        value: newPRsThisMonth > 0 ? newPRsThisMonth : 0,\r\n        isPositive: newPRsThisMonth > 0\r\n      }}\r\n    />\r\n  );\r\n}; ","var _excluded = [\"points\", \"className\", \"baseLinePoints\", \"connectNulls\"];\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n/**\n * @fileOverview Polygon\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport { filterProps } from '../util/ReactUtils';\nvar isValidatePoint = function isValidatePoint(point) {\n  return point && point.x === +point.x && point.y === +point.y;\n};\nvar getParsedPoints = function getParsedPoints() {\n  var points = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var segmentPoints = [[]];\n  points.forEach(function (entry) {\n    if (isValidatePoint(entry)) {\n      segmentPoints[segmentPoints.length - 1].push(entry);\n    } else if (segmentPoints[segmentPoints.length - 1].length > 0) {\n      // add another path\n      segmentPoints.push([]);\n    }\n  });\n  if (isValidatePoint(points[0])) {\n    segmentPoints[segmentPoints.length - 1].push(points[0]);\n  }\n  if (segmentPoints[segmentPoints.length - 1].length <= 0) {\n    segmentPoints = segmentPoints.slice(0, -1);\n  }\n  return segmentPoints;\n};\nvar getSinglePolygonPath = function getSinglePolygonPath(points, connectNulls) {\n  var segmentPoints = getParsedPoints(points);\n  if (connectNulls) {\n    segmentPoints = [segmentPoints.reduce(function (res, segPoints) {\n      return [].concat(_toConsumableArray(res), _toConsumableArray(segPoints));\n    }, [])];\n  }\n  var polygonPath = segmentPoints.map(function (segPoints) {\n    return segPoints.reduce(function (path, point, index) {\n      return \"\".concat(path).concat(index === 0 ? 'M' : 'L').concat(point.x, \",\").concat(point.y);\n    }, '');\n  }).join('');\n  return segmentPoints.length === 1 ? \"\".concat(polygonPath, \"Z\") : polygonPath;\n};\nvar getRanglePath = function getRanglePath(points, baseLinePoints, connectNulls) {\n  var outerPath = getSinglePolygonPath(points, connectNulls);\n  return \"\".concat(outerPath.slice(-1) === 'Z' ? outerPath.slice(0, -1) : outerPath, \"L\").concat(getSinglePolygonPath(baseLinePoints.reverse(), connectNulls).slice(1));\n};\nexport var Polygon = function Polygon(props) {\n  var points = props.points,\n    className = props.className,\n    baseLinePoints = props.baseLinePoints,\n    connectNulls = props.connectNulls,\n    others = _objectWithoutProperties(props, _excluded);\n  if (!points || !points.length) {\n    return null;\n  }\n  var layerClass = clsx('recharts-polygon', className);\n  if (baseLinePoints && baseLinePoints.length) {\n    var hasStroke = others.stroke && others.stroke !== 'none';\n    var rangePath = getRanglePath(points, baseLinePoints, connectNulls);\n    return /*#__PURE__*/React.createElement(\"g\", {\n      className: layerClass\n    }, /*#__PURE__*/React.createElement(\"path\", _extends({}, filterProps(others, true), {\n      fill: rangePath.slice(-1) === 'Z' ? others.fill : 'none',\n      stroke: \"none\",\n      d: rangePath\n    })), hasStroke ? /*#__PURE__*/React.createElement(\"path\", _extends({}, filterProps(others, true), {\n      fill: \"none\",\n      d: getSinglePolygonPath(points, connectNulls)\n    })) : null, hasStroke ? /*#__PURE__*/React.createElement(\"path\", _extends({}, filterProps(others, true), {\n      fill: \"none\",\n      d: getSinglePolygonPath(baseLinePoints, connectNulls)\n    })) : null);\n  }\n  var singlePath = getSinglePolygonPath(points, connectNulls);\n  return /*#__PURE__*/React.createElement(\"path\", _extends({}, filterProps(others, true), {\n    fill: singlePath.slice(-1) === 'Z' ? others.fill : 'none',\n    className: layerClass,\n    d: singlePath\n  }));\n};","var _excluded = [\"cx\", \"cy\", \"innerRadius\", \"outerRadius\", \"gridType\", \"radialLines\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * @fileOverview Polar Grid\n */\nimport React from 'react';\nimport clsx from 'clsx';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { filterProps } from '../util/ReactUtils';\nvar getPolygonPath = function getPolygonPath(radius, cx, cy, polarAngles) {\n  var path = '';\n  polarAngles.forEach(function (angle, i) {\n    var point = polarToCartesian(cx, cy, radius, angle);\n    if (i) {\n      path += \"L \".concat(point.x, \",\").concat(point.y);\n    } else {\n      path += \"M \".concat(point.x, \",\").concat(point.y);\n    }\n  });\n  path += 'Z';\n  return path;\n};\n\n// Draw axis of radial line\nvar PolarAngles = function PolarAngles(props) {\n  var cx = props.cx,\n    cy = props.cy,\n    innerRadius = props.innerRadius,\n    outerRadius = props.outerRadius,\n    polarAngles = props.polarAngles,\n    radialLines = props.radialLines;\n  if (!polarAngles || !polarAngles.length || !radialLines) {\n    return null;\n  }\n  var polarAnglesProps = _objectSpread({\n    stroke: '#ccc'\n  }, filterProps(props, false));\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-polar-grid-angle\"\n  }, polarAngles.map(function (entry) {\n    var start = polarToCartesian(cx, cy, innerRadius, entry);\n    var end = polarToCartesian(cx, cy, outerRadius, entry);\n    return /*#__PURE__*/React.createElement(\"line\", _extends({}, polarAnglesProps, {\n      key: \"line-\".concat(entry),\n      x1: start.x,\n      y1: start.y,\n      x2: end.x,\n      y2: end.y\n    }));\n  }));\n};\n\n// Draw concentric circles\nvar ConcentricCircle = function ConcentricCircle(props) {\n  var cx = props.cx,\n    cy = props.cy,\n    radius = props.radius,\n    index = props.index;\n  var concentricCircleProps = _objectSpread(_objectSpread({\n    stroke: '#ccc'\n  }, filterProps(props, false)), {}, {\n    fill: 'none'\n  });\n  return /*#__PURE__*/React.createElement(\"circle\", _extends({}, concentricCircleProps, {\n    className: clsx('recharts-polar-grid-concentric-circle', props.className),\n    key: \"circle-\".concat(index),\n    cx: cx,\n    cy: cy,\n    r: radius\n  }));\n};\n\n// Draw concentric polygons\nvar ConcentricPolygon = function ConcentricPolygon(props) {\n  var radius = props.radius,\n    index = props.index;\n  var concentricPolygonProps = _objectSpread(_objectSpread({\n    stroke: '#ccc'\n  }, filterProps(props, false)), {}, {\n    fill: 'none'\n  });\n  return /*#__PURE__*/React.createElement(\"path\", _extends({}, concentricPolygonProps, {\n    className: clsx('recharts-polar-grid-concentric-polygon', props.className),\n    key: \"path-\".concat(index),\n    d: getPolygonPath(radius, props.cx, props.cy, props.polarAngles)\n  }));\n};\n\n// Draw concentric axis\n// TODO Optimize the name\nvar ConcentricPath = function ConcentricPath(props) {\n  var polarRadius = props.polarRadius,\n    gridType = props.gridType;\n  if (!polarRadius || !polarRadius.length) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-polar-grid-concentric\"\n  }, polarRadius.map(function (entry, i) {\n    var key = i;\n    if (gridType === 'circle') return /*#__PURE__*/React.createElement(ConcentricCircle, _extends({\n      key: key\n    }, props, {\n      radius: entry,\n      index: i\n    }));\n    return /*#__PURE__*/React.createElement(ConcentricPolygon, _extends({\n      key: key\n    }, props, {\n      radius: entry,\n      index: i\n    }));\n  }));\n};\nexport var PolarGrid = function PolarGrid(_ref) {\n  var _ref$cx = _ref.cx,\n    cx = _ref$cx === void 0 ? 0 : _ref$cx,\n    _ref$cy = _ref.cy,\n    cy = _ref$cy === void 0 ? 0 : _ref$cy,\n    _ref$innerRadius = _ref.innerRadius,\n    innerRadius = _ref$innerRadius === void 0 ? 0 : _ref$innerRadius,\n    _ref$outerRadius = _ref.outerRadius,\n    outerRadius = _ref$outerRadius === void 0 ? 0 : _ref$outerRadius,\n    _ref$gridType = _ref.gridType,\n    gridType = _ref$gridType === void 0 ? 'polygon' : _ref$gridType,\n    _ref$radialLines = _ref.radialLines,\n    radialLines = _ref$radialLines === void 0 ? true : _ref$radialLines,\n    props = _objectWithoutProperties(_ref, _excluded);\n  if (outerRadius <= 0) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"g\", {\n    className: \"recharts-polar-grid\"\n  }, /*#__PURE__*/React.createElement(PolarAngles, _extends({\n    cx: cx,\n    cy: cy,\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    gridType: gridType,\n    radialLines: radialLines\n  }, props)), /*#__PURE__*/React.createElement(ConcentricPath, _extends({\n    cx: cx,\n    cy: cy,\n    innerRadius: innerRadius,\n    outerRadius: outerRadius,\n    gridType: gridType,\n    radialLines: radialLines\n  }, props)));\n};\nPolarGrid.displayName = 'PolarGrid';","var baseExtremum = require('./_baseExtremum'),\n    baseGt = require('./_baseGt'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * This method is like `_.max` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the maximum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.maxBy(objects, function(o) { return o.n; });\n * // => { 'n': 2 }\n *\n * // The `_.property` iteratee shorthand.\n * _.maxBy(objects, 'n');\n * // => { 'n': 2 }\n */\nfunction maxBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseGt)\n    : undefined;\n}\n\nmodule.exports = maxBy;\n","var baseExtremum = require('./_baseExtremum'),\n    baseIteratee = require('./_baseIteratee'),\n    baseLt = require('./_baseLt');\n\n/**\n * This method is like `_.min` except that it accepts `iteratee` which is\n * invoked for each element in `array` to generate the criterion by which\n * the value is ranked. The iteratee is invoked with one argument: (value).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Math\n * @param {Array} array The array to iterate over.\n * @param {Function} [iteratee=_.identity] The iteratee invoked per element.\n * @returns {*} Returns the minimum value.\n * @example\n *\n * var objects = [{ 'n': 1 }, { 'n': 2 }];\n *\n * _.minBy(objects, function(o) { return o.n; });\n * // => { 'n': 1 }\n *\n * // The `_.property` iteratee shorthand.\n * _.minBy(objects, 'n');\n * // => { 'n': 1 }\n */\nfunction minBy(array, iteratee) {\n  return (array && array.length)\n    ? baseExtremum(array, baseIteratee(iteratee, 2), baseLt)\n    : undefined;\n}\n\nmodule.exports = minBy;\n","var _excluded = [\"cx\", \"cy\", \"angle\", \"ticks\", \"axisLine\"],\n  _excluded2 = [\"ticks\", \"tick\", \"angle\", \"tickFormatter\", \"stroke\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * @fileOverview The axis of polar coordinate system\n */\nimport React, { PureComponent } from 'react';\nimport maxBy from 'lodash/maxBy';\nimport minBy from 'lodash/minBy';\nimport isFunction from 'lodash/isFunction';\nimport clsx from 'clsx';\nimport { Text } from '../component/Text';\nimport { Label } from '../component/Label';\nimport { Layer } from '../container/Layer';\nimport { getTickClassName, polarToCartesian } from '../util/PolarUtils';\nimport { adaptEventsOfChild } from '../util/types';\nimport { filterProps } from '../util/ReactUtils';\nexport var PolarRadiusAxis = /*#__PURE__*/function (_PureComponent) {\n  function PolarRadiusAxis() {\n    _classCallCheck(this, PolarRadiusAxis);\n    return _callSuper(this, PolarRadiusAxis, arguments);\n  }\n  _inherits(PolarRadiusAxis, _PureComponent);\n  return _createClass(PolarRadiusAxis, [{\n    key: \"getTickValueCoord\",\n    value:\n    /**\n     * Calculate the coordinate of tick\n     * @param  {Number} coordinate The radius of tick\n     * @return {Object} (x, y)\n     */\n    function getTickValueCoord(_ref) {\n      var coordinate = _ref.coordinate;\n      var _this$props = this.props,\n        angle = _this$props.angle,\n        cx = _this$props.cx,\n        cy = _this$props.cy;\n      return polarToCartesian(cx, cy, coordinate, angle);\n    }\n  }, {\n    key: \"getTickTextAnchor\",\n    value: function getTickTextAnchor() {\n      var orientation = this.props.orientation;\n      var textAnchor;\n      switch (orientation) {\n        case 'left':\n          textAnchor = 'end';\n          break;\n        case 'right':\n          textAnchor = 'start';\n          break;\n        default:\n          textAnchor = 'middle';\n          break;\n      }\n      return textAnchor;\n    }\n  }, {\n    key: \"getViewBox\",\n    value: function getViewBox() {\n      var _this$props2 = this.props,\n        cx = _this$props2.cx,\n        cy = _this$props2.cy,\n        angle = _this$props2.angle,\n        ticks = _this$props2.ticks;\n      var maxRadiusTick = maxBy(ticks, function (entry) {\n        return entry.coordinate || 0;\n      });\n      var minRadiusTick = minBy(ticks, function (entry) {\n        return entry.coordinate || 0;\n      });\n      return {\n        cx: cx,\n        cy: cy,\n        startAngle: angle,\n        endAngle: angle,\n        innerRadius: minRadiusTick.coordinate || 0,\n        outerRadius: maxRadiusTick.coordinate || 0\n      };\n    }\n  }, {\n    key: \"renderAxisLine\",\n    value: function renderAxisLine() {\n      var _this$props3 = this.props,\n        cx = _this$props3.cx,\n        cy = _this$props3.cy,\n        angle = _this$props3.angle,\n        ticks = _this$props3.ticks,\n        axisLine = _this$props3.axisLine,\n        others = _objectWithoutProperties(_this$props3, _excluded);\n      var extent = ticks.reduce(function (result, entry) {\n        return [Math.min(result[0], entry.coordinate), Math.max(result[1], entry.coordinate)];\n      }, [Infinity, -Infinity]);\n      var point0 = polarToCartesian(cx, cy, extent[0], angle);\n      var point1 = polarToCartesian(cx, cy, extent[1], angle);\n      var props = _objectSpread(_objectSpread(_objectSpread({}, filterProps(others, false)), {}, {\n        fill: 'none'\n      }, filterProps(axisLine, false)), {}, {\n        x1: point0.x,\n        y1: point0.y,\n        x2: point1.x,\n        y2: point1.y\n      });\n      return /*#__PURE__*/React.createElement(\"line\", _extends({\n        className: \"recharts-polar-radius-axis-line\"\n      }, props));\n    }\n  }, {\n    key: \"renderTicks\",\n    value: function renderTicks() {\n      var _this = this;\n      var _this$props4 = this.props,\n        ticks = _this$props4.ticks,\n        tick = _this$props4.tick,\n        angle = _this$props4.angle,\n        tickFormatter = _this$props4.tickFormatter,\n        stroke = _this$props4.stroke,\n        others = _objectWithoutProperties(_this$props4, _excluded2);\n      var textAnchor = this.getTickTextAnchor();\n      var axisProps = filterProps(others, false);\n      var customTickProps = filterProps(tick, false);\n      var items = ticks.map(function (entry, i) {\n        var coord = _this.getTickValueCoord(entry);\n        var tickProps = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n          textAnchor: textAnchor,\n          transform: \"rotate(\".concat(90 - angle, \", \").concat(coord.x, \", \").concat(coord.y, \")\")\n        }, axisProps), {}, {\n          stroke: 'none',\n          fill: stroke\n        }, customTickProps), {}, {\n          index: i\n        }, coord), {}, {\n          payload: entry\n        });\n        return /*#__PURE__*/React.createElement(Layer, _extends({\n          className: clsx('recharts-polar-radius-axis-tick', getTickClassName(tick)),\n          key: \"tick-\".concat(entry.coordinate)\n        }, adaptEventsOfChild(_this.props, entry, i)), PolarRadiusAxis.renderTickItem(tick, tickProps, tickFormatter ? tickFormatter(entry.value, i) : entry.value));\n      });\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: \"recharts-polar-radius-axis-ticks\"\n      }, items);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        ticks = _this$props5.ticks,\n        axisLine = _this$props5.axisLine,\n        tick = _this$props5.tick;\n      if (!ticks || !ticks.length) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: clsx('recharts-polar-radius-axis', this.props.className)\n      }, axisLine && this.renderAxisLine(), tick && this.renderTicks(), Label.renderCallByParent(this.props, this.getViewBox()));\n    }\n  }], [{\n    key: \"renderTickItem\",\n    value: function renderTickItem(option, props, value) {\n      var tickItem;\n      if ( /*#__PURE__*/React.isValidElement(option)) {\n        tickItem = /*#__PURE__*/React.cloneElement(option, props);\n      } else if (isFunction(option)) {\n        tickItem = option(props);\n      } else {\n        tickItem = /*#__PURE__*/React.createElement(Text, _extends({}, props, {\n          className: \"recharts-polar-radius-axis-tick-value\"\n        }), value);\n      }\n      return tickItem;\n    }\n  }]);\n}(PureComponent);\n_defineProperty(PolarRadiusAxis, \"displayName\", 'PolarRadiusAxis');\n_defineProperty(PolarRadiusAxis, \"axisType\", 'radiusAxis');\n_defineProperty(PolarRadiusAxis, \"defaultProps\", {\n  type: 'number',\n  radiusAxisId: 0,\n  cx: 0,\n  cy: 0,\n  angle: 0,\n  orientation: 'right',\n  stroke: '#ccc',\n  axisLine: true,\n  tick: true,\n  tickCount: 5,\n  allowDataOverflow: false,\n  scale: 'auto',\n  allowDuplicatedCategory: true\n});","function _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * @fileOverview Axis of radial direction\n */\nimport React, { PureComponent } from 'react';\nimport isFunction from 'lodash/isFunction';\nimport clsx from 'clsx';\nimport { Layer } from '../container/Layer';\nimport { Dot } from '../shape/Dot';\nimport { Polygon } from '../shape/Polygon';\nimport { Text } from '../component/Text';\nimport { adaptEventsOfChild } from '../util/types';\nimport { filterProps } from '../util/ReactUtils';\nimport { getTickClassName, polarToCartesian } from '../util/PolarUtils';\nvar RADIAN = Math.PI / 180;\nvar eps = 1e-5;\nexport var PolarAngleAxis = /*#__PURE__*/function (_PureComponent) {\n  function PolarAngleAxis() {\n    _classCallCheck(this, PolarAngleAxis);\n    return _callSuper(this, PolarAngleAxis, arguments);\n  }\n  _inherits(PolarAngleAxis, _PureComponent);\n  return _createClass(PolarAngleAxis, [{\n    key: \"getTickLineCoord\",\n    value:\n    /**\n     * Calculate the coordinate of line endpoint\n     * @param  {Object} data The Data if ticks\n     * @return {Object} (x0, y0): The start point of text,\n     *                  (x1, y1): The end point close to text,\n     *                  (x2, y2): The end point close to axis\n     */\n    function getTickLineCoord(data) {\n      var _this$props = this.props,\n        cx = _this$props.cx,\n        cy = _this$props.cy,\n        radius = _this$props.radius,\n        orientation = _this$props.orientation,\n        tickSize = _this$props.tickSize;\n      var tickLineSize = tickSize || 8;\n      var p1 = polarToCartesian(cx, cy, radius, data.coordinate);\n      var p2 = polarToCartesian(cx, cy, radius + (orientation === 'inner' ? -1 : 1) * tickLineSize, data.coordinate);\n      return {\n        x1: p1.x,\n        y1: p1.y,\n        x2: p2.x,\n        y2: p2.y\n      };\n    }\n\n    /**\n     * Get the text-anchor of each tick\n     * @param  {Object} data Data of ticks\n     * @return {String} text-anchor\n     */\n  }, {\n    key: \"getTickTextAnchor\",\n    value: function getTickTextAnchor(data) {\n      var orientation = this.props.orientation;\n      var cos = Math.cos(-data.coordinate * RADIAN);\n      var textAnchor;\n      if (cos > eps) {\n        textAnchor = orientation === 'outer' ? 'start' : 'end';\n      } else if (cos < -eps) {\n        textAnchor = orientation === 'outer' ? 'end' : 'start';\n      } else {\n        textAnchor = 'middle';\n      }\n      return textAnchor;\n    }\n  }, {\n    key: \"renderAxisLine\",\n    value: function renderAxisLine() {\n      var _this$props2 = this.props,\n        cx = _this$props2.cx,\n        cy = _this$props2.cy,\n        radius = _this$props2.radius,\n        axisLine = _this$props2.axisLine,\n        axisLineType = _this$props2.axisLineType;\n      var props = _objectSpread(_objectSpread({}, filterProps(this.props, false)), {}, {\n        fill: 'none'\n      }, filterProps(axisLine, false));\n      if (axisLineType === 'circle') {\n        return /*#__PURE__*/React.createElement(Dot, _extends({\n          className: \"recharts-polar-angle-axis-line\"\n        }, props, {\n          cx: cx,\n          cy: cy,\n          r: radius\n        }));\n      }\n      var ticks = this.props.ticks;\n      var points = ticks.map(function (entry) {\n        return polarToCartesian(cx, cy, radius, entry.coordinate);\n      });\n      return /*#__PURE__*/React.createElement(Polygon, _extends({\n        className: \"recharts-polar-angle-axis-line\"\n      }, props, {\n        points: points\n      }));\n    }\n  }, {\n    key: \"renderTicks\",\n    value: function renderTicks() {\n      var _this = this;\n      var _this$props3 = this.props,\n        ticks = _this$props3.ticks,\n        tick = _this$props3.tick,\n        tickLine = _this$props3.tickLine,\n        tickFormatter = _this$props3.tickFormatter,\n        stroke = _this$props3.stroke;\n      var axisProps = filterProps(this.props, false);\n      var customTickProps = filterProps(tick, false);\n      var tickLineProps = _objectSpread(_objectSpread({}, axisProps), {}, {\n        fill: 'none'\n      }, filterProps(tickLine, false));\n      var items = ticks.map(function (entry, i) {\n        var lineCoord = _this.getTickLineCoord(entry);\n        var textAnchor = _this.getTickTextAnchor(entry);\n        var tickProps = _objectSpread(_objectSpread(_objectSpread({\n          textAnchor: textAnchor\n        }, axisProps), {}, {\n          stroke: 'none',\n          fill: stroke\n        }, customTickProps), {}, {\n          index: i,\n          payload: entry,\n          x: lineCoord.x2,\n          y: lineCoord.y2\n        });\n        return /*#__PURE__*/React.createElement(Layer, _extends({\n          className: clsx('recharts-polar-angle-axis-tick', getTickClassName(tick)),\n          key: \"tick-\".concat(entry.coordinate)\n        }, adaptEventsOfChild(_this.props, entry, i)), tickLine && /*#__PURE__*/React.createElement(\"line\", _extends({\n          className: \"recharts-polar-angle-axis-tick-line\"\n        }, tickLineProps, lineCoord)), tick && PolarAngleAxis.renderTickItem(tick, tickProps, tickFormatter ? tickFormatter(entry.value, i) : entry.value));\n      });\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: \"recharts-polar-angle-axis-ticks\"\n      }, items);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        ticks = _this$props4.ticks,\n        radius = _this$props4.radius,\n        axisLine = _this$props4.axisLine;\n      if (radius <= 0 || !ticks || !ticks.length) {\n        return null;\n      }\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: clsx('recharts-polar-angle-axis', this.props.className)\n      }, axisLine && this.renderAxisLine(), this.renderTicks());\n    }\n  }], [{\n    key: \"renderTickItem\",\n    value: function renderTickItem(option, props, value) {\n      var tickItem;\n      if ( /*#__PURE__*/React.isValidElement(option)) {\n        tickItem = /*#__PURE__*/React.cloneElement(option, props);\n      } else if (isFunction(option)) {\n        tickItem = option(props);\n      } else {\n        tickItem = /*#__PURE__*/React.createElement(Text, _extends({}, props, {\n          className: \"recharts-polar-angle-axis-tick-value\"\n        }), value);\n      }\n      return tickItem;\n    }\n  }]);\n}(PureComponent);\n_defineProperty(PolarAngleAxis, \"displayName\", 'PolarAngleAxis');\n_defineProperty(PolarAngleAxis, \"axisType\", 'angleAxis');\n_defineProperty(PolarAngleAxis, \"defaultProps\", {\n  type: 'category',\n  angleAxisId: 0,\n  scale: 'auto',\n  cx: 0,\n  cy: 0,\n  orientation: 'outer',\n  axisLine: true,\n  tickLine: true,\n  tickSize: 8,\n  tick: true,\n  hide: false,\n  allowDuplicatedCategory: true\n});","/**\n * Gets the first element of `array`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias first\n * @category Array\n * @param {Array} array The array to query.\n * @returns {*} Returns the first element of `array`.\n * @example\n *\n * _.head([1, 2, 3]);\n * // => 1\n *\n * _.head([]);\n * // => undefined\n */\nfunction head(array) {\n  return (array && array.length) ? array[0] : undefined;\n}\n\nmodule.exports = head;\n","module.exports = require('./head');\n","var _excluded = [\"key\"];\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * @fileOverview Radar\n */\nimport React, { PureComponent } from 'react';\nimport Animate from 'react-smooth';\nimport isNil from 'lodash/isNil';\nimport last from 'lodash/last';\nimport first from 'lodash/first';\nimport isEqual from 'lodash/isEqual';\nimport isFunction from 'lodash/isFunction';\nimport clsx from 'clsx';\nimport { interpolateNumber } from '../util/DataUtils';\nimport { Global } from '../util/Global';\nimport { polarToCartesian } from '../util/PolarUtils';\nimport { getValueByDataKey } from '../util/ChartUtils';\nimport { Polygon } from '../shape/Polygon';\nimport { Dot } from '../shape/Dot';\nimport { Layer } from '../container/Layer';\nimport { LabelList } from '../component/LabelList';\nimport { filterProps } from '../util/ReactUtils';\nexport var Radar = /*#__PURE__*/function (_PureComponent) {\n  function Radar() {\n    var _this;\n    _classCallCheck(this, Radar);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, Radar, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      isAnimationFinished: false\n    });\n    _defineProperty(_this, \"handleAnimationEnd\", function () {\n      var onAnimationEnd = _this.props.onAnimationEnd;\n      _this.setState({\n        isAnimationFinished: true\n      });\n      if (isFunction(onAnimationEnd)) {\n        onAnimationEnd();\n      }\n    });\n    _defineProperty(_this, \"handleAnimationStart\", function () {\n      var onAnimationStart = _this.props.onAnimationStart;\n      _this.setState({\n        isAnimationFinished: false\n      });\n      if (isFunction(onAnimationStart)) {\n        onAnimationStart();\n      }\n    });\n    _defineProperty(_this, \"handleMouseEnter\", function (e) {\n      var onMouseEnter = _this.props.onMouseEnter;\n      if (onMouseEnter) {\n        onMouseEnter(_this.props, e);\n      }\n    });\n    _defineProperty(_this, \"handleMouseLeave\", function (e) {\n      var onMouseLeave = _this.props.onMouseLeave;\n      if (onMouseLeave) {\n        onMouseLeave(_this.props, e);\n      }\n    });\n    return _this;\n  }\n  _inherits(Radar, _PureComponent);\n  return _createClass(Radar, [{\n    key: \"renderDots\",\n    value: function renderDots(points) {\n      var _this$props = this.props,\n        dot = _this$props.dot,\n        dataKey = _this$props.dataKey;\n      var baseProps = filterProps(this.props, false);\n      var customDotProps = filterProps(dot, true);\n      var dots = points.map(function (entry, i) {\n        var dotProps = _objectSpread(_objectSpread(_objectSpread({\n          key: \"dot-\".concat(i),\n          r: 3\n        }, baseProps), customDotProps), {}, {\n          dataKey: dataKey,\n          cx: entry.x,\n          cy: entry.y,\n          index: i,\n          payload: entry\n        });\n        return Radar.renderDotItem(dot, dotProps);\n      });\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: \"recharts-radar-dots\"\n      }, dots);\n    }\n  }, {\n    key: \"renderPolygonStatically\",\n    value: function renderPolygonStatically(points) {\n      var _this$props2 = this.props,\n        shape = _this$props2.shape,\n        dot = _this$props2.dot,\n        isRange = _this$props2.isRange,\n        baseLinePoints = _this$props2.baseLinePoints,\n        connectNulls = _this$props2.connectNulls;\n      var radar;\n      if ( /*#__PURE__*/React.isValidElement(shape)) {\n        radar = /*#__PURE__*/React.cloneElement(shape, _objectSpread(_objectSpread({}, this.props), {}, {\n          points: points\n        }));\n      } else if (isFunction(shape)) {\n        radar = shape(_objectSpread(_objectSpread({}, this.props), {}, {\n          points: points\n        }));\n      } else {\n        radar = /*#__PURE__*/React.createElement(Polygon, _extends({}, filterProps(this.props, true), {\n          onMouseEnter: this.handleMouseEnter,\n          onMouseLeave: this.handleMouseLeave,\n          points: points,\n          baseLinePoints: isRange ? baseLinePoints : null,\n          connectNulls: connectNulls\n        }));\n      }\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: \"recharts-radar-polygon\"\n      }, radar, dot ? this.renderDots(points) : null);\n    }\n  }, {\n    key: \"renderPolygonWithAnimation\",\n    value: function renderPolygonWithAnimation() {\n      var _this2 = this;\n      var _this$props3 = this.props,\n        points = _this$props3.points,\n        isAnimationActive = _this$props3.isAnimationActive,\n        animationBegin = _this$props3.animationBegin,\n        animationDuration = _this$props3.animationDuration,\n        animationEasing = _this$props3.animationEasing,\n        animationId = _this$props3.animationId;\n      var prevPoints = this.state.prevPoints;\n      return /*#__PURE__*/React.createElement(Animate, {\n        begin: animationBegin,\n        duration: animationDuration,\n        isActive: isAnimationActive,\n        easing: animationEasing,\n        from: {\n          t: 0\n        },\n        to: {\n          t: 1\n        },\n        key: \"radar-\".concat(animationId),\n        onAnimationEnd: this.handleAnimationEnd,\n        onAnimationStart: this.handleAnimationStart\n      }, function (_ref) {\n        var t = _ref.t;\n        var prevPointsDiffFactor = prevPoints && prevPoints.length / points.length;\n        var stepData = points.map(function (entry, index) {\n          var prev = prevPoints && prevPoints[Math.floor(index * prevPointsDiffFactor)];\n          if (prev) {\n            var _interpolatorX = interpolateNumber(prev.x, entry.x);\n            var _interpolatorY = interpolateNumber(prev.y, entry.y);\n            return _objectSpread(_objectSpread({}, entry), {}, {\n              x: _interpolatorX(t),\n              y: _interpolatorY(t)\n            });\n          }\n          var interpolatorX = interpolateNumber(entry.cx, entry.x);\n          var interpolatorY = interpolateNumber(entry.cy, entry.y);\n          return _objectSpread(_objectSpread({}, entry), {}, {\n            x: interpolatorX(t),\n            y: interpolatorY(t)\n          });\n        });\n        return _this2.renderPolygonStatically(stepData);\n      });\n    }\n  }, {\n    key: \"renderPolygon\",\n    value: function renderPolygon() {\n      var _this$props4 = this.props,\n        points = _this$props4.points,\n        isAnimationActive = _this$props4.isAnimationActive,\n        isRange = _this$props4.isRange;\n      var prevPoints = this.state.prevPoints;\n      if (isAnimationActive && points && points.length && !isRange && (!prevPoints || !isEqual(prevPoints, points))) {\n        return this.renderPolygonWithAnimation();\n      }\n      return this.renderPolygonStatically(points);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props5 = this.props,\n        hide = _this$props5.hide,\n        className = _this$props5.className,\n        points = _this$props5.points,\n        isAnimationActive = _this$props5.isAnimationActive;\n      if (hide || !points || !points.length) {\n        return null;\n      }\n      var isAnimationFinished = this.state.isAnimationFinished;\n      var layerClass = clsx('recharts-radar', className);\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: layerClass\n      }, this.renderPolygon(), (!isAnimationActive || isAnimationFinished) && LabelList.renderCallByParent(this.props, points));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.animationId !== prevState.prevAnimationId) {\n        return {\n          prevAnimationId: nextProps.animationId,\n          curPoints: nextProps.points,\n          prevPoints: prevState.curPoints\n        };\n      }\n      if (nextProps.points !== prevState.curPoints) {\n        return {\n          curPoints: nextProps.points\n        };\n      }\n      return null;\n    }\n  }, {\n    key: \"renderDotItem\",\n    value: function renderDotItem(option, props) {\n      var dotItem;\n      if ( /*#__PURE__*/React.isValidElement(option)) {\n        dotItem = /*#__PURE__*/React.cloneElement(option, props);\n      } else if (isFunction(option)) {\n        dotItem = option(props);\n      } else {\n        var key = props.key,\n          dotProps = _objectWithoutProperties(props, _excluded);\n        dotItem = /*#__PURE__*/React.createElement(Dot, _extends({}, dotProps, {\n          key: key,\n          className: clsx('recharts-radar-dot', typeof option !== 'boolean' ? option.className : '')\n        }));\n      }\n      return dotItem;\n    }\n  }]);\n}(PureComponent);\n_defineProperty(Radar, \"displayName\", 'Radar');\n_defineProperty(Radar, \"defaultProps\", {\n  angleAxisId: 0,\n  radiusAxisId: 0,\n  hide: false,\n  activeDot: true,\n  dot: false,\n  legendType: 'rect',\n  isAnimationActive: !Global.isSsr,\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'ease'\n});\n_defineProperty(Radar, \"getComposedData\", function (_ref2) {\n  var radiusAxis = _ref2.radiusAxis,\n    angleAxis = _ref2.angleAxis,\n    displayedData = _ref2.displayedData,\n    dataKey = _ref2.dataKey,\n    bandSize = _ref2.bandSize;\n  var cx = angleAxis.cx,\n    cy = angleAxis.cy;\n  var isRange = false;\n  var points = [];\n  var angleBandSize = angleAxis.type !== 'number' ? bandSize !== null && bandSize !== void 0 ? bandSize : 0 : 0;\n  displayedData.forEach(function (entry, i) {\n    var name = getValueByDataKey(entry, angleAxis.dataKey, i);\n    var value = getValueByDataKey(entry, dataKey);\n    var angle = angleAxis.scale(name) + angleBandSize;\n    var pointValue = Array.isArray(value) ? last(value) : value;\n    var radius = isNil(pointValue) ? undefined : radiusAxis.scale(pointValue);\n    if (Array.isArray(value) && value.length >= 2) {\n      isRange = true;\n    }\n    points.push(_objectSpread(_objectSpread({}, polarToCartesian(cx, cy, radius, angle)), {}, {\n      name: name,\n      value: value,\n      cx: cx,\n      cy: cy,\n      radius: radius,\n      angle: angle,\n      payload: entry\n    }));\n  });\n  var baseLinePoints = [];\n  if (isRange) {\n    points.forEach(function (point) {\n      if (Array.isArray(point.value)) {\n        var baseValue = first(point.value);\n        var radius = isNil(baseValue) ? undefined : radiusAxis.scale(baseValue);\n        baseLinePoints.push(_objectSpread(_objectSpread({}, point), {}, {\n          radius: radius\n        }, polarToCartesian(cx, cy, radius, point.angle)));\n      } else {\n        baseLinePoints.push(point);\n      }\n    });\n  }\n  return {\n    points: points,\n    isRange: isRange,\n    baseLinePoints: baseLinePoints\n  };\n});","var _excluded = [\"layout\", \"type\", \"stroke\", \"connectNulls\", \"isRange\", \"ref\"],\n  _excluded2 = [\"key\"];\nvar _Area;\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } } return target; }\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _callSuper(t, o, e) { return o = _getPrototypeOf(o), _possibleConstructorReturn(t, _isNativeReflectConstruct() ? Reflect.construct(o, e || [], _getPrototypeOf(t).constructor) : o.apply(t, e)); }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _isNativeReflectConstruct() { try { var t = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); } catch (t) {} return (_isNativeReflectConstruct = function _isNativeReflectConstruct() { return !!t; })(); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n/**\n * @fileOverview Area\n */\nimport React, { PureComponent } from 'react';\nimport clsx from 'clsx';\nimport Animate from 'react-smooth';\nimport isFunction from 'lodash/isFunction';\nimport max from 'lodash/max';\nimport isNil from 'lodash/isNil';\nimport isNan from 'lodash/isNaN';\nimport isEqual from 'lodash/isEqual';\nimport { Curve } from '../shape/Curve';\nimport { Dot } from '../shape/Dot';\nimport { Layer } from '../container/Layer';\nimport { LabelList } from '../component/LabelList';\nimport { Global } from '../util/Global';\nimport { isNumber, uniqueId, interpolateNumber } from '../util/DataUtils';\nimport { getCateCoordinateOfLine, getValueByDataKey } from '../util/ChartUtils';\nimport { filterProps, hasClipDot } from '../util/ReactUtils';\nexport var Area = /*#__PURE__*/function (_PureComponent) {\n  function Area() {\n    var _this;\n    _classCallCheck(this, Area);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _callSuper(this, Area, [].concat(args));\n    _defineProperty(_this, \"state\", {\n      isAnimationFinished: true\n    });\n    _defineProperty(_this, \"id\", uniqueId('recharts-area-'));\n    _defineProperty(_this, \"handleAnimationEnd\", function () {\n      var onAnimationEnd = _this.props.onAnimationEnd;\n      _this.setState({\n        isAnimationFinished: true\n      });\n      if (isFunction(onAnimationEnd)) {\n        onAnimationEnd();\n      }\n    });\n    _defineProperty(_this, \"handleAnimationStart\", function () {\n      var onAnimationStart = _this.props.onAnimationStart;\n      _this.setState({\n        isAnimationFinished: false\n      });\n      if (isFunction(onAnimationStart)) {\n        onAnimationStart();\n      }\n    });\n    return _this;\n  }\n  _inherits(Area, _PureComponent);\n  return _createClass(Area, [{\n    key: \"renderDots\",\n    value: function renderDots(needClip, clipDot, clipPathId) {\n      var isAnimationActive = this.props.isAnimationActive;\n      var isAnimationFinished = this.state.isAnimationFinished;\n      if (isAnimationActive && !isAnimationFinished) {\n        return null;\n      }\n      var _this$props = this.props,\n        dot = _this$props.dot,\n        points = _this$props.points,\n        dataKey = _this$props.dataKey;\n      var areaProps = filterProps(this.props, false);\n      var customDotProps = filterProps(dot, true);\n      var dots = points.map(function (entry, i) {\n        var dotProps = _objectSpread(_objectSpread(_objectSpread({\n          key: \"dot-\".concat(i),\n          r: 3\n        }, areaProps), customDotProps), {}, {\n          index: i,\n          cx: entry.x,\n          cy: entry.y,\n          dataKey: dataKey,\n          value: entry.value,\n          payload: entry.payload,\n          points: points\n        });\n        return Area.renderDotItem(dot, dotProps);\n      });\n      var dotsProps = {\n        clipPath: needClip ? \"url(#clipPath-\".concat(clipDot ? '' : 'dots-').concat(clipPathId, \")\") : null\n      };\n      return /*#__PURE__*/React.createElement(Layer, _extends({\n        className: \"recharts-area-dots\"\n      }, dotsProps), dots);\n    }\n  }, {\n    key: \"renderHorizontalRect\",\n    value: function renderHorizontalRect(alpha) {\n      var _this$props2 = this.props,\n        baseLine = _this$props2.baseLine,\n        points = _this$props2.points,\n        strokeWidth = _this$props2.strokeWidth;\n      var startX = points[0].x;\n      var endX = points[points.length - 1].x;\n      var width = alpha * Math.abs(startX - endX);\n      var maxY = max(points.map(function (entry) {\n        return entry.y || 0;\n      }));\n      if (isNumber(baseLine) && typeof baseLine === 'number') {\n        maxY = Math.max(baseLine, maxY);\n      } else if (baseLine && Array.isArray(baseLine) && baseLine.length) {\n        maxY = Math.max(max(baseLine.map(function (entry) {\n          return entry.y || 0;\n        })), maxY);\n      }\n      if (isNumber(maxY)) {\n        return /*#__PURE__*/React.createElement(\"rect\", {\n          x: startX < endX ? startX : startX - width,\n          y: 0,\n          width: width,\n          height: Math.floor(maxY + (strokeWidth ? parseInt(\"\".concat(strokeWidth), 10) : 1))\n        });\n      }\n      return null;\n    }\n  }, {\n    key: \"renderVerticalRect\",\n    value: function renderVerticalRect(alpha) {\n      var _this$props3 = this.props,\n        baseLine = _this$props3.baseLine,\n        points = _this$props3.points,\n        strokeWidth = _this$props3.strokeWidth;\n      var startY = points[0].y;\n      var endY = points[points.length - 1].y;\n      var height = alpha * Math.abs(startY - endY);\n      var maxX = max(points.map(function (entry) {\n        return entry.x || 0;\n      }));\n      if (isNumber(baseLine) && typeof baseLine === 'number') {\n        maxX = Math.max(baseLine, maxX);\n      } else if (baseLine && Array.isArray(baseLine) && baseLine.length) {\n        maxX = Math.max(max(baseLine.map(function (entry) {\n          return entry.x || 0;\n        })), maxX);\n      }\n      if (isNumber(maxX)) {\n        return /*#__PURE__*/React.createElement(\"rect\", {\n          x: 0,\n          y: startY < endY ? startY : startY - height,\n          width: maxX + (strokeWidth ? parseInt(\"\".concat(strokeWidth), 10) : 1),\n          height: Math.floor(height)\n        });\n      }\n      return null;\n    }\n  }, {\n    key: \"renderClipRect\",\n    value: function renderClipRect(alpha) {\n      var layout = this.props.layout;\n      if (layout === 'vertical') {\n        return this.renderVerticalRect(alpha);\n      }\n      return this.renderHorizontalRect(alpha);\n    }\n  }, {\n    key: \"renderAreaStatically\",\n    value: function renderAreaStatically(points, baseLine, needClip, clipPathId) {\n      var _this$props4 = this.props,\n        layout = _this$props4.layout,\n        type = _this$props4.type,\n        stroke = _this$props4.stroke,\n        connectNulls = _this$props4.connectNulls,\n        isRange = _this$props4.isRange,\n        ref = _this$props4.ref,\n        others = _objectWithoutProperties(_this$props4, _excluded);\n      return /*#__PURE__*/React.createElement(Layer, {\n        clipPath: needClip ? \"url(#clipPath-\".concat(clipPathId, \")\") : null\n      }, /*#__PURE__*/React.createElement(Curve, _extends({}, filterProps(others, true), {\n        points: points,\n        connectNulls: connectNulls,\n        type: type,\n        baseLine: baseLine,\n        layout: layout,\n        stroke: \"none\",\n        className: \"recharts-area-area\"\n      })), stroke !== 'none' && /*#__PURE__*/React.createElement(Curve, _extends({}, filterProps(this.props, false), {\n        className: \"recharts-area-curve\",\n        layout: layout,\n        type: type,\n        connectNulls: connectNulls,\n        fill: \"none\",\n        points: points\n      })), stroke !== 'none' && isRange && /*#__PURE__*/React.createElement(Curve, _extends({}, filterProps(this.props, false), {\n        className: \"recharts-area-curve\",\n        layout: layout,\n        type: type,\n        connectNulls: connectNulls,\n        fill: \"none\",\n        points: baseLine\n      })));\n    }\n  }, {\n    key: \"renderAreaWithAnimation\",\n    value: function renderAreaWithAnimation(needClip, clipPathId) {\n      var _this2 = this;\n      var _this$props5 = this.props,\n        points = _this$props5.points,\n        baseLine = _this$props5.baseLine,\n        isAnimationActive = _this$props5.isAnimationActive,\n        animationBegin = _this$props5.animationBegin,\n        animationDuration = _this$props5.animationDuration,\n        animationEasing = _this$props5.animationEasing,\n        animationId = _this$props5.animationId;\n      var _this$state = this.state,\n        prevPoints = _this$state.prevPoints,\n        prevBaseLine = _this$state.prevBaseLine;\n      // const clipPathId = isNil(id) ? this.id : id;\n\n      return /*#__PURE__*/React.createElement(Animate, {\n        begin: animationBegin,\n        duration: animationDuration,\n        isActive: isAnimationActive,\n        easing: animationEasing,\n        from: {\n          t: 0\n        },\n        to: {\n          t: 1\n        },\n        key: \"area-\".concat(animationId),\n        onAnimationEnd: this.handleAnimationEnd,\n        onAnimationStart: this.handleAnimationStart\n      }, function (_ref) {\n        var t = _ref.t;\n        if (prevPoints) {\n          var prevPointsDiffFactor = prevPoints.length / points.length;\n          // update animtaion\n          var stepPoints = points.map(function (entry, index) {\n            var prevPointIndex = Math.floor(index * prevPointsDiffFactor);\n            if (prevPoints[prevPointIndex]) {\n              var prev = prevPoints[prevPointIndex];\n              var interpolatorX = interpolateNumber(prev.x, entry.x);\n              var interpolatorY = interpolateNumber(prev.y, entry.y);\n              return _objectSpread(_objectSpread({}, entry), {}, {\n                x: interpolatorX(t),\n                y: interpolatorY(t)\n              });\n            }\n            return entry;\n          });\n          var stepBaseLine;\n          if (isNumber(baseLine) && typeof baseLine === 'number') {\n            var interpolator = interpolateNumber(prevBaseLine, baseLine);\n            stepBaseLine = interpolator(t);\n          } else if (isNil(baseLine) || isNan(baseLine)) {\n            var _interpolator = interpolateNumber(prevBaseLine, 0);\n            stepBaseLine = _interpolator(t);\n          } else {\n            stepBaseLine = baseLine.map(function (entry, index) {\n              var prevPointIndex = Math.floor(index * prevPointsDiffFactor);\n              if (prevBaseLine[prevPointIndex]) {\n                var prev = prevBaseLine[prevPointIndex];\n                var interpolatorX = interpolateNumber(prev.x, entry.x);\n                var interpolatorY = interpolateNumber(prev.y, entry.y);\n                return _objectSpread(_objectSpread({}, entry), {}, {\n                  x: interpolatorX(t),\n                  y: interpolatorY(t)\n                });\n              }\n              return entry;\n            });\n          }\n          return _this2.renderAreaStatically(stepPoints, stepBaseLine, needClip, clipPathId);\n        }\n        return /*#__PURE__*/React.createElement(Layer, null, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n          id: \"animationClipPath-\".concat(clipPathId)\n        }, _this2.renderClipRect(t))), /*#__PURE__*/React.createElement(Layer, {\n          clipPath: \"url(#animationClipPath-\".concat(clipPathId, \")\")\n        }, _this2.renderAreaStatically(points, baseLine, needClip, clipPathId)));\n      });\n    }\n  }, {\n    key: \"renderArea\",\n    value: function renderArea(needClip, clipPathId) {\n      var _this$props6 = this.props,\n        points = _this$props6.points,\n        baseLine = _this$props6.baseLine,\n        isAnimationActive = _this$props6.isAnimationActive;\n      var _this$state2 = this.state,\n        prevPoints = _this$state2.prevPoints,\n        prevBaseLine = _this$state2.prevBaseLine,\n        totalLength = _this$state2.totalLength;\n      if (isAnimationActive && points && points.length && (!prevPoints && totalLength > 0 || !isEqual(prevPoints, points) || !isEqual(prevBaseLine, baseLine))) {\n        return this.renderAreaWithAnimation(needClip, clipPathId);\n      }\n      return this.renderAreaStatically(points, baseLine, needClip, clipPathId);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _filterProps;\n      var _this$props7 = this.props,\n        hide = _this$props7.hide,\n        dot = _this$props7.dot,\n        points = _this$props7.points,\n        className = _this$props7.className,\n        top = _this$props7.top,\n        left = _this$props7.left,\n        xAxis = _this$props7.xAxis,\n        yAxis = _this$props7.yAxis,\n        width = _this$props7.width,\n        height = _this$props7.height,\n        isAnimationActive = _this$props7.isAnimationActive,\n        id = _this$props7.id;\n      if (hide || !points || !points.length) {\n        return null;\n      }\n      var isAnimationFinished = this.state.isAnimationFinished;\n      var hasSinglePoint = points.length === 1;\n      var layerClass = clsx('recharts-area', className);\n      var needClipX = xAxis && xAxis.allowDataOverflow;\n      var needClipY = yAxis && yAxis.allowDataOverflow;\n      var needClip = needClipX || needClipY;\n      var clipPathId = isNil(id) ? this.id : id;\n      var _ref2 = (_filterProps = filterProps(dot, false)) !== null && _filterProps !== void 0 ? _filterProps : {\n          r: 3,\n          strokeWidth: 2\n        },\n        _ref2$r = _ref2.r,\n        r = _ref2$r === void 0 ? 3 : _ref2$r,\n        _ref2$strokeWidth = _ref2.strokeWidth,\n        strokeWidth = _ref2$strokeWidth === void 0 ? 2 : _ref2$strokeWidth;\n      var _ref3 = hasClipDot(dot) ? dot : {},\n        _ref3$clipDot = _ref3.clipDot,\n        clipDot = _ref3$clipDot === void 0 ? true : _ref3$clipDot;\n      var dotSize = r * 2 + strokeWidth;\n      return /*#__PURE__*/React.createElement(Layer, {\n        className: layerClass\n      }, needClipX || needClipY ? /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n        id: \"clipPath-\".concat(clipPathId)\n      }, /*#__PURE__*/React.createElement(\"rect\", {\n        x: needClipX ? left : left - width / 2,\n        y: needClipY ? top : top - height / 2,\n        width: needClipX ? width : width * 2,\n        height: needClipY ? height : height * 2\n      })), !clipDot && /*#__PURE__*/React.createElement(\"clipPath\", {\n        id: \"clipPath-dots-\".concat(clipPathId)\n      }, /*#__PURE__*/React.createElement(\"rect\", {\n        x: left - dotSize / 2,\n        y: top - dotSize / 2,\n        width: width + dotSize,\n        height: height + dotSize\n      }))) : null, !hasSinglePoint ? this.renderArea(needClip, clipPathId) : null, (dot || hasSinglePoint) && this.renderDots(needClip, clipDot, clipPathId), (!isAnimationActive || isAnimationFinished) && LabelList.renderCallByParent(this.props, points));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      if (nextProps.animationId !== prevState.prevAnimationId) {\n        return {\n          prevAnimationId: nextProps.animationId,\n          curPoints: nextProps.points,\n          curBaseLine: nextProps.baseLine,\n          prevPoints: prevState.curPoints,\n          prevBaseLine: prevState.curBaseLine\n        };\n      }\n      if (nextProps.points !== prevState.curPoints || nextProps.baseLine !== prevState.curBaseLine) {\n        return {\n          curPoints: nextProps.points,\n          curBaseLine: nextProps.baseLine\n        };\n      }\n      return null;\n    }\n  }]);\n}(PureComponent);\n_Area = Area;\n_defineProperty(Area, \"displayName\", 'Area');\n_defineProperty(Area, \"defaultProps\", {\n  stroke: '#3182bd',\n  fill: '#3182bd',\n  fillOpacity: 0.6,\n  xAxisId: 0,\n  yAxisId: 0,\n  legendType: 'line',\n  connectNulls: false,\n  // points of area\n  points: [],\n  dot: false,\n  activeDot: true,\n  hide: false,\n  isAnimationActive: !Global.isSsr,\n  animationBegin: 0,\n  animationDuration: 1500,\n  animationEasing: 'ease'\n});\n_defineProperty(Area, \"getBaseValue\", function (props, item, xAxis, yAxis) {\n  var layout = props.layout,\n    chartBaseValue = props.baseValue;\n  var itemBaseValue = item.props.baseValue;\n\n  // The baseValue can be defined both on the AreaChart as well as on the Area.\n  // The value for the item takes precedence.\n  var baseValue = itemBaseValue !== null && itemBaseValue !== void 0 ? itemBaseValue : chartBaseValue;\n  if (isNumber(baseValue) && typeof baseValue === 'number') {\n    return baseValue;\n  }\n  var numericAxis = layout === 'horizontal' ? yAxis : xAxis;\n  var domain = numericAxis.scale.domain();\n  if (numericAxis.type === 'number') {\n    var domainMax = Math.max(domain[0], domain[1]);\n    var domainMin = Math.min(domain[0], domain[1]);\n    if (baseValue === 'dataMin') {\n      return domainMin;\n    }\n    if (baseValue === 'dataMax') {\n      return domainMax;\n    }\n    return domainMax < 0 ? domainMax : Math.max(Math.min(domain[0], domain[1]), 0);\n  }\n  if (baseValue === 'dataMin') {\n    return domain[0];\n  }\n  if (baseValue === 'dataMax') {\n    return domain[1];\n  }\n  return domain[0];\n});\n_defineProperty(Area, \"getComposedData\", function (_ref4) {\n  var props = _ref4.props,\n    item = _ref4.item,\n    xAxis = _ref4.xAxis,\n    yAxis = _ref4.yAxis,\n    xAxisTicks = _ref4.xAxisTicks,\n    yAxisTicks = _ref4.yAxisTicks,\n    bandSize = _ref4.bandSize,\n    dataKey = _ref4.dataKey,\n    stackedData = _ref4.stackedData,\n    dataStartIndex = _ref4.dataStartIndex,\n    displayedData = _ref4.displayedData,\n    offset = _ref4.offset;\n  var layout = props.layout;\n  var hasStack = stackedData && stackedData.length;\n  var baseValue = _Area.getBaseValue(props, item, xAxis, yAxis);\n  var isHorizontalLayout = layout === 'horizontal';\n  var isRange = false;\n  var points = displayedData.map(function (entry, index) {\n    var value;\n    if (hasStack) {\n      value = stackedData[dataStartIndex + index];\n    } else {\n      value = getValueByDataKey(entry, dataKey);\n      if (!Array.isArray(value)) {\n        value = [baseValue, value];\n      } else {\n        isRange = true;\n      }\n    }\n    var isBreakPoint = value[1] == null || hasStack && getValueByDataKey(entry, dataKey) == null;\n    if (isHorizontalLayout) {\n      return {\n        x: getCateCoordinateOfLine({\n          axis: xAxis,\n          ticks: xAxisTicks,\n          bandSize: bandSize,\n          entry: entry,\n          index: index\n        }),\n        y: isBreakPoint ? null : yAxis.scale(value[1]),\n        value: value,\n        payload: entry\n      };\n    }\n    return {\n      x: isBreakPoint ? null : xAxis.scale(value[1]),\n      y: getCateCoordinateOfLine({\n        axis: yAxis,\n        ticks: yAxisTicks,\n        bandSize: bandSize,\n        entry: entry,\n        index: index\n      }),\n      value: value,\n      payload: entry\n    };\n  });\n  var baseLine;\n  if (hasStack || isRange) {\n    baseLine = points.map(function (entry) {\n      var x = Array.isArray(entry.value) ? entry.value[0] : null;\n      if (isHorizontalLayout) {\n        return {\n          x: entry.x,\n          y: x != null && entry.y != null ? yAxis.scale(x) : null\n        };\n      }\n      return {\n        x: x != null ? xAxis.scale(x) : null,\n        y: entry.y\n      };\n    });\n  } else {\n    baseLine = isHorizontalLayout ? yAxis.scale(baseValue) : xAxis.scale(baseValue);\n  }\n  return _objectSpread({\n    points: points,\n    baseLine: baseLine,\n    layout: layout,\n    isRange: isRange\n  }, offset);\n});\n_defineProperty(Area, \"renderDotItem\", function (option, props) {\n  var dotItem;\n  if ( /*#__PURE__*/React.isValidElement(option)) {\n    dotItem = /*#__PURE__*/React.cloneElement(option, props);\n  } else if (isFunction(option)) {\n    dotItem = option(props);\n  } else {\n    var className = clsx('recharts-area-dot', typeof option !== 'boolean' ? option.className : '');\n    var key = props.key,\n      rest = _objectWithoutProperties(props, _excluded2);\n    dotItem = /*#__PURE__*/React.createElement(Dot, _extends({}, rest, {\n      key: key,\n      className: className\n    }));\n  }\n  return dotItem;\n});","/**\n * @fileOverview Radar Chart\n */\nimport { generateCategoricalChart } from './generateCategoricalChart';\nimport { Radar } from '../polar/Radar';\nimport { PolarAngleAxis } from '../polar/PolarAngleAxis';\nimport { PolarRadiusAxis } from '../polar/PolarRadiusAxis';\nimport { formatAxisMap } from '../util/PolarUtils';\nexport var RadarChart = generateCategoricalChart({\n  chartName: 'RadarChart',\n  GraphicalChild: Radar,\n  axisComponents: [{\n    axisType: 'angleAxis',\n    AxisComp: PolarAngleAxis\n  }, {\n    axisType: 'radiusAxis',\n    AxisComp: PolarRadiusAxis\n  }],\n  formatAxisMap: formatAxisMap,\n  defaultProps: {\n    layout: 'centric',\n    startAngle: 90,\n    endAngle: -270,\n    cx: '50%',\n    cy: '50%',\n    innerRadius: 0,\n    outerRadius: '80%'\n  }\n});","/**\n * @fileOverview Area Chart\n */\nimport { generateCategoricalChart } from './generateCategoricalChart';\nimport { Area } from '../cartesian/Area';\nimport { XAxis } from '../cartesian/XAxis';\nimport { YAxis } from '../cartesian/YAxis';\nimport { formatAxisMap } from '../util/CartesianUtils';\nexport var AreaChart = generateCategoricalChart({\n  chartName: 'AreaChart',\n  GraphicalChild: Area,\n  axisComponents: [{\n    axisType: 'xAxis',\n    AxisComp: XAxis\n  }, {\n    axisType: 'yAxis',\n    AxisComp: YAxis\n  }],\n  formatAxisMap: formatAxisMap\n});","/**\n * @module constants\n * @summary Useful constants\n * @description\n * Collection of useful date constants.\n *\n * The constants could be imported from `date-fns/constants`:\n *\n * ```ts\n * import { maxTime, minTime } from \"./constants/date-fns/constants\";\n *\n * function isAllowedTime(time) {\n *   return time <= maxTime && time >= minTime;\n * }\n * ```\n */\n\n/**\n * @constant\n * @name daysInWeek\n * @summary Days in 1 week.\n */\nexport const daysInWeek = 7;\n\n/**\n * @constant\n * @name daysInYear\n * @summary Days in 1 year.\n *\n * @description\n * How many days in a year.\n *\n * One years equals 365.2425 days according to the formula:\n *\n * > Leap year occurs every 4 years, except for years that are divisible by 100 and not divisible by 400.\n * > 1 mean year = (365+1/4-1/100+1/400) days = 365.2425 days\n */\nexport const daysInYear = 365.2425;\n\n/**\n * @constant\n * @name maxTime\n * @summary Maximum allowed time.\n *\n * @example\n * import { maxTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = 8640000000000001 <= maxTime;\n * //=> false\n *\n * new Date(8640000000000001);\n * //=> Invalid Date\n */\nexport const maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1000;\n\n/**\n * @constant\n * @name minTime\n * @summary Minimum allowed time.\n *\n * @example\n * import { minTime } from \"./constants/date-fns/constants\";\n *\n * const isValid = -8640000000000001 >= minTime;\n * //=> false\n *\n * new Date(-8640000000000001)\n * //=> Invalid Date\n */\nexport const minTime = -maxTime;\n\n/**\n * @constant\n * @name millisecondsInWeek\n * @summary Milliseconds in 1 week.\n */\nexport const millisecondsInWeek = 604800000;\n\n/**\n * @constant\n * @name millisecondsInDay\n * @summary Milliseconds in 1 day.\n */\nexport const millisecondsInDay = 86400000;\n\n/**\n * @constant\n * @name millisecondsInMinute\n * @summary Milliseconds in 1 minute\n */\nexport const millisecondsInMinute = 60000;\n\n/**\n * @constant\n * @name millisecondsInHour\n * @summary Milliseconds in 1 hour\n */\nexport const millisecondsInHour = 3600000;\n\n/**\n * @constant\n * @name millisecondsInSecond\n * @summary Milliseconds in 1 second\n */\nexport const millisecondsInSecond = 1000;\n\n/**\n * @constant\n * @name minutesInYear\n * @summary Minutes in 1 year.\n */\nexport const minutesInYear = 525600;\n\n/**\n * @constant\n * @name minutesInMonth\n * @summary Minutes in 1 month.\n */\nexport const minutesInMonth = 43200;\n\n/**\n * @constant\n * @name minutesInDay\n * @summary Minutes in 1 day.\n */\nexport const minutesInDay = 1440;\n\n/**\n * @constant\n * @name minutesInHour\n * @summary Minutes in 1 hour.\n */\nexport const minutesInHour = 60;\n\n/**\n * @constant\n * @name monthsInQuarter\n * @summary Months in 1 quarter.\n */\nexport const monthsInQuarter = 3;\n\n/**\n * @constant\n * @name monthsInYear\n * @summary Months in 1 year.\n */\nexport const monthsInYear = 12;\n\n/**\n * @constant\n * @name quartersInYear\n * @summary Quarters in 1 year\n */\nexport const quartersInYear = 4;\n\n/**\n * @constant\n * @name secondsInHour\n * @summary Seconds in 1 hour.\n */\nexport const secondsInHour = 3600;\n\n/**\n * @constant\n * @name secondsInMinute\n * @summary Seconds in 1 minute.\n */\nexport const secondsInMinute = 60;\n\n/**\n * @constant\n * @name secondsInDay\n * @summary Seconds in 1 day.\n */\nexport const secondsInDay = secondsInHour * 24;\n\n/**\n * @constant\n * @name secondsInWeek\n * @summary Seconds in 1 week.\n */\nexport const secondsInWeek = secondsInDay * 7;\n\n/**\n * @constant\n * @name secondsInYear\n * @summary Seconds in 1 year.\n */\nexport const secondsInYear = secondsInDay * daysInYear;\n\n/**\n * @constant\n * @name secondsInMonth\n * @summary Seconds in 1 month\n */\nexport const secondsInMonth = secondsInYear / 12;\n\n/**\n * @constant\n * @name secondsInQuarter\n * @summary Seconds in 1 quarter.\n */\nexport const secondsInQuarter = secondsInMonth * 3;\n\n/**\n * @constant\n * @name constructFromSymbol\n * @summary Symbol enabling Date extensions to inherit properties from the reference date.\n *\n * The symbol is used to enable the `constructFrom` function to construct a date\n * using a reference date and a value. It allows to transfer extra properties\n * from the reference date to the new date. It's useful for extensions like\n * [`TZDate`](https://github.com/date-fns/tz) that accept a time zone as\n * a constructor argument.\n */\nexport const constructFromSymbol = Symbol.for(\"constructDateFrom\");\n","import { constructFromSymbol } from \"./constants.js\";\n\n/**\n * @name constructFrom\n * @category Generic Helpers\n * @summary Constructs a date using the reference date and the value\n *\n * @description\n * The function constructs a new date using the constructor from the reference\n * date and the given value. It helps to build generic functions that accept\n * date extensions.\n *\n * It defaults to `Date` if the passed reference date is a number or a string.\n *\n * Starting from v3.7.0, it allows to construct a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n *\n * @param date - The reference date to take constructor from\n * @param value - The value to create the date\n *\n * @returns Date initialized using the given date and value\n *\n * @example\n * import { constructFrom } from \"./constructFrom/date-fns\";\n *\n * // A function that clones a date preserving the original type\n * function cloneDate<DateType extends Date>(date: DateType): DateType {\n *   return constructFrom(\n *     date, // Use constructor from the given date\n *     date.getTime() // Use the date value to create a new date\n *   );\n * }\n */\nexport function constructFrom(date, value) {\n  if (typeof date === \"function\") return date(value);\n\n  if (date && typeof date === \"object\" && constructFromSymbol in date)\n    return date[constructFromSymbol](value);\n\n  if (date instanceof Date) return new date.constructor(value);\n\n  return new Date(value);\n}\n\n// Fallback for modularized imports:\nexport default constructFrom;\n","import { constructFrom } from \"./constructFrom.js\";\n\n/**\n * @name toDate\n * @category Common Helpers\n * @summary Convert the given argument to an instance of Date.\n *\n * @description\n * Convert the given argument to an instance of Date.\n *\n * If the argument is an instance of Date, the function returns its clone.\n *\n * If the argument is a number, it is treated as a timestamp.\n *\n * If the argument is none of the above, the function returns Invalid Date.\n *\n * Starting from v3.7.0, it clones a date using `[Symbol.for(\"constructDateFrom\")]`\n * enabling to transfer extra properties from the reference date to the new date.\n * It's useful for extensions like [`TZDate`](https://github.com/date-fns/tz)\n * that accept a time zone as a constructor argument.\n *\n * **Note**: *all* Date arguments passed to any *date-fns* function is processed by `toDate`.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param argument - The value to convert\n *\n * @returns The parsed date in the local time zone\n *\n * @example\n * // Clone the date:\n * const result = toDate(new Date(2014, 1, 11, 11, 30, 30))\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert the timestamp to date:\n * const result = toDate(1392098430000)\n * //=> Tue Feb 11 2014 11:30:30\n */\nexport function toDate(argument, context) {\n  // [TODO] Get rid of `toDate` or `constructFrom`?\n  return constructFrom(context || argument, argument);\n}\n\n// Fallback for modularized imports:\nexport default toDate;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link addDays} function options.\n */\n\n/**\n * @name addDays\n * @category Day Helpers\n * @summary Add the specified number of days to the given date.\n *\n * @description\n * Add the specified number of days to the given date.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The date to be changed\n * @param amount - The amount of days to be added.\n * @param options - An object with options\n *\n * @returns The new date with the days added\n *\n * @example\n * // Add 10 days to 1 September 2014:\n * const result = addDays(new Date(2014, 8, 1), 10)\n * //=> Thu Sep 11 2014 00:00:00\n */\nexport function addDays(date, amount, options) {\n  const _date = toDate(date, options?.in);\n  if (isNaN(amount)) return constructFrom(options?.in || date, NaN);\n\n  // If 0 days, no-op to avoid changing times in the hour before end of DST\n  if (!amount) return _date;\n\n  _date.setDate(_date.getDate() + amount);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default addDays;\n","let defaultOptions = {};\n\nexport function getDefaultOptions() {\n  return defaultOptions;\n}\n\nexport function setDefaultOptions(newOptions) {\n  defaultOptions = newOptions;\n}\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfWeek} function options.\n */\n\n/**\n * @name startOfWeek\n * @category Week Helpers\n * @summary Return the start of a week for the given date.\n *\n * @description\n * Return the start of a week for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week\n *\n * @example\n * // The start of a week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Sun Aug 31 2014 00:00:00\n *\n * @example\n * // If the week starts on Monday, the start of the week for 2 September 2014 11:55:00:\n * const result = startOfWeek(new Date(2014, 8, 2, 11, 55, 0), { weekStartsOn: 1 })\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfWeek(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const _date = toDate(date, options?.in);\n  const day = _date.getDay();\n  const diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n\n  _date.setDate(_date.getDate() - diff);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeek;\n","import { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfISOWeek} function options.\n */\n\n/**\n * @name startOfISOWeek\n * @category ISO Week Helpers\n * @summary Return the start of an ISO week for the given date.\n *\n * @description\n * Return the start of an ISO week for the given date.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week\n *\n * @example\n * // The start of an ISO week for 2 September 2014 11:55:00:\n * const result = startOfISOWeek(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Mon Sep 01 2014 00:00:00\n */\nexport function startOfISOWeek(date, options) {\n  return startOfWeek(date, { ...options, weekStartsOn: 1 });\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeek;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeekYear} function options.\n */\n\n/**\n * @name getISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Get the ISO week-numbering year of the given date.\n *\n * @description\n * Get the ISO week-numbering year of the given date,\n * which always starts 3 days before the year's first Thursday.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n *\n * @returns The ISO week-numbering year\n *\n * @example\n * // Which ISO-week numbering year is 2 January 2005?\n * const result = getISOWeekYear(new Date(2005, 0, 2))\n * //=> 2004\n */\nexport function getISOWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const fourthOfJanuaryOfNextYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfNextYear.setFullYear(year + 1, 0, 4);\n  fourthOfJanuaryOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfISOWeek(fourthOfJanuaryOfNextYear);\n\n  const fourthOfJanuaryOfThisYear = constructFrom(_date, 0);\n  fourthOfJanuaryOfThisYear.setFullYear(year, 0, 4);\n  fourthOfJanuaryOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfISOWeek(fourthOfJanuaryOfThisYear);\n\n  if (_date.getTime() >= startOfNextYear.getTime()) {\n    return year + 1;\n  } else if (_date.getTime() >= startOfThisYear.getTime()) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getISOWeekYear;\n","import { toDate } from \"../toDate.js\";\n\n/**\n * Google Chrome as of 67.0.3396.87 introduced timezones with offset that includes seconds.\n * They usually appear for dates that denote time before the timezones were introduced\n * (e.g. for 'Europe/Prague' timezone the offset is GMT+00:57:44 before 1 October 1891\n * and GMT+01:00:00 after that date)\n *\n * Date#getTimezoneOffset returns the offset in minutes and would return 57 for the example above,\n * which would lead to incorrect calculations.\n *\n * This function returns the timezone offset in milliseconds that takes seconds in account.\n */\nexport function getTimezoneOffsetInMilliseconds(date) {\n  const _date = toDate(date);\n  const utcDate = new Date(\n    Date.UTC(\n      _date.getFullYear(),\n      _date.getMonth(),\n      _date.getDate(),\n      _date.getHours(),\n      _date.getMinutes(),\n      _date.getSeconds(),\n      _date.getMilliseconds(),\n    ),\n  );\n  utcDate.setUTCFullYear(_date.getFullYear());\n  return +date - +utcDate;\n}\n","import { constructFrom } from \"../constructFrom.js\";\n\nexport function normalizeDates(context, ...dates) {\n  const normalize = constructFrom.bind(\n    null,\n    context || dates.find((date) => typeof date === \"object\"),\n  );\n  return dates.map(normalize);\n}\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfDay} function options.\n */\n\n/**\n * @name startOfDay\n * @category Day Helpers\n * @summary Return the start of a day for the given date.\n *\n * @description\n * Return the start of a day for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a day\n *\n * @example\n * // The start of a day for 2 September 2014 11:55:00:\n * const result = startOfDay(new Date(2014, 8, 2, 11, 55, 0))\n * //=> Tue Sep 02 2014 00:00:00\n */\nexport function startOfDay(date, options) {\n  const _date = toDate(date, options?.in);\n  _date.setHours(0, 0, 0, 0);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfDay;\n","import { getTimezoneOffsetInMilliseconds } from \"./_lib/getTimezoneOffsetInMilliseconds.js\";\nimport { normalizeDates } from \"./_lib/normalizeDates.js\";\nimport { millisecondsInDay } from \"./constants.js\";\nimport { startOfDay } from \"./startOfDay.js\";\n\n/**\n * The {@link differenceInCalendarDays} function options.\n */\n\n/**\n * @name differenceInCalendarDays\n * @category Day Helpers\n * @summary Get the number of calendar days between the given dates.\n *\n * @description\n * Get the number of calendar days between the given dates. This means that the times are removed\n * from the dates and then the difference in days is calculated.\n *\n * @param laterDate - The later date\n * @param earlierDate - The earlier date\n * @param options - The options object\n *\n * @returns The number of calendar days\n *\n * @example\n * // How many calendar days are between\n * // 2 July 2011 23:00:00 and 2 July 2012 00:00:00?\n * const result = differenceInCalendarDays(\n *   new Date(2012, 6, 2, 0, 0),\n *   new Date(2011, 6, 2, 23, 0)\n * )\n * //=> 366\n * // How many calendar days are between\n * // 2 July 2011 23:59:00 and 3 July 2011 00:01:00?\n * const result = differenceInCalendarDays(\n *   new Date(2011, 6, 3, 0, 1),\n *   new Date(2011, 6, 2, 23, 59)\n * )\n * //=> 1\n */\nexport function differenceInCalendarDays(laterDate, earlierDate, options) {\n  const [laterDate_, earlierDate_] = normalizeDates(\n    options?.in,\n    laterDate,\n    earlierDate,\n  );\n\n  const laterStartOfDay = startOfDay(laterDate_);\n  const earlierStartOfDay = startOfDay(earlierDate_);\n\n  const laterTimestamp =\n    +laterStartOfDay - getTimezoneOffsetInMilliseconds(laterStartOfDay);\n  const earlierTimestamp =\n    +earlierStartOfDay - getTimezoneOffsetInMilliseconds(earlierStartOfDay);\n\n  // Round the number of days to the nearest integer because the number of\n  // milliseconds in a day is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round((laterTimestamp - earlierTimestamp) / millisecondsInDay);\n}\n\n// Fallback for modularized imports:\nexport default differenceInCalendarDays;\n","import { constructFrom } from \"./constructFrom.js\";\nimport { getISOWeekYear } from \"./getISOWeekYear.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\n\n/**\n * The {@link startOfISOWeekYear} function options.\n */\n\n/**\n * @name startOfISOWeekYear\n * @category ISO Week-Numbering Year Helpers\n * @summary Return the start of an ISO week-numbering year for the given date.\n *\n * @description\n * Return the start of an ISO week-numbering year,\n * which always starts 3 days before the year's first Thursday.\n * The result will be in the local timezone.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of an ISO week-numbering year\n *\n * @example\n * // The start of an ISO week-numbering year for 2 July 2005:\n * const result = startOfISOWeekYear(new Date(2005, 6, 2))\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfISOWeekYear(date, options) {\n  const year = getISOWeekYear(date, options);\n  const fourthOfJanuary = constructFrom(options?.in || date, 0);\n  fourthOfJanuary.setFullYear(year, 0, 4);\n  fourthOfJanuary.setHours(0, 0, 0, 0);\n  return startOfISOWeek(fourthOfJanuary);\n}\n\n// Fallback for modularized imports:\nexport default startOfISOWeekYear;\n","/**\n * @name isDate\n * @category Common Helpers\n * @summary Is the given value a date?\n *\n * @description\n * Returns true if the given value is an instance of Date. The function works for dates transferred across iframes.\n *\n * @param value - The value to check\n *\n * @returns True if the given value is a date\n *\n * @example\n * // For a valid date:\n * const result = isDate(new Date())\n * //=> true\n *\n * @example\n * // For an invalid date:\n * const result = isDate(new Date(NaN))\n * //=> true\n *\n * @example\n * // For some value:\n * const result = isDate('2014-02-31')\n * //=> false\n *\n * @example\n * // For an object:\n * const result = isDate({})\n * //=> false\n */\nexport function isDate(value) {\n  return (\n    value instanceof Date ||\n    (typeof value === \"object\" &&\n      Object.prototype.toString.call(value) === \"[object Date]\")\n  );\n}\n\n// Fallback for modularized imports:\nexport default isDate;\n","import { isDate } from \"./isDate.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * @name isValid\n * @category Common Helpers\n * @summary Is the given date valid?\n *\n * @description\n * Returns false if argument is Invalid Date and true otherwise.\n * Argument is converted to Date using `toDate`. See [toDate](https://date-fns.org/docs/toDate)\n * Invalid Date is a Date, whose time value is NaN.\n *\n * Time value of Date: http://es5.github.io/#x15.9.1.1\n *\n * @param date - The date to check\n *\n * @returns The date is valid\n *\n * @example\n * // For the valid date:\n * const result = isValid(new Date(2014, 1, 31))\n * //=> true\n *\n * @example\n * // For the value, convertible into a date:\n * const result = isValid(1393804800000)\n * //=> true\n *\n * @example\n * // For the invalid date:\n * const result = isValid(new Date(''))\n * //=> false\n */\nexport function isValid(date) {\n  return !((!isDate(date) && typeof date !== \"number\") || isNaN(+toDate(date)));\n}\n\n// Fallback for modularized imports:\nexport default isValid;\n","import { toDate } from \"./toDate.js\";\n\n/**\n * The {@link startOfYear} function options.\n */\n\n/**\n * @name startOfYear\n * @category Year Helpers\n * @summary Return the start of a year for the given date.\n *\n * @description\n * Return the start of a year for the given date.\n * The result will be in the local timezone.\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type, it is the type returned from the context function if it is passed, or inferred from the arguments.\n *\n * @param date - The original date\n * @param options - The options\n *\n * @returns The start of a year\n *\n * @example\n * // The start of a year for 2 September 2014 11:55:00:\n * const result = startOfYear(new Date(2014, 8, 2, 11, 55, 00))\n * //=> Wed Jan 01 2014 00:00:00\n */\nexport function startOfYear(date, options) {\n  const date_ = toDate(date, options?.in);\n  date_.setFullYear(date_.getFullYear(), 0, 1);\n  date_.setHours(0, 0, 0, 0);\n  return date_;\n}\n\n// Fallback for modularized imports:\nexport default startOfYear;\n","const formatDistanceLocale = {\n  lessThanXSeconds: {\n    one: \"less than a second\",\n    other: \"less than {{count}} seconds\",\n  },\n\n  xSeconds: {\n    one: \"1 second\",\n    other: \"{{count}} seconds\",\n  },\n\n  halfAMinute: \"half a minute\",\n\n  lessThanXMinutes: {\n    one: \"less than a minute\",\n    other: \"less than {{count}} minutes\",\n  },\n\n  xMinutes: {\n    one: \"1 minute\",\n    other: \"{{count}} minutes\",\n  },\n\n  aboutXHours: {\n    one: \"about 1 hour\",\n    other: \"about {{count}} hours\",\n  },\n\n  xHours: {\n    one: \"1 hour\",\n    other: \"{{count}} hours\",\n  },\n\n  xDays: {\n    one: \"1 day\",\n    other: \"{{count}} days\",\n  },\n\n  aboutXWeeks: {\n    one: \"about 1 week\",\n    other: \"about {{count}} weeks\",\n  },\n\n  xWeeks: {\n    one: \"1 week\",\n    other: \"{{count}} weeks\",\n  },\n\n  aboutXMonths: {\n    one: \"about 1 month\",\n    other: \"about {{count}} months\",\n  },\n\n  xMonths: {\n    one: \"1 month\",\n    other: \"{{count}} months\",\n  },\n\n  aboutXYears: {\n    one: \"about 1 year\",\n    other: \"about {{count}} years\",\n  },\n\n  xYears: {\n    one: \"1 year\",\n    other: \"{{count}} years\",\n  },\n\n  overXYears: {\n    one: \"over 1 year\",\n    other: \"over {{count}} years\",\n  },\n\n  almostXYears: {\n    one: \"almost 1 year\",\n    other: \"almost {{count}} years\",\n  },\n};\n\nexport const formatDistance = (token, count, options) => {\n  let result;\n\n  const tokenValue = formatDistanceLocale[token];\n  if (typeof tokenValue === \"string\") {\n    result = tokenValue;\n  } else if (count === 1) {\n    result = tokenValue.one;\n  } else {\n    result = tokenValue.other.replace(\"{{count}}\", count.toString());\n  }\n\n  if (options?.addSuffix) {\n    if (options.comparison && options.comparison > 0) {\n      return \"in \" + result;\n    } else {\n      return result + \" ago\";\n    }\n  }\n\n  return result;\n};\n","export function buildFormatLongFn(args) {\n  return (options = {}) => {\n    // TODO: Remove String()\n    const width = options.width ? String(options.width) : args.defaultWidth;\n    const format = args.formats[width] || args.formats[args.defaultWidth];\n    return format;\n  };\n}\n","import { buildFormatLongFn } from \"../../_lib/buildFormatLongFn.js\";\n\nconst dateFormats = {\n  full: \"EEEE, MMMM do, y\",\n  long: \"MMMM do, y\",\n  medium: \"MMM d, y\",\n  short: \"MM/dd/yyyy\",\n};\n\nconst timeFormats = {\n  full: \"h:mm:ss a zzzz\",\n  long: \"h:mm:ss a z\",\n  medium: \"h:mm:ss a\",\n  short: \"h:mm a\",\n};\n\nconst dateTimeFormats = {\n  full: \"{{date}} 'at' {{time}}\",\n  long: \"{{date}} 'at' {{time}}\",\n  medium: \"{{date}}, {{time}}\",\n  short: \"{{date}}, {{time}}\",\n};\n\nexport const formatLong = {\n  date: buildFormatLongFn({\n    formats: dateFormats,\n    defaultWidth: \"full\",\n  }),\n\n  time: buildFormatLongFn({\n    formats: timeFormats,\n    defaultWidth: \"full\",\n  }),\n\n  dateTime: buildFormatLongFn({\n    formats: dateTimeFormats,\n    defaultWidth: \"full\",\n  }),\n};\n","const formatRelativeLocale = {\n  lastWeek: \"'last' eeee 'at' p\",\n  yesterday: \"'yesterday at' p\",\n  today: \"'today at' p\",\n  tomorrow: \"'tomorrow at' p\",\n  nextWeek: \"eeee 'at' p\",\n  other: \"P\",\n};\n\nexport const formatRelative = (token, _date, _baseDate, _options) =>\n  formatRelativeLocale[token];\n","/**\n * The localize function argument callback which allows to convert raw value to\n * the actual type.\n *\n * @param value - The value to convert\n *\n * @returns The converted value\n */\n\n/**\n * The map of localized values for each width.\n */\n\n/**\n * The index type of the locale unit value. It types conversion of units of\n * values that don't start at 0 (i.e. quarters).\n */\n\n/**\n * Converts the unit value to the tuple of values.\n */\n\n/**\n * The tuple of localized era values. The first element represents BC,\n * the second element represents AD.\n */\n\n/**\n * The tuple of localized quarter values. The first element represents Q1.\n */\n\n/**\n * The tuple of localized day values. The first element represents Sunday.\n */\n\n/**\n * The tuple of localized month values. The first element represents January.\n */\n\nexport function buildLocalizeFn(args) {\n  return (value, options) => {\n    const context = options?.context ? String(options.context) : \"standalone\";\n\n    let valuesArray;\n    if (context === \"formatting\" && args.formattingValues) {\n      const defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n      const width = options?.width ? String(options.width) : defaultWidth;\n\n      valuesArray =\n        args.formattingValues[width] || args.formattingValues[defaultWidth];\n    } else {\n      const defaultWidth = args.defaultWidth;\n      const width = options?.width ? String(options.width) : args.defaultWidth;\n\n      valuesArray = args.values[width] || args.values[defaultWidth];\n    }\n    const index = args.argumentCallback ? args.argumentCallback(value) : value;\n\n    // @ts-expect-error - For some reason TypeScript just don't want to match it, no matter how hard we try. I challenge you to try to remove it!\n    return valuesArray[index];\n  };\n}\n","import { buildLocalizeFn } from \"../../_lib/buildLocalizeFn.js\";\n\nconst eraValues = {\n  narrow: [\"B\", \"A\"],\n  abbreviated: [\"BC\", \"AD\"],\n  wide: [\"Before Christ\", \"Anno Domini\"],\n};\n\nconst quarterValues = {\n  narrow: [\"1\", \"2\", \"3\", \"4\"],\n  abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n  wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"],\n};\n\n// Note: in English, the names of days of the week and months are capitalized.\n// If you are making a new locale based on this one, check if the same is true for the language you're working on.\n// Generally, formatted dates should look like they are in the middle of a sentence,\n// e.g. in Spanish language the weekdays and months should be in the lowercase.\nconst monthValues = {\n  narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n  abbreviated: [\n    \"Jan\",\n    \"Feb\",\n    \"Mar\",\n    \"Apr\",\n    \"May\",\n    \"Jun\",\n    \"Jul\",\n    \"Aug\",\n    \"Sep\",\n    \"Oct\",\n    \"Nov\",\n    \"Dec\",\n  ],\n\n  wide: [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n  ],\n};\n\nconst dayValues = {\n  narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n  short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n  abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  wide: [\n    \"Sunday\",\n    \"Monday\",\n    \"Tuesday\",\n    \"Wednesday\",\n    \"Thursday\",\n    \"Friday\",\n    \"Saturday\",\n  ],\n};\n\nconst dayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"morning\",\n    afternoon: \"afternoon\",\n    evening: \"evening\",\n    night: \"night\",\n  },\n};\n\nconst formattingDayPeriodValues = {\n  narrow: {\n    am: \"a\",\n    pm: \"p\",\n    midnight: \"mi\",\n    noon: \"n\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  abbreviated: {\n    am: \"AM\",\n    pm: \"PM\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n  wide: {\n    am: \"a.m.\",\n    pm: \"p.m.\",\n    midnight: \"midnight\",\n    noon: \"noon\",\n    morning: \"in the morning\",\n    afternoon: \"in the afternoon\",\n    evening: \"in the evening\",\n    night: \"at night\",\n  },\n};\n\nconst ordinalNumber = (dirtyNumber, _options) => {\n  const number = Number(dirtyNumber);\n\n  // If ordinal numbers depend on context, for example,\n  // if they are different for different grammatical genders,\n  // use `options.unit`.\n  //\n  // `unit` can be 'year', 'quarter', 'month', 'week', 'date', 'dayOfYear',\n  // 'day', 'hour', 'minute', 'second'.\n\n  const rem100 = number % 100;\n  if (rem100 > 20 || rem100 < 10) {\n    switch (rem100 % 10) {\n      case 1:\n        return number + \"st\";\n      case 2:\n        return number + \"nd\";\n      case 3:\n        return number + \"rd\";\n    }\n  }\n  return number + \"th\";\n};\n\nexport const localize = {\n  ordinalNumber,\n\n  era: buildLocalizeFn({\n    values: eraValues,\n    defaultWidth: \"wide\",\n  }),\n\n  quarter: buildLocalizeFn({\n    values: quarterValues,\n    defaultWidth: \"wide\",\n    argumentCallback: (quarter) => quarter - 1,\n  }),\n\n  month: buildLocalizeFn({\n    values: monthValues,\n    defaultWidth: \"wide\",\n  }),\n\n  day: buildLocalizeFn({\n    values: dayValues,\n    defaultWidth: \"wide\",\n  }),\n\n  dayPeriod: buildLocalizeFn({\n    values: dayPeriodValues,\n    defaultWidth: \"wide\",\n    formattingValues: formattingDayPeriodValues,\n    defaultFormattingWidth: \"wide\",\n  }),\n};\n","export function buildMatchFn(args) {\n  return (string, options = {}) => {\n    const width = options.width;\n\n    const matchPattern =\n      (width && args.matchPatterns[width]) ||\n      args.matchPatterns[args.defaultMatchWidth];\n    const matchResult = string.match(matchPattern);\n\n    if (!matchResult) {\n      return null;\n    }\n    const matchedString = matchResult[0];\n\n    const parsePatterns =\n      (width && args.parsePatterns[width]) ||\n      args.parsePatterns[args.defaultParseWidth];\n\n    const key = Array.isArray(parsePatterns)\n      ? findIndex(parsePatterns, (pattern) => pattern.test(matchedString))\n      : // [TODO] -- I challenge you to fix the type\n        findKey(parsePatterns, (pattern) => pattern.test(matchedString));\n\n    let value;\n\n    value = args.valueCallback ? args.valueCallback(key) : key;\n    value = options.valueCallback\n      ? // [TODO] -- I challenge you to fix the type\n        options.valueCallback(value)\n      : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n\nfunction findKey(object, predicate) {\n  for (const key in object) {\n    if (\n      Object.prototype.hasOwnProperty.call(object, key) &&\n      predicate(object[key])\n    ) {\n      return key;\n    }\n  }\n  return undefined;\n}\n\nfunction findIndex(array, predicate) {\n  for (let key = 0; key < array.length; key++) {\n    if (predicate(array[key])) {\n      return key;\n    }\n  }\n  return undefined;\n}\n","export function buildMatchPatternFn(args) {\n  return (string, options = {}) => {\n    const matchResult = string.match(args.matchPattern);\n    if (!matchResult) return null;\n    const matchedString = matchResult[0];\n\n    const parseResult = string.match(args.parsePattern);\n    if (!parseResult) return null;\n    let value = args.valueCallback\n      ? args.valueCallback(parseResult[0])\n      : parseResult[0];\n\n    // [TODO] I challenge you to fix the type\n    value = options.valueCallback ? options.valueCallback(value) : value;\n\n    const rest = string.slice(matchedString.length);\n\n    return { value, rest };\n  };\n}\n","import { buildMatchFn } from \"../../_lib/buildMatchFn.js\";\nimport { buildMatchPatternFn } from \"../../_lib/buildMatchPatternFn.js\";\n\nconst matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\nconst parseOrdinalNumberPattern = /\\d+/i;\n\nconst matchEraPatterns = {\n  narrow: /^(b|a)/i,\n  abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n  wide: /^(before christ|before common era|anno domini|common era)/i,\n};\nconst parseEraPatterns = {\n  any: [/^b/i, /^(a|c)/i],\n};\n\nconst matchQuarterPatterns = {\n  narrow: /^[1234]/i,\n  abbreviated: /^q[1234]/i,\n  wide: /^[1234](th|st|nd|rd)? quarter/i,\n};\nconst parseQuarterPatterns = {\n  any: [/1/i, /2/i, /3/i, /4/i],\n};\n\nconst matchMonthPatterns = {\n  narrow: /^[jfmasond]/i,\n  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i,\n};\nconst parseMonthPatterns = {\n  narrow: [\n    /^j/i,\n    /^f/i,\n    /^m/i,\n    /^a/i,\n    /^m/i,\n    /^j/i,\n    /^j/i,\n    /^a/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n\n  any: [\n    /^ja/i,\n    /^f/i,\n    /^mar/i,\n    /^ap/i,\n    /^may/i,\n    /^jun/i,\n    /^jul/i,\n    /^au/i,\n    /^s/i,\n    /^o/i,\n    /^n/i,\n    /^d/i,\n  ],\n};\n\nconst matchDayPatterns = {\n  narrow: /^[smtwf]/i,\n  short: /^(su|mo|tu|we|th|fr|sa)/i,\n  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i,\n};\nconst parseDayPatterns = {\n  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i],\n};\n\nconst matchDayPeriodPatterns = {\n  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n  any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i,\n};\nconst parseDayPeriodPatterns = {\n  any: {\n    am: /^a/i,\n    pm: /^p/i,\n    midnight: /^mi/i,\n    noon: /^no/i,\n    morning: /morning/i,\n    afternoon: /afternoon/i,\n    evening: /evening/i,\n    night: /night/i,\n  },\n};\n\nexport const match = {\n  ordinalNumber: buildMatchPatternFn({\n    matchPattern: matchOrdinalNumberPattern,\n    parsePattern: parseOrdinalNumberPattern,\n    valueCallback: (value) => parseInt(value, 10),\n  }),\n\n  era: buildMatchFn({\n    matchPatterns: matchEraPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseEraPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  quarter: buildMatchFn({\n    matchPatterns: matchQuarterPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseQuarterPatterns,\n    defaultParseWidth: \"any\",\n    valueCallback: (index) => index + 1,\n  }),\n\n  month: buildMatchFn({\n    matchPatterns: matchMonthPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseMonthPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  day: buildMatchFn({\n    matchPatterns: matchDayPatterns,\n    defaultMatchWidth: \"wide\",\n    parsePatterns: parseDayPatterns,\n    defaultParseWidth: \"any\",\n  }),\n\n  dayPeriod: buildMatchFn({\n    matchPatterns: matchDayPeriodPatterns,\n    defaultMatchWidth: \"any\",\n    parsePatterns: parseDayPeriodPatterns,\n    defaultParseWidth: \"any\",\n  }),\n};\n","import { formatDistance } from \"./en-US/_lib/formatDistance.js\";\nimport { formatLong } from \"./en-US/_lib/formatLong.js\";\nimport { formatRelative } from \"./en-US/_lib/formatRelative.js\";\nimport { localize } from \"./en-US/_lib/localize.js\";\nimport { match } from \"./en-US/_lib/match.js\";\n\n/**\n * @category Locales\n * @summary English locale (United States).\n * @language English\n * @iso-639-2 eng\n * @author Sasha Koss [@kossnocorp](https://github.com/kossnocorp)\n * @author Lesha Koss [@leshakoss](https://github.com/leshakoss)\n */\nexport const enUS = {\n  code: \"en-US\",\n  formatDistance: formatDistance,\n  formatLong: formatLong,\n  formatRelative: formatRelative,\n  localize: localize,\n  match: match,\n  options: {\n    weekStartsOn: 0 /* Sunday */,\n    firstWeekContainsDate: 1,\n  },\n};\n\n// Fallback for modularized imports:\nexport default enUS;\n","import { differenceInCalendarDays } from \"./differenceInCalendarDays.js\";\nimport { startOfYear } from \"./startOfYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getDayOfYear} function options.\n */\n\n/**\n * @name getDayOfYear\n * @category Day Helpers\n * @summary Get the day of the year of the given date.\n *\n * @description\n * Get the day of the year of the given date.\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The day of year\n *\n * @example\n * // Which day of the year is 2 July 2014?\n * const result = getDayOfYear(new Date(2014, 6, 2))\n * //=> 183\n */\nexport function getDayOfYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = differenceInCalendarDays(_date, startOfYear(_date));\n  const dayOfYear = diff + 1;\n  return dayOfYear;\n}\n\n// Fallback for modularized imports:\nexport default getDayOfYear;\n","import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfISOWeek } from \"./startOfISOWeek.js\";\nimport { startOfISOWeekYear } from \"./startOfISOWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getISOWeek} function options.\n */\n\n/**\n * @name getISOWeek\n * @category ISO Week Helpers\n * @summary Get the ISO week of the given date.\n *\n * @description\n * Get the ISO week of the given date.\n *\n * ISO week-numbering year: http://en.wikipedia.org/wiki/ISO_week_date\n *\n * @param date - The given date\n * @param options - The options\n *\n * @returns The ISO week\n *\n * @example\n * // Which week of the ISO-week numbering year is 2 January 2005?\n * const result = getISOWeek(new Date(2005, 0, 2))\n * //=> 53\n */\nexport function getISOWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfISOWeek(_date) - +startOfISOWeekYear(_date);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getISOWeek;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeekYear} function options.\n */\n\n/**\n * @name getWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Get the local week-numbering year of the given date.\n *\n * @description\n * Get the local week-numbering year of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options.\n *\n * @returns The local week-numbering year\n *\n * @example\n * // Which week numbering year is 26 December 2004 with the default settings?\n * const result = getWeekYear(new Date(2004, 11, 26))\n * //=> 2005\n *\n * @example\n * // Which week numbering year is 26 December 2004 if week starts on Saturday?\n * const result = getWeekYear(new Date(2004, 11, 26), { weekStartsOn: 6 })\n * //=> 2004\n *\n * @example\n * // Which week numbering year is 26 December 2004 if the first week contains 4 January?\n * const result = getWeekYear(new Date(2004, 11, 26), { firstWeekContainsDate: 4 })\n * //=> 2004\n */\nexport function getWeekYear(date, options) {\n  const _date = toDate(date, options?.in);\n  const year = _date.getFullYear();\n\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const firstWeekOfNextYear = constructFrom(options?.in || date, 0);\n  firstWeekOfNextYear.setFullYear(year + 1, 0, firstWeekContainsDate);\n  firstWeekOfNextYear.setHours(0, 0, 0, 0);\n  const startOfNextYear = startOfWeek(firstWeekOfNextYear, options);\n\n  const firstWeekOfThisYear = constructFrom(options?.in || date, 0);\n  firstWeekOfThisYear.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeekOfThisYear.setHours(0, 0, 0, 0);\n  const startOfThisYear = startOfWeek(firstWeekOfThisYear, options);\n\n  if (+_date >= +startOfNextYear) {\n    return year + 1;\n  } else if (+_date >= +startOfThisYear) {\n    return year;\n  } else {\n    return year - 1;\n  }\n}\n\n// Fallback for modularized imports:\nexport default getWeekYear;\n","import { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { constructFrom } from \"./constructFrom.js\";\nimport { getWeekYear } from \"./getWeekYear.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\n\n/**\n * The {@link startOfWeekYear} function options.\n */\n\n/**\n * @name startOfWeekYear\n * @category Week-Numbering Year Helpers\n * @summary Return the start of a local week-numbering year for the given date.\n *\n * @description\n * Return the start of a local week-numbering year.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @typeParam DateType - The `Date` type, the function operates on. Gets inferred from passed arguments. Allows to use extensions like [`UTCDate`](https://github.com/date-fns/utc).\n * @typeParam ResultDate - The result `Date` type.\n *\n * @param date - The original date\n * @param options - An object with options\n *\n * @returns The start of a week-numbering year\n *\n * @example\n * // The start of an a week-numbering year for 2 July 2005 with default settings:\n * const result = startOfWeekYear(new Date(2005, 6, 2))\n * //=> Sun Dec 26 2004 00:00:00\n *\n * @example\n * // The start of a week-numbering year for 2 July 2005\n * // if Monday is the first day of week\n * // and 4 January is always in the first week of the year:\n * const result = startOfWeekYear(new Date(2005, 6, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> Mon Jan 03 2005 00:00:00\n */\nexport function startOfWeekYear(date, options) {\n  const defaultOptions = getDefaultOptions();\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const year = getWeekYear(date, options);\n  const firstWeek = constructFrom(options?.in || date, 0);\n  firstWeek.setFullYear(year, 0, firstWeekContainsDate);\n  firstWeek.setHours(0, 0, 0, 0);\n  const _date = startOfWeek(firstWeek, options);\n  return _date;\n}\n\n// Fallback for modularized imports:\nexport default startOfWeekYear;\n","import { millisecondsInWeek } from \"./constants.js\";\nimport { startOfWeek } from \"./startOfWeek.js\";\nimport { startOfWeekYear } from \"./startOfWeekYear.js\";\nimport { toDate } from \"./toDate.js\";\n\n/**\n * The {@link getWeek} function options.\n */\n\n/**\n * @name getWeek\n * @category Week Helpers\n * @summary Get the local week index of the given date.\n *\n * @description\n * Get the local week index of the given date.\n * The exact calculation depends on the values of\n * `options.weekStartsOn` (which is the index of the first day of the week)\n * and `options.firstWeekContainsDate` (which is the day of January, which is always in\n * the first week of the week-numbering year)\n *\n * Week numbering: https://en.wikipedia.org/wiki/Week#The_ISO_week_date_system\n *\n * @param date - The given date\n * @param options - An object with options\n *\n * @returns The week\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005 with default options?\n * const result = getWeek(new Date(2005, 0, 2))\n * //=> 2\n *\n * @example\n * // Which week of the local week numbering year is 2 January 2005,\n * // if Monday is the first day of the week,\n * // and the first week of the year always contains 4 January?\n * const result = getWeek(new Date(2005, 0, 2), {\n *   weekStartsOn: 1,\n *   firstWeekContainsDate: 4\n * })\n * //=> 53\n */\nexport function getWeek(date, options) {\n  const _date = toDate(date, options?.in);\n  const diff = +startOfWeek(_date, options) - +startOfWeekYear(_date, options);\n\n  // Round the number of weeks to the nearest integer because the number of\n  // milliseconds in a week is not constant (e.g. it's different in the week of\n  // the daylight saving time clock shift).\n  return Math.round(diff / millisecondsInWeek) + 1;\n}\n\n// Fallback for modularized imports:\nexport default getWeek;\n","export function addLeadingZeros(number, targetLength) {\n  const sign = number < 0 ? \"-\" : \"\";\n  const output = Math.abs(number).toString().padStart(targetLength, \"0\");\n  return sign + output;\n}\n","import { addLeadingZeros } from \"../addLeadingZeros.js\";\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* |                                |\n * |  d  | Day of month                   |  D  |                                |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  m  | Minute                         |  M  | Month                          |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  y  | Year (abs)                     |  Y  |                                |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n */\n\nexport const lightFormatters = {\n  // Year\n  y(date, token) {\n    // From http://www.unicode.org/reports/tr35/tr35-31/tr35-dates.html#Date_Format_tokens\n    // | Year     |     y | yy |   yyy |  yyyy | yyyyy |\n    // |----------|-------|----|-------|-------|-------|\n    // | AD 1     |     1 | 01 |   001 |  0001 | 00001 |\n    // | AD 12    |    12 | 12 |   012 |  0012 | 00012 |\n    // | AD 123   |   123 | 23 |   123 |  0123 | 00123 |\n    // | AD 1234  |  1234 | 34 |  1234 |  1234 | 01234 |\n    // | AD 12345 | 12345 | 45 | 12345 | 12345 | 12345 |\n\n    const signedYear = date.getFullYear();\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const year = signedYear > 0 ? signedYear : 1 - signedYear;\n    return addLeadingZeros(token === \"yy\" ? year % 100 : year, token.length);\n  },\n\n  // Month\n  M(date, token) {\n    const month = date.getMonth();\n    return token === \"M\" ? String(month + 1) : addLeadingZeros(month + 1, 2);\n  },\n\n  // Day of the month\n  d(date, token) {\n    return addLeadingZeros(date.getDate(), token.length);\n  },\n\n  // AM or PM\n  a(date, token) {\n    const dayPeriodEnumValue = date.getHours() / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return dayPeriodEnumValue.toUpperCase();\n      case \"aaa\":\n        return dayPeriodEnumValue;\n      case \"aaaaa\":\n        return dayPeriodEnumValue[0];\n      case \"aaaa\":\n      default:\n        return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n    }\n  },\n\n  // Hour [1-12]\n  h(date, token) {\n    return addLeadingZeros(date.getHours() % 12 || 12, token.length);\n  },\n\n  // Hour [0-23]\n  H(date, token) {\n    return addLeadingZeros(date.getHours(), token.length);\n  },\n\n  // Minute\n  m(date, token) {\n    return addLeadingZeros(date.getMinutes(), token.length);\n  },\n\n  // Second\n  s(date, token) {\n    return addLeadingZeros(date.getSeconds(), token.length);\n  },\n\n  // Fraction of second\n  S(date, token) {\n    const numberOfDigits = token.length;\n    const milliseconds = date.getMilliseconds();\n    const fractionalSeconds = Math.trunc(\n      milliseconds * Math.pow(10, numberOfDigits - 3),\n    );\n    return addLeadingZeros(fractionalSeconds, token.length);\n  },\n};\n","import { getDayOfYear } from \"../../getDayOfYear.js\";\nimport { getISOWeek } from \"../../getISOWeek.js\";\nimport { getISOWeekYear } from \"../../getISOWeekYear.js\";\nimport { getWeek } from \"../../getWeek.js\";\nimport { getWeekYear } from \"../../getWeekYear.js\";\n\nimport { addLeadingZeros } from \"../addLeadingZeros.js\";\nimport { lightFormatters } from \"./lightFormatters.js\";\n\nconst dayPeriodEnum = {\n  am: \"am\",\n  pm: \"pm\",\n  midnight: \"midnight\",\n  noon: \"noon\",\n  morning: \"morning\",\n  afternoon: \"afternoon\",\n  evening: \"evening\",\n  night: \"night\",\n};\n\n/*\n * |     | Unit                           |     | Unit                           |\n * |-----|--------------------------------|-----|--------------------------------|\n * |  a  | AM, PM                         |  A* | Milliseconds in day            |\n * |  b  | AM, PM, noon, midnight         |  B  | Flexible day period            |\n * |  c  | Stand-alone local day of week  |  C* | Localized hour w/ day period   |\n * |  d  | Day of month                   |  D  | Day of year                    |\n * |  e  | Local day of week              |  E  | Day of week                    |\n * |  f  |                                |  F* | Day of week in month           |\n * |  g* | Modified Julian day            |  G  | Era                            |\n * |  h  | Hour [1-12]                    |  H  | Hour [0-23]                    |\n * |  i! | ISO day of week                |  I! | ISO week of year               |\n * |  j* | Localized hour w/ day period   |  J* | Localized hour w/o day period  |\n * |  k  | Hour [1-24]                    |  K  | Hour [0-11]                    |\n * |  l* | (deprecated)                   |  L  | Stand-alone month              |\n * |  m  | Minute                         |  M  | Month                          |\n * |  n  |                                |  N  |                                |\n * |  o! | Ordinal number modifier        |  O  | Timezone (GMT)                 |\n * |  p! | Long localized time            |  P! | Long localized date            |\n * |  q  | Stand-alone quarter            |  Q  | Quarter                        |\n * |  r* | Related Gregorian year         |  R! | ISO week-numbering year        |\n * |  s  | Second                         |  S  | Fraction of second             |\n * |  t! | Seconds timestamp              |  T! | Milliseconds timestamp         |\n * |  u  | Extended year                  |  U* | Cyclic year                    |\n * |  v* | Timezone (generic non-locat.)  |  V* | Timezone (location)            |\n * |  w  | Local week of year             |  W* | Week of month                  |\n * |  x  | Timezone (ISO-8601 w/o Z)      |  X  | Timezone (ISO-8601)            |\n * |  y  | Year (abs)                     |  Y  | Local week-numbering year      |\n * |  z  | Timezone (specific non-locat.) |  Z* | Timezone (aliases)             |\n *\n * Letters marked by * are not implemented but reserved by Unicode standard.\n *\n * Letters marked by ! are non-standard, but implemented by date-fns:\n * - `o` modifies the previous token to turn it into an ordinal (see `format` docs)\n * - `i` is ISO day of week. For `i` and `ii` is returns numeric ISO week days,\n *   i.e. 7 for Sunday, 1 for Monday, etc.\n * - `I` is ISO week of year, as opposed to `w` which is local week of year.\n * - `R` is ISO week-numbering year, as opposed to `Y` which is local week-numbering year.\n *   `R` is supposed to be used in conjunction with `I` and `i`\n *   for universal ISO week-numbering date, whereas\n *   `Y` is supposed to be used in conjunction with `w` and `e`\n *   for week-numbering date specific to the locale.\n * - `P` is long localized date format\n * - `p` is long localized time format\n */\n\nexport const formatters = {\n  // Era\n  G: function (date, token, localize) {\n    const era = date.getFullYear() > 0 ? 1 : 0;\n    switch (token) {\n      // AD, BC\n      case \"G\":\n      case \"GG\":\n      case \"GGG\":\n        return localize.era(era, { width: \"abbreviated\" });\n      // A, B\n      case \"GGGGG\":\n        return localize.era(era, { width: \"narrow\" });\n      // Anno Domini, Before Christ\n      case \"GGGG\":\n      default:\n        return localize.era(era, { width: \"wide\" });\n    }\n  },\n\n  // Year\n  y: function (date, token, localize) {\n    // Ordinal number\n    if (token === \"yo\") {\n      const signedYear = date.getFullYear();\n      // Returns 1 for 1 BC (which is year 0 in JavaScript)\n      const year = signedYear > 0 ? signedYear : 1 - signedYear;\n      return localize.ordinalNumber(year, { unit: \"year\" });\n    }\n\n    return lightFormatters.y(date, token);\n  },\n\n  // Local week-numbering year\n  Y: function (date, token, localize, options) {\n    const signedWeekYear = getWeekYear(date, options);\n    // Returns 1 for 1 BC (which is year 0 in JavaScript)\n    const weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n\n    // Two digit year\n    if (token === \"YY\") {\n      const twoDigitYear = weekYear % 100;\n      return addLeadingZeros(twoDigitYear, 2);\n    }\n\n    // Ordinal number\n    if (token === \"Yo\") {\n      return localize.ordinalNumber(weekYear, { unit: \"year\" });\n    }\n\n    // Padding\n    return addLeadingZeros(weekYear, token.length);\n  },\n\n  // ISO week-numbering year\n  R: function (date, token) {\n    const isoWeekYear = getISOWeekYear(date);\n\n    // Padding\n    return addLeadingZeros(isoWeekYear, token.length);\n  },\n\n  // Extended year. This is a single number designating the year of this calendar system.\n  // The main difference between `y` and `u` localizers are B.C. years:\n  // | Year | `y` | `u` |\n  // |------|-----|-----|\n  // | AC 1 |   1 |   1 |\n  // | BC 1 |   1 |   0 |\n  // | BC 2 |   2 |  -1 |\n  // Also `yy` always returns the last two digits of a year,\n  // while `uu` pads single digit years to 2 characters and returns other years unchanged.\n  u: function (date, token) {\n    const year = date.getFullYear();\n    return addLeadingZeros(year, token.length);\n  },\n\n  // Quarter\n  Q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"Q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"QQ\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"Qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"QQQ\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"QQQQQ\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"QQQQ\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone quarter\n  q: function (date, token, localize) {\n    const quarter = Math.ceil((date.getMonth() + 1) / 3);\n    switch (token) {\n      // 1, 2, 3, 4\n      case \"q\":\n        return String(quarter);\n      // 01, 02, 03, 04\n      case \"qq\":\n        return addLeadingZeros(quarter, 2);\n      // 1st, 2nd, 3rd, 4th\n      case \"qo\":\n        return localize.ordinalNumber(quarter, { unit: \"quarter\" });\n      // Q1, Q2, Q3, Q4\n      case \"qqq\":\n        return localize.quarter(quarter, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // 1, 2, 3, 4 (narrow quarter; could be not numerical)\n      case \"qqqqq\":\n        return localize.quarter(quarter, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // 1st quarter, 2nd quarter, ...\n      case \"qqqq\":\n      default:\n        return localize.quarter(quarter, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // Month\n  M: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      case \"M\":\n      case \"MM\":\n        return lightFormatters.M(date, token);\n      // 1st, 2nd, ..., 12th\n      case \"Mo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"MMM\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // J, F, ..., D\n      case \"MMMMM\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // January, February, ..., December\n      case \"MMMM\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"formatting\" });\n    }\n  },\n\n  // Stand-alone month\n  L: function (date, token, localize) {\n    const month = date.getMonth();\n    switch (token) {\n      // 1, 2, ..., 12\n      case \"L\":\n        return String(month + 1);\n      // 01, 02, ..., 12\n      case \"LL\":\n        return addLeadingZeros(month + 1, 2);\n      // 1st, 2nd, ..., 12th\n      case \"Lo\":\n        return localize.ordinalNumber(month + 1, { unit: \"month\" });\n      // Jan, Feb, ..., Dec\n      case \"LLL\":\n        return localize.month(month, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // J, F, ..., D\n      case \"LLLLL\":\n        return localize.month(month, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // January, February, ..., December\n      case \"LLLL\":\n      default:\n        return localize.month(month, { width: \"wide\", context: \"standalone\" });\n    }\n  },\n\n  // Local week of year\n  w: function (date, token, localize, options) {\n    const week = getWeek(date, options);\n\n    if (token === \"wo\") {\n      return localize.ordinalNumber(week, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(week, token.length);\n  },\n\n  // ISO week of year\n  I: function (date, token, localize) {\n    const isoWeek = getISOWeek(date);\n\n    if (token === \"Io\") {\n      return localize.ordinalNumber(isoWeek, { unit: \"week\" });\n    }\n\n    return addLeadingZeros(isoWeek, token.length);\n  },\n\n  // Day of the month\n  d: function (date, token, localize) {\n    if (token === \"do\") {\n      return localize.ordinalNumber(date.getDate(), { unit: \"date\" });\n    }\n\n    return lightFormatters.d(date, token);\n  },\n\n  // Day of year\n  D: function (date, token, localize) {\n    const dayOfYear = getDayOfYear(date);\n\n    if (token === \"Do\") {\n      return localize.ordinalNumber(dayOfYear, { unit: \"dayOfYear\" });\n    }\n\n    return addLeadingZeros(dayOfYear, token.length);\n  },\n\n  // Day of week\n  E: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    switch (token) {\n      // Tue\n      case \"E\":\n      case \"EE\":\n      case \"EEE\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"EEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"EEEEEE\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"EEEE\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Local day of week\n  e: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (Nth day of week with current locale or weekStartsOn)\n      case \"e\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"ee\":\n        return addLeadingZeros(localDayOfWeek, 2);\n      // 1st, 2nd, ..., 7th\n      case \"eo\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"eee\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"eeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"eeeeee\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"eeee\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Stand-alone local day of week\n  c: function (date, token, localize, options) {\n    const dayOfWeek = date.getDay();\n    const localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n    switch (token) {\n      // Numerical value (same as in `e`)\n      case \"c\":\n        return String(localDayOfWeek);\n      // Padded numerical value\n      case \"cc\":\n        return addLeadingZeros(localDayOfWeek, token.length);\n      // 1st, 2nd, ..., 7th\n      case \"co\":\n        return localize.ordinalNumber(localDayOfWeek, { unit: \"day\" });\n      case \"ccc\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"standalone\",\n        });\n      // T\n      case \"ccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"standalone\",\n        });\n      // Tu\n      case \"cccccc\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"standalone\",\n        });\n      // Tuesday\n      case \"cccc\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"standalone\",\n        });\n    }\n  },\n\n  // ISO day of week\n  i: function (date, token, localize) {\n    const dayOfWeek = date.getDay();\n    const isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n    switch (token) {\n      // 2\n      case \"i\":\n        return String(isoDayOfWeek);\n      // 02\n      case \"ii\":\n        return addLeadingZeros(isoDayOfWeek, token.length);\n      // 2nd\n      case \"io\":\n        return localize.ordinalNumber(isoDayOfWeek, { unit: \"day\" });\n      // Tue\n      case \"iii\":\n        return localize.day(dayOfWeek, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      // T\n      case \"iiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      // Tu\n      case \"iiiiii\":\n        return localize.day(dayOfWeek, {\n          width: \"short\",\n          context: \"formatting\",\n        });\n      // Tuesday\n      case \"iiii\":\n      default:\n        return localize.day(dayOfWeek, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM or PM\n  a: function (date, token, localize) {\n    const hours = date.getHours();\n    const dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n\n    switch (token) {\n      case \"a\":\n      case \"aa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"aaa\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"aaaaa\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"aaaa\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // AM, PM, midnight, noon\n  b: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours === 12) {\n      dayPeriodEnumValue = dayPeriodEnum.noon;\n    } else if (hours === 0) {\n      dayPeriodEnumValue = dayPeriodEnum.midnight;\n    } else {\n      dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n    }\n\n    switch (token) {\n      case \"b\":\n      case \"bb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"bbb\":\n        return localize\n          .dayPeriod(dayPeriodEnumValue, {\n            width: \"abbreviated\",\n            context: \"formatting\",\n          })\n          .toLowerCase();\n      case \"bbbbb\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"bbbb\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // in the morning, in the afternoon, in the evening, at night\n  B: function (date, token, localize) {\n    const hours = date.getHours();\n    let dayPeriodEnumValue;\n    if (hours >= 17) {\n      dayPeriodEnumValue = dayPeriodEnum.evening;\n    } else if (hours >= 12) {\n      dayPeriodEnumValue = dayPeriodEnum.afternoon;\n    } else if (hours >= 4) {\n      dayPeriodEnumValue = dayPeriodEnum.morning;\n    } else {\n      dayPeriodEnumValue = dayPeriodEnum.night;\n    }\n\n    switch (token) {\n      case \"B\":\n      case \"BB\":\n      case \"BBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"abbreviated\",\n          context: \"formatting\",\n        });\n      case \"BBBBB\":\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"narrow\",\n          context: \"formatting\",\n        });\n      case \"BBBB\":\n      default:\n        return localize.dayPeriod(dayPeriodEnumValue, {\n          width: \"wide\",\n          context: \"formatting\",\n        });\n    }\n  },\n\n  // Hour [1-12]\n  h: function (date, token, localize) {\n    if (token === \"ho\") {\n      let hours = date.getHours() % 12;\n      if (hours === 0) hours = 12;\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return lightFormatters.h(date, token);\n  },\n\n  // Hour [0-23]\n  H: function (date, token, localize) {\n    if (token === \"Ho\") {\n      return localize.ordinalNumber(date.getHours(), { unit: \"hour\" });\n    }\n\n    return lightFormatters.H(date, token);\n  },\n\n  // Hour [0-11]\n  K: function (date, token, localize) {\n    const hours = date.getHours() % 12;\n\n    if (token === \"Ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Hour [1-24]\n  k: function (date, token, localize) {\n    let hours = date.getHours();\n    if (hours === 0) hours = 24;\n\n    if (token === \"ko\") {\n      return localize.ordinalNumber(hours, { unit: \"hour\" });\n    }\n\n    return addLeadingZeros(hours, token.length);\n  },\n\n  // Minute\n  m: function (date, token, localize) {\n    if (token === \"mo\") {\n      return localize.ordinalNumber(date.getMinutes(), { unit: \"minute\" });\n    }\n\n    return lightFormatters.m(date, token);\n  },\n\n  // Second\n  s: function (date, token, localize) {\n    if (token === \"so\") {\n      return localize.ordinalNumber(date.getSeconds(), { unit: \"second\" });\n    }\n\n    return lightFormatters.s(date, token);\n  },\n\n  // Fraction of second\n  S: function (date, token) {\n    return lightFormatters.S(date, token);\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)\n  X: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    if (timezoneOffset === 0) {\n      return \"Z\";\n    }\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"X\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XX`\n      case \"XXXX\":\n      case \"XX\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `XXX`\n      case \"XXXXX\":\n      case \"XXX\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)\n  x: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Hours and optional minutes\n      case \"x\":\n        return formatTimezoneWithOptionalMinutes(timezoneOffset);\n\n      // Hours, minutes and optional seconds without `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xx`\n      case \"xxxx\":\n      case \"xx\": // Hours and minutes without `:` delimiter\n        return formatTimezone(timezoneOffset);\n\n      // Hours, minutes and optional seconds with `:` delimiter\n      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets\n      // so this token always has the same output as `xxx`\n      case \"xxxxx\":\n      case \"xxx\": // Hours and minutes with `:` delimiter\n      default:\n        return formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (GMT)\n  O: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"O\":\n      case \"OO\":\n      case \"OOO\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"OOOO\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Timezone (specific non-location)\n  z: function (date, token, _localize) {\n    const timezoneOffset = date.getTimezoneOffset();\n\n    switch (token) {\n      // Short\n      case \"z\":\n      case \"zz\":\n      case \"zzz\":\n        return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n      // Long\n      case \"zzzz\":\n      default:\n        return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n    }\n  },\n\n  // Seconds timestamp\n  t: function (date, token, _localize) {\n    const timestamp = Math.trunc(+date / 1000);\n    return addLeadingZeros(timestamp, token.length);\n  },\n\n  // Milliseconds timestamp\n  T: function (date, token, _localize) {\n    return addLeadingZeros(+date, token.length);\n  },\n};\n\nfunction formatTimezoneShort(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = Math.trunc(absOffset / 60);\n  const minutes = absOffset % 60;\n  if (minutes === 0) {\n    return sign + String(hours);\n  }\n  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);\n}\n\nfunction formatTimezoneWithOptionalMinutes(offset, delimiter) {\n  if (offset % 60 === 0) {\n    const sign = offset > 0 ? \"-\" : \"+\";\n    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);\n  }\n  return formatTimezone(offset, delimiter);\n}\n\nfunction formatTimezone(offset, delimiter = \"\") {\n  const sign = offset > 0 ? \"-\" : \"+\";\n  const absOffset = Math.abs(offset);\n  const hours = addLeadingZeros(Math.trunc(absOffset / 60), 2);\n  const minutes = addLeadingZeros(absOffset % 60, 2);\n  return sign + hours + delimiter + minutes;\n}\n","const dateLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"P\":\n      return formatLong.date({ width: \"short\" });\n    case \"PP\":\n      return formatLong.date({ width: \"medium\" });\n    case \"PPP\":\n      return formatLong.date({ width: \"long\" });\n    case \"PPPP\":\n    default:\n      return formatLong.date({ width: \"full\" });\n  }\n};\n\nconst timeLongFormatter = (pattern, formatLong) => {\n  switch (pattern) {\n    case \"p\":\n      return formatLong.time({ width: \"short\" });\n    case \"pp\":\n      return formatLong.time({ width: \"medium\" });\n    case \"ppp\":\n      return formatLong.time({ width: \"long\" });\n    case \"pppp\":\n    default:\n      return formatLong.time({ width: \"full\" });\n  }\n};\n\nconst dateTimeLongFormatter = (pattern, formatLong) => {\n  const matchResult = pattern.match(/(P+)(p+)?/) || [];\n  const datePattern = matchResult[1];\n  const timePattern = matchResult[2];\n\n  if (!timePattern) {\n    return dateLongFormatter(pattern, formatLong);\n  }\n\n  let dateTimeFormat;\n\n  switch (datePattern) {\n    case \"P\":\n      dateTimeFormat = formatLong.dateTime({ width: \"short\" });\n      break;\n    case \"PP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"medium\" });\n      break;\n    case \"PPP\":\n      dateTimeFormat = formatLong.dateTime({ width: \"long\" });\n      break;\n    case \"PPPP\":\n    default:\n      dateTimeFormat = formatLong.dateTime({ width: \"full\" });\n      break;\n  }\n\n  return dateTimeFormat\n    .replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong))\n    .replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n};\n\nexport const longFormatters = {\n  p: timeLongFormatter,\n  P: dateTimeLongFormatter,\n};\n","const dayOfYearTokenRE = /^D+$/;\nconst weekYearTokenRE = /^Y+$/;\n\nconst throwTokens = [\"D\", \"DD\", \"YY\", \"YYYY\"];\n\nexport function isProtectedDayOfYearToken(token) {\n  return dayOfYearTokenRE.test(token);\n}\n\nexport function isProtectedWeekYearToken(token) {\n  return weekYearTokenRE.test(token);\n}\n\nexport function warnOrThrowProtectedError(token, format, input) {\n  const _message = message(token, format, input);\n  console.warn(_message);\n  if (throwTokens.includes(token)) throw new RangeError(_message);\n}\n\nfunction message(token, format, input) {\n  const subject = token[0] === \"Y\" ? \"years\" : \"days of the month\";\n  return `Use \\`${token.toLowerCase()}\\` instead of \\`${token}\\` (in \\`${format}\\`) for formatting ${subject} to the input \\`${input}\\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`;\n}\n","import { defaultLocale } from \"./_lib/defaultLocale.js\";\nimport { getDefaultOptions } from \"./_lib/defaultOptions.js\";\nimport { formatters } from \"./_lib/format/formatters.js\";\nimport { longFormatters } from \"./_lib/format/longFormatters.js\";\nimport {\n  isProtectedDayOfYearToken,\n  isProtectedWeekYearToken,\n  warnOrThrowProtectedError,\n} from \"./_lib/protectedTokens.js\";\nimport { isValid } from \"./isValid.js\";\nimport { toDate } from \"./toDate.js\";\n\n// Rexports of internal for libraries to use.\n// See: https://github.com/date-fns/date-fns/issues/3638#issuecomment-1877082874\nexport { formatters, longFormatters };\n\n// This RegExp consists of three parts separated by `|`:\n// - [yYQqMLwIdDecihHKkms]o matches any available ordinal number token\n//   (one of the certain letters followed by `o`)\n// - (\\w)\\1* matches any sequences of the same letter\n// - '' matches two quote characters in a row\n// - '(''|[^'])+('|$) matches anything surrounded by two quote characters ('),\n//   except a single quote symbol, which ends the sequence.\n//   Two quote characters do not end the sequence.\n//   If there is no matching single quote\n//   then the sequence will continue until the end of the string.\n// - . matches any single character unmatched by previous parts of the RegExps\nconst formattingTokensRegExp =\n  /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n\n// This RegExp catches symbols escaped by quotes, and also\n// sequences of symbols P, p, and the combinations like `PPPPPPPppppp`\nconst longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n\nconst escapedStringRegExp = /^'([^]*?)'?$/;\nconst doubleQuoteRegExp = /''/g;\nconst unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n\nexport { format as formatDate };\n\n/**\n * The {@link format} function options.\n */\n\n/**\n * @name format\n * @alias formatDate\n * @category Common Helpers\n * @summary Format the date.\n *\n * @description\n * Return the formatted date string in the given format. The result may vary by locale.\n *\n * > ⚠️ Please note that the `format` tokens differ from Moment.js and other libraries.\n * > See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * The characters wrapped between two single quotes characters (') are escaped.\n * Two single quotes in a row, whether inside or outside a quoted sequence, represent a 'real' single quote.\n * (see the last example)\n *\n * Format of the string is based on Unicode Technical Standard #35:\n * https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * with a few additions (see note 7 below the table).\n *\n * Accepted patterns:\n * | Unit                            | Pattern | Result examples                   | Notes |\n * |---------------------------------|---------|-----------------------------------|-------|\n * | Era                             | G..GGG  | AD, BC                            |       |\n * |                                 | GGGG    | Anno Domini, Before Christ        | 2     |\n * |                                 | GGGGG   | A, B                              |       |\n * | Calendar year                   | y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | yo      | 44th, 1st, 0th, 17th              | 5,7   |\n * |                                 | yy      | 44, 01, 00, 17                    | 5     |\n * |                                 | yyy     | 044, 001, 1900, 2017              | 5     |\n * |                                 | yyyy    | 0044, 0001, 1900, 2017            | 5     |\n * |                                 | yyyyy   | ...                               | 3,5   |\n * | Local week-numbering year       | Y       | 44, 1, 1900, 2017                 | 5     |\n * |                                 | Yo      | 44th, 1st, 1900th, 2017th         | 5,7   |\n * |                                 | YY      | 44, 01, 00, 17                    | 5,8   |\n * |                                 | YYY     | 044, 001, 1900, 2017              | 5     |\n * |                                 | YYYY    | 0044, 0001, 1900, 2017            | 5,8   |\n * |                                 | YYYYY   | ...                               | 3,5   |\n * | ISO week-numbering year         | R       | -43, 0, 1, 1900, 2017             | 5,7   |\n * |                                 | RR      | -43, 00, 01, 1900, 2017           | 5,7   |\n * |                                 | RRR     | -043, 000, 001, 1900, 2017        | 5,7   |\n * |                                 | RRRR    | -0043, 0000, 0001, 1900, 2017     | 5,7   |\n * |                                 | RRRRR   | ...                               | 3,5,7 |\n * | Extended year                   | u       | -43, 0, 1, 1900, 2017             | 5     |\n * |                                 | uu      | -43, 01, 1900, 2017               | 5     |\n * |                                 | uuu     | -043, 001, 1900, 2017             | 5     |\n * |                                 | uuuu    | -0043, 0001, 1900, 2017           | 5     |\n * |                                 | uuuuu   | ...                               | 3,5   |\n * | Quarter (formatting)            | Q       | 1, 2, 3, 4                        |       |\n * |                                 | Qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | QQ      | 01, 02, 03, 04                    |       |\n * |                                 | QQQ     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | QQQQ    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | QQQQQ   | 1, 2, 3, 4                        | 4     |\n * | Quarter (stand-alone)           | q       | 1, 2, 3, 4                        |       |\n * |                                 | qo      | 1st, 2nd, 3rd, 4th                | 7     |\n * |                                 | qq      | 01, 02, 03, 04                    |       |\n * |                                 | qqq     | Q1, Q2, Q3, Q4                    |       |\n * |                                 | qqqq    | 1st quarter, 2nd quarter, ...     | 2     |\n * |                                 | qqqqq   | 1, 2, 3, 4                        | 4     |\n * | Month (formatting)              | M       | 1, 2, ..., 12                     |       |\n * |                                 | Mo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | MM      | 01, 02, ..., 12                   |       |\n * |                                 | MMM     | Jan, Feb, ..., Dec                |       |\n * |                                 | MMMM    | January, February, ..., December  | 2     |\n * |                                 | MMMMM   | J, F, ..., D                      |       |\n * | Month (stand-alone)             | L       | 1, 2, ..., 12                     |       |\n * |                                 | Lo      | 1st, 2nd, ..., 12th               | 7     |\n * |                                 | LL      | 01, 02, ..., 12                   |       |\n * |                                 | LLL     | Jan, Feb, ..., Dec                |       |\n * |                                 | LLLL    | January, February, ..., December  | 2     |\n * |                                 | LLLLL   | J, F, ..., D                      |       |\n * | Local week of year              | w       | 1, 2, ..., 53                     |       |\n * |                                 | wo      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | ww      | 01, 02, ..., 53                   |       |\n * | ISO week of year                | I       | 1, 2, ..., 53                     | 7     |\n * |                                 | Io      | 1st, 2nd, ..., 53th               | 7     |\n * |                                 | II      | 01, 02, ..., 53                   | 7     |\n * | Day of month                    | d       | 1, 2, ..., 31                     |       |\n * |                                 | do      | 1st, 2nd, ..., 31st               | 7     |\n * |                                 | dd      | 01, 02, ..., 31                   |       |\n * | Day of year                     | D       | 1, 2, ..., 365, 366               | 9     |\n * |                                 | Do      | 1st, 2nd, ..., 365th, 366th       | 7     |\n * |                                 | DD      | 01, 02, ..., 365, 366             | 9     |\n * |                                 | DDD     | 001, 002, ..., 365, 366           |       |\n * |                                 | DDDD    | ...                               | 3     |\n * | Day of week (formatting)        | E..EEE  | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | EEEE    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | EEEEE   | M, T, W, T, F, S, S               |       |\n * |                                 | EEEEEE  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | ISO day of week (formatting)    | i       | 1, 2, 3, ..., 7                   | 7     |\n * |                                 | io      | 1st, 2nd, ..., 7th                | 7     |\n * |                                 | ii      | 01, 02, ..., 07                   | 7     |\n * |                                 | iii     | Mon, Tue, Wed, ..., Sun           | 7     |\n * |                                 | iiii    | Monday, Tuesday, ..., Sunday      | 2,7   |\n * |                                 | iiiii   | M, T, W, T, F, S, S               | 7     |\n * |                                 | iiiiii  | Mo, Tu, We, Th, Fr, Sa, Su        | 7     |\n * | Local day of week (formatting)  | e       | 2, 3, 4, ..., 1                   |       |\n * |                                 | eo      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | ee      | 02, 03, ..., 01                   |       |\n * |                                 | eee     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | eeee    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | eeeee   | M, T, W, T, F, S, S               |       |\n * |                                 | eeeeee  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | Local day of week (stand-alone) | c       | 2, 3, 4, ..., 1                   |       |\n * |                                 | co      | 2nd, 3rd, ..., 1st                | 7     |\n * |                                 | cc      | 02, 03, ..., 01                   |       |\n * |                                 | ccc     | Mon, Tue, Wed, ..., Sun           |       |\n * |                                 | cccc    | Monday, Tuesday, ..., Sunday      | 2     |\n * |                                 | ccccc   | M, T, W, T, F, S, S               |       |\n * |                                 | cccccc  | Mo, Tu, We, Th, Fr, Sa, Su        |       |\n * | AM, PM                          | a..aa   | AM, PM                            |       |\n * |                                 | aaa     | am, pm                            |       |\n * |                                 | aaaa    | a.m., p.m.                        | 2     |\n * |                                 | aaaaa   | a, p                              |       |\n * | AM, PM, noon, midnight          | b..bb   | AM, PM, noon, midnight            |       |\n * |                                 | bbb     | am, pm, noon, midnight            |       |\n * |                                 | bbbb    | a.m., p.m., noon, midnight        | 2     |\n * |                                 | bbbbb   | a, p, n, mi                       |       |\n * | Flexible day period             | B..BBB  | at night, in the morning, ...     |       |\n * |                                 | BBBB    | at night, in the morning, ...     | 2     |\n * |                                 | BBBBB   | at night, in the morning, ...     |       |\n * | Hour [1-12]                     | h       | 1, 2, ..., 11, 12                 |       |\n * |                                 | ho      | 1st, 2nd, ..., 11th, 12th         | 7     |\n * |                                 | hh      | 01, 02, ..., 11, 12               |       |\n * | Hour [0-23]                     | H       | 0, 1, 2, ..., 23                  |       |\n * |                                 | Ho      | 0th, 1st, 2nd, ..., 23rd          | 7     |\n * |                                 | HH      | 00, 01, 02, ..., 23               |       |\n * | Hour [0-11]                     | K       | 1, 2, ..., 11, 0                  |       |\n * |                                 | Ko      | 1st, 2nd, ..., 11th, 0th          | 7     |\n * |                                 | KK      | 01, 02, ..., 11, 00               |       |\n * | Hour [1-24]                     | k       | 24, 1, 2, ..., 23                 |       |\n * |                                 | ko      | 24th, 1st, 2nd, ..., 23rd         | 7     |\n * |                                 | kk      | 24, 01, 02, ..., 23               |       |\n * | Minute                          | m       | 0, 1, ..., 59                     |       |\n * |                                 | mo      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | mm      | 00, 01, ..., 59                   |       |\n * | Second                          | s       | 0, 1, ..., 59                     |       |\n * |                                 | so      | 0th, 1st, ..., 59th               | 7     |\n * |                                 | ss      | 00, 01, ..., 59                   |       |\n * | Fraction of second              | S       | 0, 1, ..., 9                      |       |\n * |                                 | SS      | 00, 01, ..., 99                   |       |\n * |                                 | SSS     | 000, 001, ..., 999                |       |\n * |                                 | SSSS    | ...                               | 3     |\n * | Timezone (ISO-8601 w/ Z)        | X       | -08, +0530, Z                     |       |\n * |                                 | XX      | -0800, +0530, Z                   |       |\n * |                                 | XXX     | -08:00, +05:30, Z                 |       |\n * |                                 | XXXX    | -0800, +0530, Z, +123456          | 2     |\n * |                                 | XXXXX   | -08:00, +05:30, Z, +12:34:56      |       |\n * | Timezone (ISO-8601 w/o Z)       | x       | -08, +0530, +00                   |       |\n * |                                 | xx      | -0800, +0530, +0000               |       |\n * |                                 | xxx     | -08:00, +05:30, +00:00            | 2     |\n * |                                 | xxxx    | -0800, +0530, +0000, +123456      |       |\n * |                                 | xxxxx   | -08:00, +05:30, +00:00, +12:34:56 |       |\n * | Timezone (GMT)                  | O...OOO | GMT-8, GMT+5:30, GMT+0            |       |\n * |                                 | OOOO    | GMT-08:00, GMT+05:30, GMT+00:00   | 2     |\n * | Timezone (specific non-locat.)  | z...zzz | GMT-8, GMT+5:30, GMT+0            | 6     |\n * |                                 | zzzz    | GMT-08:00, GMT+05:30, GMT+00:00   | 2,6   |\n * | Seconds timestamp               | t       | 512969520                         | 7     |\n * |                                 | tt      | ...                               | 3,7   |\n * | Milliseconds timestamp          | T       | 512969520900                      | 7     |\n * |                                 | TT      | ...                               | 3,7   |\n * | Long localized date             | P       | 04/29/1453                        | 7     |\n * |                                 | PP      | Apr 29, 1453                      | 7     |\n * |                                 | PPP     | April 29th, 1453                  | 7     |\n * |                                 | PPPP    | Friday, April 29th, 1453          | 2,7   |\n * | Long localized time             | p       | 12:00 AM                          | 7     |\n * |                                 | pp      | 12:00:00 AM                       | 7     |\n * |                                 | ppp     | 12:00:00 AM GMT+2                 | 7     |\n * |                                 | pppp    | 12:00:00 AM GMT+02:00             | 2,7   |\n * | Combination of date and time    | Pp      | 04/29/1453, 12:00 AM              | 7     |\n * |                                 | PPpp    | Apr 29, 1453, 12:00:00 AM         | 7     |\n * |                                 | PPPppp  | April 29th, 1453 at ...           | 7     |\n * |                                 | PPPPpppp| Friday, April 29th, 1453 at ...   | 2,7   |\n * Notes:\n * 1. \"Formatting\" units (e.g. formatting quarter) in the default en-US locale\n *    are the same as \"stand-alone\" units, but are different in some languages.\n *    \"Formatting\" units are declined according to the rules of the language\n *    in the context of a date. \"Stand-alone\" units are always nominative singular:\n *\n *    `format(new Date(2017, 10, 6), 'do LLLL', {locale: cs}) //=> '6. listopad'`\n *\n *    `format(new Date(2017, 10, 6), 'do MMMM', {locale: cs}) //=> '6. listopadu'`\n *\n * 2. Any sequence of the identical letters is a pattern, unless it is escaped by\n *    the single quote characters (see below).\n *    If the sequence is longer than listed in table (e.g. `EEEEEEEEEEE`)\n *    the output will be the same as default pattern for this unit, usually\n *    the longest one (in case of ISO weekdays, `EEEE`). Default patterns for units\n *    are marked with \"2\" in the last column of the table.\n *\n *    `format(new Date(2017, 10, 6), 'MMM') //=> 'Nov'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMM') //=> 'N'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMM') //=> 'November'`\n *\n *    `format(new Date(2017, 10, 6), 'MMMMMMM') //=> 'November'`\n *\n * 3. Some patterns could be unlimited length (such as `yyyyyyyy`).\n *    The output will be padded with zeros to match the length of the pattern.\n *\n *    `format(new Date(2017, 10, 6), 'yyyyyyyy') //=> '00002017'`\n *\n * 4. `QQQQQ` and `qqqqq` could be not strictly numerical in some locales.\n *    These tokens represent the shortest form of the quarter.\n *\n * 5. The main difference between `y` and `u` patterns are B.C. years:\n *\n *    | Year | `y` | `u` |\n *    |------|-----|-----|\n *    | AC 1 |   1 |   1 |\n *    | BC 1 |   1 |   0 |\n *    | BC 2 |   2 |  -1 |\n *\n *    Also `yy` always returns the last two digits of a year,\n *    while `uu` pads single digit years to 2 characters and returns other years unchanged:\n *\n *    | Year | `yy` | `uu` |\n *    |------|------|------|\n *    | 1    |   01 |   01 |\n *    | 14   |   14 |   14 |\n *    | 376  |   76 |  376 |\n *    | 1453 |   53 | 1453 |\n *\n *    The same difference is true for local and ISO week-numbering years (`Y` and `R`),\n *    except local week-numbering years are dependent on `options.weekStartsOn`\n *    and `options.firstWeekContainsDate` (compare [getISOWeekYear](https://date-fns.org/docs/getISOWeekYear)\n *    and [getWeekYear](https://date-fns.org/docs/getWeekYear)).\n *\n * 6. Specific non-location timezones are currently unavailable in `date-fns`,\n *    so right now these tokens fall back to GMT timezones.\n *\n * 7. These patterns are not in the Unicode Technical Standard #35:\n *    - `i`: ISO day of week\n *    - `I`: ISO week of year\n *    - `R`: ISO week-numbering year\n *    - `t`: seconds timestamp\n *    - `T`: milliseconds timestamp\n *    - `o`: ordinal number modifier\n *    - `P`: long localized date\n *    - `p`: long localized time\n *\n * 8. `YY` and `YYYY` tokens represent week-numbering years but they are often confused with years.\n *    You should enable `options.useAdditionalWeekYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * 9. `D` and `DD` tokens represent days of the year but they are often confused with days of the month.\n *    You should enable `options.useAdditionalDayOfYearTokens` to use them. See: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n *\n * @param date - The original date\n * @param format - The string of tokens\n * @param options - An object with options\n *\n * @returns The formatted date string\n *\n * @throws `date` must not be Invalid Date\n * @throws `options.locale` must contain `localize` property\n * @throws `options.locale` must contain `formatLong` property\n * @throws use `yyyy` instead of `YYYY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `yy` instead of `YY` for formatting years using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `d` instead of `D` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws use `dd` instead of `DD` for formatting days of the month using [format provided] to the input [input provided]; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md\n * @throws format string contains an unescaped latin alphabet character\n *\n * @example\n * // Represent 11 February 2014 in middle-endian format:\n * const result = format(new Date(2014, 1, 11), 'MM/dd/yyyy')\n * //=> '02/11/2014'\n *\n * @example\n * // Represent 2 July 2014 in Esperanto:\n * import { eoLocale } from 'date-fns/locale/eo'\n * const result = format(new Date(2014, 6, 2), \"do 'de' MMMM yyyy\", {\n *   locale: eoLocale\n * })\n * //=> '2-a de julio 2014'\n *\n * @example\n * // Escape string by single quote characters:\n * const result = format(new Date(2014, 6, 2, 15), \"h 'o''clock'\")\n * //=> \"3 o'clock\"\n */\nexport function format(date, formatStr, options) {\n  const defaultOptions = getDefaultOptions();\n  const locale = options?.locale ?? defaultOptions.locale ?? defaultLocale;\n\n  const firstWeekContainsDate =\n    options?.firstWeekContainsDate ??\n    options?.locale?.options?.firstWeekContainsDate ??\n    defaultOptions.firstWeekContainsDate ??\n    defaultOptions.locale?.options?.firstWeekContainsDate ??\n    1;\n\n  const weekStartsOn =\n    options?.weekStartsOn ??\n    options?.locale?.options?.weekStartsOn ??\n    defaultOptions.weekStartsOn ??\n    defaultOptions.locale?.options?.weekStartsOn ??\n    0;\n\n  const originalDate = toDate(date, options?.in);\n\n  if (!isValid(originalDate)) {\n    throw new RangeError(\"Invalid time value\");\n  }\n\n  let parts = formatStr\n    .match(longFormattingTokensRegExp)\n    .map((substring) => {\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n        const longFormatter = longFormatters[firstCharacter];\n        return longFormatter(substring, locale.formatLong);\n      }\n      return substring;\n    })\n    .join(\"\")\n    .match(formattingTokensRegExp)\n    .map((substring) => {\n      // Replace two single quote characters with one single quote character\n      if (substring === \"''\") {\n        return { isToken: false, value: \"'\" };\n      }\n\n      const firstCharacter = substring[0];\n      if (firstCharacter === \"'\") {\n        return { isToken: false, value: cleanEscapedString(substring) };\n      }\n\n      if (formatters[firstCharacter]) {\n        return { isToken: true, value: substring };\n      }\n\n      if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n        throw new RangeError(\n          \"Format string contains an unescaped latin alphabet character `\" +\n            firstCharacter +\n            \"`\",\n        );\n      }\n\n      return { isToken: false, value: substring };\n    });\n\n  // invoke localize preprocessor (only for french locales at the moment)\n  if (locale.localize.preprocessor) {\n    parts = locale.localize.preprocessor(originalDate, parts);\n  }\n\n  const formatterOptions = {\n    firstWeekContainsDate,\n    weekStartsOn,\n    locale,\n  };\n\n  return parts\n    .map((part) => {\n      if (!part.isToken) return part.value;\n\n      const token = part.value;\n\n      if (\n        (!options?.useAdditionalWeekYearTokens &&\n          isProtectedWeekYearToken(token)) ||\n        (!options?.useAdditionalDayOfYearTokens &&\n          isProtectedDayOfYearToken(token))\n      ) {\n        warnOrThrowProtectedError(token, formatStr, String(date));\n      }\n\n      const formatter = formatters[token[0]];\n      return formatter(originalDate, token, locale.localize, formatterOptions);\n    })\n    .join(\"\");\n}\n\nfunction cleanEscapedString(input) {\n  const matched = input.match(escapedStringRegExp);\n\n  if (!matched) {\n    return input;\n  }\n\n  return matched[1].replace(doubleQuoteRegExp, \"'\");\n}\n\n// Fallback for modularized imports:\nexport default format;\n","// CSS Variables for chart theming with robust fallbacks\r\nexport const CHART_COLORS = {\r\n  primary: \"#3b82f6\",\r\n  secondary: \"#8b5cf6\",\r\n  success: \"#10b981\",\r\n  warning: \"#f59e0b\",\r\n  danger: \"#ef4444\",\r\n  volume: \"#3b82f6\",\r\n  progression: \"#10b981\",\r\n  fatigue: \"#ef4444\",\r\n  distribution: \"#8b5cf6\",\r\n  recentFatigue: \"#f59e0b\",\r\n  muted: \"#6b7280\",\r\n  axisText: \"#000000\",\r\n  axisTextDark: \"#ffffff\",\r\n};\r\n\r\nexport const CHART_THEMES = {\r\n  light: {\r\n    background: \"hsl(0, 0%, 100%)\",\r\n    foreground: \"hsl(222.2, 84%, 4.9%)\",\r\n    card: \"hsl(0, 0%, 100%)\",\r\n    cardForeground: \"hsl(222.2, 84%, 4.9%)\",\r\n    border: \"hsl(214.3, 31.8%, 91.4%)\",\r\n    muted: \"hsl(210, 40%, 98%)\",\r\n    mutedForeground: \"hsl(215.4, 16.3%, 46.9%)\",\r\n  },\r\n  dark: {\r\n    background: \"hsl(222.2, 84%, 4.9%)\",\r\n    foreground: \"hsl(210, 40%, 98%)\",\r\n    card: \"hsl(222.2, 84%, 4.9%)\",\r\n    cardForeground: \"hsl(210, 40%, 98%)\",\r\n    border: \"hsl(217.2, 32.6%, 17.5%)\",\r\n    muted: \"hsl(217.2, 32.6%, 17.5%)\",\r\n    mutedForeground: \"hsl(215, 20.2%, 65.1%)\",\r\n  },\r\n};\r\n\r\nexport const RESPONSIVE_BREAKPOINTS = {\r\n  mobile: 640,\r\n  tablet: 768,\r\n  desktop: 1024,\r\n  wide: 1280,\r\n};\r\n\r\n// Chart size configurations\r\nexport const CHART_SIZES = {\r\n  small: { height: 200, minHeight: 150 },\r\n  medium: { height: 300, minHeight: 250 },\r\n  large: { height: 400, minHeight: 350 },\r\n  extraLarge: { height: 500, minHeight: 450 },\r\n};\r\n\r\n// Animation configurations\r\nexport const CHART_ANIMATION = {\r\n  duration: 1200,\r\n  easing: \"ease-out\" as const,\r\n};\r\n\r\n// Data formatting configurations\r\nexport const DATA_FORMAT = {\r\n  dateFormat: \"MMM d\",\r\n  timeFormat: \"HH:mm\",\r\n  numberFormat: {\r\n    minimumFractionDigits: 0,\r\n    maximumFractionDigits: 2,\r\n  },\r\n};\r\n\r\n// Common tooltip style with improved contrast for dark mode\r\nexport const COMMON_TOOLTIP_PROPS = {\r\n  contentStyle: {\r\n    backgroundColor: \"#ffffff\",\r\n    borderColor: \"#e5e7eb\",\r\n    borderRadius: \"8px\",\r\n    boxShadow: \"0 4px 12px rgba(0,0,0,0.1)\",\r\n    padding: \"8px 12px\",\r\n    fontSize: \"12px\",\r\n    color: \"#374151\",\r\n    border: \"1px solid #e5e7eb\",\r\n  },\r\n  cursor: { fill: \"transparent\" },\r\n};\r\n\r\nexport const CHART_MARGINS = {\r\n  top: 5,\r\n  right: 10,\r\n  bottom: 5,\r\n  left: 0,\r\n};\r\n\r\nexport const COMMON_AXIS_PROPS = {\r\n  tickLine: false,\r\n  axisLine: false,\r\n  tick: {\r\n    fontSize: 12,\r\n    fill: \"#000000\",\r\n    fontWeight: 500,\r\n  },\r\n};\r\n\r\nexport const COMMON_GRID_PROPS = {\r\n  strokeDasharray: \"3 3\",\r\n  strokeOpacity: 0.2,\r\n  stroke: \"#e5e7eb\",\r\n};\r\n\r\nexport const COMMON_LEGEND_PROPS = {\r\n  wrapperStyle: {\r\n    color: \"#000000\",\r\n    fontSize: \"12px\",\r\n  },\r\n};\r\n","// ChartHelpers.tsx - Reusable components and utilities for charts\r\nimport React, { useState, useCallback } from 'react';\r\nimport { useTheme } from '@/contexts/ThemeContext';\r\n\r\n// --- Custom Chart Hooks ---\r\n\r\n/**\r\n * Hook for chart zooming functionality\r\n * @param initialDomain The initial domain for the chart\r\n * @param minRange Minimum range allowed for zooming (to prevent excessive zoom)\r\n */\r\nexport const useChartZoom = (initialDomain: [number, number], minRange = 10) => {\r\n  const [domain, setDomain] = useState<[number, number]>(initialDomain);\r\n  const [isZoomed, setIsZoomed] = useState(false);\r\n  \r\n  // Handle zoom event from recharts\r\n  const handleZoom = useCallback((domain: [number, number]) => {\r\n    const [start, end] = domain;\r\n    \r\n    // Prevent zooming beyond minimum range\r\n    if (end - start < minRange) return;\r\n    \r\n    setDomain(domain);\r\n    setIsZoomed(true);\r\n  }, [minRange]);\r\n  \r\n  // Reset zoom to initial domain\r\n  const resetZoom = useCallback(() => {\r\n    setDomain(initialDomain);\r\n    setIsZoomed(false);\r\n  }, [initialDomain]);\r\n\r\n  return { domain, isZoomed, handleZoom, resetZoom };\r\n};\r\n\r\n/**\r\n * Custom tooltip formatter for better display\r\n */\r\nexport const formatTooltipValue = (value: number, unit?: string, prefix?: string) => {\r\n  if (value === null || value === undefined) return 'N/A';\r\n  \r\n  let formattedValue = '';\r\n  \r\n  // Format large numbers\r\n  if (value >= 1000000) {\r\n    formattedValue = `${(value / 1000000).toFixed(1)}M`;\r\n  } else if (value >= 1000) {\r\n    formattedValue = `${(value / 1000).toFixed(1)}k`;\r\n  } else if (value % 1 === 0) {\r\n    formattedValue = value.toString();\r\n  } else {\r\n    formattedValue = value.toFixed(1);\r\n  }\r\n  \r\n  return `${prefix || ''}${formattedValue}${unit ? ` ${unit}` : ''}`;\r\n};\r\n\r\n/**\r\n * A reusable zoom control button\r\n */\r\nexport const ZoomControlButton: React.FC<{\r\n  isZoomed: boolean; \r\n  onReset: () => void;\r\n  className?: string;\r\n}> = ({ isZoomed, onReset, className = '' }) => {\r\n  if (!isZoomed) return null;\r\n  \r\n  return (\r\n    <button\r\n      onClick={onReset}\r\n      className={`absolute right-1 top-1 bg-primary/80 hover:bg-primary text-primary-foreground \r\n                  text-xs px-2 py-1 rounded-sm shadow-sm flex items-center ${className}`}\r\n      style={{ zIndex: 10 }}\r\n    >\r\n      <svg width=\"14\" height=\"14\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" className=\"mr-1\">\r\n        <path d=\"M15 15L21 21M10 17C6.13401 17 3 13.866 3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 13.866 13.866 17 10 17Z\" \r\n          stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n      </svg>\r\n      Reset\r\n    </button>\r\n  );\r\n};\r\n\r\n/**\r\n * Helper for ensuring dark/light mode compatibility in charts\r\n */\r\nexport const useChartTheme = () => {\r\n  const { theme } = useTheme();\r\n  \r\n  // Use the centralized theme context instead of manual detection\r\n  const isDarkMode = theme === 'dark' || (theme === 'system' && window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n  \r\n  return {\r\n    isDarkMode,\r\n    gridOpacity: isDarkMode ? 0.1 : 0.15,\r\n    gridColor: isDarkMode ? 'hsl(var(--muted-foreground))' : 'hsl(var(--muted-foreground))',\r\n    textColor: 'hsl(var(--muted-foreground))'\r\n  };\r\n};\r\n\r\n/**\r\n * Enhanced empty chart state with better styling\r\n */\r\nexport const EnhancedEmptyChart: React.FC<{\r\n  message: string;\r\n  icon?: React.ReactNode;\r\n}> = ({ message, icon }) => {\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center h-full p-6 rounded-md border border-dashed border-muted\">\r\n      {icon || (\r\n        <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" className=\"text-muted-foreground mb-2\">\r\n          <path d=\"M3 9H21M7 3V9M17 3V9M7 21H17M7 13H17M7 17H17\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\r\n        </svg>\r\n      )}\r\n      <p className=\"text-muted-foreground text-sm mt-1\">{message}</p>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\r\nimport { \r\n  AreaChart, \r\n  ResponsiveContainer, \r\n  CartesianGrid, \r\n  XAxis, \r\n  YAxis, \r\n  Tooltip, \r\n  Legend,\r\n  Area,\r\n} from 'recharts';\r\nimport { format } from 'date-fns';\r\nimport { CHART_COLORS, COMMON_TOOLTIP_PROPS } from './ChartConfig';\r\nimport { useChartTheme } from './ChartHelpers';\r\nimport './ChartStyles.css';\r\n\r\ninterface ChartComponentProps {\r\n  logs: WorkoutLogEntry[];\r\n}\r\n\r\n// Calculate fatigue and progression by date\r\nconst calculateFatigueAndProgressionByDate = (logs: WorkoutLogEntry[]) => {\r\n  if (!logs || logs.length === 0) return [];\r\n\r\n  // Get unique dates and sort them\r\n  const uniqueDates = [...new Set(logs.map(log => log.date))].sort();\r\n  \r\n  if (uniqueDates.length < 2) return [];\r\n\r\n  return uniqueDates.map((date, index) => {\r\n    const dateLogs = logs.filter(log => log.date === date);\r\n    \r\n    // Calculate daily volume for this date\r\n    const dailyVolume = dateLogs.reduce((sum, log) => sum + (log.weight * log.reps), 0);\r\n    \r\n    // Calculate progression (compared to previous session)\r\n    let progression = 0;\r\n    if (index > 0) {\r\n      const previousDate = uniqueDates[index - 1];\r\n      const previousLogs = logs.filter(log => log.date === previousDate);\r\n      \r\n      const currentAvgWeight = dateLogs.reduce((sum, log) => sum + log.weight, 0) / dateLogs.length;\r\n      const previousAvgWeight = previousLogs.reduce((sum, log) => sum + log.weight, 0) / previousLogs.length;\r\n      \r\n      if (previousAvgWeight > 0) {\r\n        progression = ((currentAvgWeight - previousAvgWeight) / previousAvgWeight) * 100;\r\n      }\r\n    }\r\n\r\n    // Calculate fatigue (current volume vs rolling 7-day peak volume)\r\n    const currentDateObj = new Date(date);\r\n    const last7Days = new Date(currentDateObj);\r\n    last7Days.setDate(last7Days.getDate() - 7);\r\n    \r\n    // Get all logs within the last 7 days from current date\r\n    const recentLogs = logs.filter(log => {\r\n      const logDate = new Date(log.date);\r\n      return logDate >= last7Days && logDate <= currentDateObj;\r\n    });\r\n    \r\n    // Group by date and find peak daily volume in the 7-day window\r\n    const dailyVolumes: { [date: string]: number } = {};\r\n    recentLogs.forEach(log => {\r\n      const logDate = log.date;\r\n      const volume = log.weight * log.reps;\r\n      dailyVolumes[logDate] = (dailyVolumes[logDate] || 0) + volume;\r\n    });\r\n    \r\n    const peakDailyVolume = Math.max(...Object.values(dailyVolumes), 1); // Avoid division by zero\r\n    const fatigue = Math.min((dailyVolume / peakDailyVolume) * 100, 100);\r\n    \r\n    return {\r\n      date,\r\n      progression: Math.max(-50, Math.min(50, parseFloat(progression.toFixed(2)))), // Cap between -50% and +50%\r\n      fatigue: parseFloat(fatigue.toFixed(2)),\r\n    };\r\n  });\r\n};\r\n\r\nexport const FatigueProgressionByDateChart: React.FC<ChartComponentProps> = ({ logs }) => {\r\n  const chartTheme = useChartTheme();\r\n  \r\n  // Calculate fatigue and progression by date\r\n  const data = useMemo(() => calculateFatigueAndProgressionByDate(logs), [logs]);\r\n  \r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <Card className=\"chart-card\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-base font-semibold\">Fatigue & Progression Over Time</CardTitle>\r\n          <CardDescription className=\"text-xs\">No data available.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"chart-container flex items-center justify-center\">\r\n            <p className=\"text-muted-foreground text-sm\">Log workouts to see fatigue and progression over time.</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Card className=\"chart-card\">\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-base font-semibold\">Fatigue & Progression Over Time</CardTitle>\r\n        <CardDescription className=\"text-xs\">Daily weight progression and fatigue levels over time.</CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"pt-0\">\r\n        <div className=\"chart-container\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <AreaChart\r\n              data={data}\r\n              margin={{ top: 5, right: 10, bottom: 5, left: 0 }}\r\n            >\r\n              <defs>\r\n                <linearGradient id=\"colorProgression\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor={CHART_COLORS.progression} stopOpacity={0.3} />\r\n                  <stop offset=\"95%\" stopColor={CHART_COLORS.progression} stopOpacity={0} />\r\n                </linearGradient>\r\n                <linearGradient id=\"colorFatigue\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\r\n                  <stop offset=\"5%\" stopColor={CHART_COLORS.fatigue} stopOpacity={0.3} />\r\n                  <stop offset=\"95%\" stopColor={CHART_COLORS.fatigue} stopOpacity={0} />\r\n                </linearGradient>\r\n              </defs>\r\n              <CartesianGrid \r\n                vertical={false} \r\n                strokeDasharray=\"3 3\" \r\n                strokeOpacity={chartTheme.gridOpacity}\r\n                stroke={chartTheme.gridColor} \r\n              />\r\n              <XAxis \r\n                dataKey=\"date\" \r\n                tickFormatter={(str) => format(new Date(str), 'MMM d')}\r\n                tick={{ fontSize: 12, fill: chartTheme.textColor }}\r\n                tickLine={false} \r\n                axisLine={false}\r\n                dy={5}\r\n              />\r\n              <YAxis \r\n                unit=\"%\" \r\n                tick={{ fontSize: 12, fill: chartTheme.textColor }}\r\n                tickLine={false} \r\n                axisLine={false}\r\n                dx={-5}\r\n              />\r\n              <Tooltip\r\n                formatter={(value: number, name: string) => [\r\n                  `${value.toFixed(2)}%`, \r\n                  name === 'progression' ? 'Weight Progression' : 'Fatigue Level'\r\n                ]}\r\n                labelFormatter={(str) => format(new Date(str), 'MMM d, yyyy')}\r\n                contentStyle={COMMON_TOOLTIP_PROPS.contentStyle}\r\n              />\r\n              <Legend\r\n                wrapperStyle={{ paddingTop: '8px' }}\r\n                formatter={(value) => <span style={{ fontSize: '12px' }}>{value}</span>}\r\n                iconSize={12}\r\n              />\r\n              <Area \r\n                type=\"monotone\"\r\n                dataKey=\"progression\" \r\n                name=\"Progression\" \r\n                stroke={CHART_COLORS.progression}\r\n                strokeWidth={2}\r\n                fillOpacity={0.6}\r\n                fill=\"url(#colorProgression)\"\r\n                activeDot={{ r: 5, strokeWidth: 1 }}\r\n                animationDuration={1500}\r\n                animationEasing=\"ease-out\"\r\n              />\r\n              <Area \r\n                type=\"monotone\"\r\n                dataKey=\"fatigue\" \r\n                name=\"Fatigue\" \r\n                stroke={CHART_COLORS.fatigue}\r\n                strokeWidth={2}\r\n                fillOpacity={0.6}\r\n                fill=\"url(#colorFatigue)\"\r\n                activeDot={{ r: 5, strokeWidth: 1 }}\r\n                animationDuration={1500}\r\n                animationEasing=\"ease-out\"\r\n              />\r\n            </AreaChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","// Workout Charts Dashboard - Main component for displaying all charts\r\nimport React from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport {\r\n  MuscleGroupVolumeDistributionRadarChart,\r\n  ProgressionByMuscleChart\r\n} from './index';\r\nimport { FatigueProgressionByDateChart } from './FatigueProgressionByMuscleChart';\r\n\r\ninterface WorkoutChartsDashboardProps {\r\n  workoutLogs: WorkoutLogEntry[];\r\n  isLoading?: boolean;\r\n  error?: string | null;\r\n}\r\n\r\nexport const WorkoutChartsDashboard: React.FC<WorkoutChartsDashboardProps> = ({\r\n  workoutLogs,\r\n  isLoading = false,\r\n  error\r\n}) => {\r\n  // Loading state\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {[...Array(3)].map((_, i) => (\r\n          <Card key={i} className=\"h-[400px]\">\r\n            <CardHeader>\r\n              <CardTitle className=\"h-4 bg-gray-200 rounded animate-pulse\" />\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"h-[300px] bg-gray-100 rounded animate-pulse\" />\r\n            </CardContent>\r\n          </Card>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Error state\r\n  if (error) {\r\n    return (\r\n      <Card className=\"p-6\">\r\n        <div className=\"text-center text-red-600\">\r\n          <p>Error loading charts: {error}</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  // No data state\r\n  if (!workoutLogs || workoutLogs.length === 0) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"p-8 text-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg\">\r\n          <h3 className=\"text-gray-600 dark:text-gray-400 font-medium\">No Workout Data</h3>\r\n          <p className=\"text-gray-500 dark:text-gray-500 text-sm mt-1\">\r\n            Start logging workouts to see your progress charts\r\n          </p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"text-center mb-6\">\r\n        <h2 className=\"text-2xl font-bold\">Workout Analytics Dashboard</h2>\r\n        <p className=\"text-muted-foreground\">Track your progression, weight distribution, and fatigue levels over time</p>\r\n      </div>\r\n      \r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        <div>\r\n          <ProgressionByMuscleChart logs={workoutLogs} />\r\n        </div>\r\n        \r\n        <div>\r\n          <MuscleGroupVolumeDistributionRadarChart logs={workoutLogs} />\r\n        </div>\r\n        \r\n        <div className=\"lg:col-span-2\">\r\n          <FatigueProgressionByDateChart logs={workoutLogs} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n// Export as default for easy importing\r\nexport default WorkoutChartsDashboard; ","import React from 'react';\r\nimport { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\r\nimport {\r\n  RadarChart,\r\n  ResponsiveContainer,\r\n  PolarGrid, PolarAngleAxis, PolarRadiusAxis, Radar,\r\n  Tooltip, Legend\r\n} from 'recharts';\r\nimport { CHART_COLORS, COMMON_TOOLTIP_PROPS } from './ChartConfig';\r\nimport './ChartStyles.css';\r\n\r\ninterface ChartComponentProps {\r\n  logs: WorkoutLogEntry[];\r\n}\r\n\r\n// Process muscle group weight distribution data (total volume per muscle group)\r\nconst processMuscleGroupWeightDistributionData = (logs: WorkoutLogEntry[]) => {\r\n  if (!logs || logs.length === 0) return [];\r\n  \r\n  const muscleGroupVolume: { [muscleGroup: string]: number } = {};\r\n  let totalVolume = 0;\r\n\r\n  logs.forEach((log) => {\r\n    const group = log.muscleGroup || \"Unknown\";\r\n    const volume = log.weight * log.reps; // Calculate volume (weight × reps)\r\n    muscleGroupVolume[group] = (muscleGroupVolume[group] || 0) + volume;\r\n    totalVolume += volume;\r\n  });\r\n\r\n  if (totalVolume === 0) {\r\n    return Object.keys(muscleGroupVolume).map((group) => ({\r\n      subject: group,\r\n      value: 0,\r\n      volume: 0,\r\n      fullMark: 100,\r\n    }));\r\n  }\r\n\r\n  return Object.entries(muscleGroupVolume)\r\n    .map(([muscleGroup, volume]) => ({\r\n      subject: muscleGroup,\r\n      value: parseFloat(((volume / totalVolume) * 100).toFixed(2)),\r\n      volume: volume,\r\n      fullMark: 100,\r\n    }))\r\n    .sort((a, b) => b.value - a.value);\r\n};\r\n\r\nexport const MuscleGroupVolumeDistributionRadarChart: React.FC<ChartComponentProps> = ({ logs }) => {\r\n  const data = processMuscleGroupWeightDistributionData(logs);\r\n  \r\n  if (data.length === 0) {\r\n    return (\r\n      <Card className=\"chart-card\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-base font-semibold\">Muscle Group Weight Distribution</CardTitle>\r\n          <CardDescription className=\"text-xs\">No data available.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"chart-container flex items-center justify-center\">\r\n            <p className=\"text-muted-foreground text-sm\">Log workouts to see weight distribution by muscle group.</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Card className=\"chart-card\">\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-base font-semibold\">Muscle Group Weight Distribution</CardTitle>\r\n        <CardDescription className=\"text-xs\">Percentage of total weight (volume) lifted per muscle group (all time).</CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"pt-0\">\r\n        <div className=\"chart-container\">\r\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n            <RadarChart data={data}>\r\n              <defs>\r\n                <radialGradient id=\"radarGradient\" cx=\"50%\" cy=\"50%\" r=\"50%\" fx=\"50%\" fy=\"50%\">\r\n                  <stop offset=\"0%\" stopColor={CHART_COLORS.distribution} stopOpacity={0.9} />\r\n                  <stop offset=\"80%\" stopColor={CHART_COLORS.distribution} stopOpacity={0.7} />\r\n                </radialGradient>\r\n              </defs>\r\n              <PolarGrid gridType=\"circle\" stroke=\"hsl(var(--muted-foreground))\" strokeWidth={1} opacity={0.3} />\r\n              <PolarAngleAxis \r\n                dataKey=\"subject\" \r\n                tickLine={false} \r\n                axisLine={false} \r\n                tick={{ \r\n                  fontSize: 12,\r\n                  fill: 'hsl(var(--muted-foreground))'\r\n                }} \r\n              />\r\n              <PolarRadiusAxis \r\n                angle={30} \r\n                domain={[0, 'auto']} \r\n                tickLine={false} \r\n                axisLine={false} \r\n                tick={{ \r\n                  fontSize: 11,\r\n                  fill: 'hsl(var(--muted-foreground))'\r\n                }} \r\n              />\r\n              <Tooltip \r\n                formatter={(value: number) => [`${value}%`, 'Weight Distribution']}\r\n                contentStyle={COMMON_TOOLTIP_PROPS.contentStyle}\r\n              />\r\n              <Legend \r\n                wrapperStyle={{ color: 'var(--foreground)' }}\r\n                formatter={(value) => (\r\n                  <span style={{ color: 'var(--foreground)', fontSize: '12px' }}>{value}</span>\r\n                )}\r\n              />\r\n              <Radar \r\n                dataKey=\"value\" \r\n                name=\"Weight Distribution\" \r\n                fill=\"url(#radarGradient)\" \r\n                fillOpacity={0.85} \r\n                stroke={CHART_COLORS.distribution} \r\n                strokeWidth={2.5}\r\n                strokeOpacity={0.9}\r\n              />\r\n            </RadarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\r\nimport { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\r\nimport { \r\n  BarChart, \r\n  ResponsiveContainer, \r\n  CartesianGrid, \r\n  XAxis, \r\n  YAxis, \r\n  Tooltip, \r\n  Legend,\r\n  Bar,\r\n  Cell,\r\n} from 'recharts';\r\nimport { CHART_COLORS, COMMON_TOOLTIP_PROPS } from './ChartConfig';\r\nimport { useChartTheme } from './ChartHelpers';\r\nimport './ChartStyles.css';\r\n\r\ninterface ChartComponentProps {\r\n  logs: WorkoutLogEntry[];\r\n}\r\n\r\n// Calculate weight progression by muscle group (no volume)\r\nconst calculateWeightProgressionByMuscle = (logs: WorkoutLogEntry[]) => {\r\n  if (!logs || logs.length === 0) return [];\r\n\r\n  // Get unique muscle groups\r\n  const muscleGroups = [...new Set(logs.map(log => log.muscleGroup))];\r\n  \r\n  return muscleGroups.map(group => {\r\n    const groupLogs = logs.filter(log => log.muscleGroup === group);\r\n    \r\n    if (groupLogs.length < 2) {\r\n      return { \r\n        muscleGroup: group, \r\n        progression: 0,\r\n      };\r\n    }\r\n\r\n    // Sort logs by date\r\n    const sortedLogs = groupLogs.sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());\r\n    \r\n    // Calculate progression from first session to most recent\r\n    const firstSession = sortedLogs.slice(0, Math.ceil(sortedLogs.length * 0.3)); // First 30% of sessions\r\n    const recentSession = sortedLogs.slice(-Math.ceil(sortedLogs.length * 0.3)); // Last 30% of sessions\r\n    \r\n    const firstAvgWeight = firstSession.reduce((sum, log) => sum + log.weight, 0) / firstSession.length;\r\n    const recentAvgWeight = recentSession.reduce((sum, log) => sum + log.weight, 0) / recentSession.length;\r\n    \r\n    const progression = firstAvgWeight > 0 \r\n      ? ((recentAvgWeight - firstAvgWeight) / firstAvgWeight) * 100\r\n      : 0;\r\n    \r\n    return { \r\n      muscleGroup: group, \r\n      progression: parseFloat(progression.toFixed(2)),\r\n    };\r\n  }).sort((a, b) => b.progression - a.progression); // Sort by progression rate\r\n};\r\n\r\nexport const ProgressionByMuscleChart: React.FC<ChartComponentProps> = ({ logs }) => {\r\n  const chartTheme = useChartTheme();\r\n  \r\n  // Calculate progression by muscle group\r\n  const data = useMemo(() => calculateWeightProgressionByMuscle(logs), [logs]);\r\n  \r\n  if (!data || data.length === 0) {\r\n    return (\r\n      <Card className=\"chart-card\">\r\n        <CardHeader className=\"pb-3\">\r\n          <CardTitle className=\"text-base font-semibold\">Weight Progression by Muscle Group</CardTitle>\r\n          <CardDescription className=\"text-xs\">No data available.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pt-0\">\r\n          <div className=\"chart-container flex items-center justify-center\">\r\n            <p className=\"text-muted-foreground text-sm\">Log workouts to see muscle group weight progression.</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Card className=\"chart-card\">\r\n      <CardHeader className=\"pb-3\">\r\n        <CardTitle className=\"text-base font-semibold\">Weight Progression by Muscle Group</CardTitle>\r\n        <CardDescription className=\"text-xs\">Average weight progression for each muscle group over time.</CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"pt-0\">\r\n        <div className=\"chart-container\">\r\n          <ResponsiveContainer width=\"110%\" height=\"100%\">\r\n            <BarChart\r\n              data={data}\r\n              margin={{ top: 20, right: 30, left: 0, bottom: 40 }}\r\n            >\r\n              <CartesianGrid \r\n                vertical={false} \r\n                strokeDasharray=\"3 3\" \r\n                strokeOpacity={chartTheme.gridOpacity}\r\n                stroke={chartTheme.gridColor} \r\n              />\r\n              <XAxis \r\n                dataKey=\"muscleGroup\" \r\n                tick={{ fontSize: 12, fill: chartTheme.textColor }}\r\n                tickLine={false} \r\n                axisLine={false}\r\n                angle={-45}\r\n                textAnchor=\"end\" \r\n                height={60}\r\n                interval={0}\r\n              />\r\n              <YAxis \r\n                unit=\"%\" \r\n                tick={{ fontSize: 12, fill: chartTheme.textColor }}\r\n                tickLine={false} \r\n                axisLine={false} \r\n              />\r\n              <Tooltip\r\n                formatter={(value: number) => [`${value.toFixed(2)}%`, 'Weight Progression']}\r\n                contentStyle={COMMON_TOOLTIP_PROPS.contentStyle}\r\n              />\r\n              <Legend\r\n                wrapperStyle={{ paddingTop: '8px' }}\r\n                formatter={(value) => <span style={{ fontSize: '12px' }}>{value}</span>}\r\n                iconSize={12}\r\n              />\r\n              <Bar \r\n                dataKey=\"progression\" \r\n                name=\"Weight Progression Rate\" \r\n                radius={[4, 4, 0, 0]}\r\n                barSize={30}\r\n                animationDuration={1500}\r\n                animationEasing=\"ease-out\"\r\n              >\r\n                {data.map((entry, index) => (\r\n                  <Cell \r\n                    key={`cell-${index}`} \r\n                    fill={entry.progression > 0 ? CHART_COLORS.progression : CHART_COLORS.fatigue} \r\n                  />\r\n                ))}\r\n              </Bar>\r\n            </BarChart>\r\n          </ResponsiveContainer>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { ProgressionByMuscleChart } from '@/components/charts';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\nexport const ProgressionByMuscleCard: React.FC = () => {\r\n  const { workoutLogs, isLoading, error } = useWorkoutLogs();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Card className=\"h-[400px]\">\r\n        <CardHeader>\r\n          <CardTitle className=\"h-4 bg-gray-200 rounded animate-pulse\" />\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"h-[300px] bg-gray-100 rounded animate-pulse\" />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"p-6\">\r\n        <div className=\"text-center text-red-600\">\r\n          <p>Error loading progression chart: {error}</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!workoutLogs || workoutLogs.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6\">\r\n          <h3 className=\"text-gray-600 dark:text-gray-400 font-medium\">No Progression Data</h3>\r\n          <p className=\"text-gray-500 dark:text-gray-500 text-sm mt-1\">\r\n            Start logging workouts to see your progression by muscle group\r\n          </p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return <ProgressionByMuscleChart logs={workoutLogs} />;\r\n}; ","import React from 'react';\r\nimport { MuscleGroupVolumeDistributionRadarChart } from '@/components/charts';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\nexport const MuscleGroupVolumeCard: React.FC = () => {\r\n  const { workoutLogs, isLoading, error } = useWorkoutLogs();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Card className=\"h-[400px]\">\r\n        <CardHeader>\r\n          <CardTitle className=\"h-4 bg-gray-200 rounded animate-pulse\" />\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"h-[300px] bg-gray-100 rounded animate-pulse\" />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"p-6\">\r\n        <div className=\"text-center text-red-600\">\r\n          <p>Error loading volume chart: {error}</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!workoutLogs || workoutLogs.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6\">\r\n          <h3 className=\"text-gray-600 dark:text-gray-400 font-medium\">No Volume Data</h3>\r\n          <p className=\"text-gray-500 dark:text-gray-500 text-sm mt-1\">\r\n            Start logging workouts to see muscle group volume distribution\r\n          </p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return <MuscleGroupVolumeDistributionRadarChart logs={workoutLogs} />;\r\n}; ","import React from 'react';\r\nimport { FatigueProgressionByDateChart } from '@/components/charts/FatigueProgressionByMuscleChart';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\nexport const FatigueProgressionCard: React.FC = () => {\r\n  const { workoutLogs, isLoading, error } = useWorkoutLogs();\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Card className=\"h-[400px]\">\r\n        <CardHeader>\r\n          <CardTitle className=\"h-4 bg-gray-200 rounded animate-pulse\" />\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"h-[300px] bg-gray-100 rounded animate-pulse\" />\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"p-6\">\r\n        <div className=\"text-center text-red-600\">\r\n          <p>Error loading fatigue chart: {error}</p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (!workoutLogs || workoutLogs.length === 0) {\r\n    return (\r\n      <Card className=\"p-8\">\r\n        <div className=\"text-center border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-6\">\r\n          <h3 className=\"text-gray-600 dark:text-gray-400 font-medium\">No Fatigue Data</h3>\r\n          <p className=\"text-gray-500 dark:text-gray-500 text-sm mt-1\">\r\n            Start logging workouts to see fatigue progression over time\r\n          </p>\r\n        </div>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return <FatigueProgressionByDateChart logs={workoutLogs} />;\r\n}; ","import React from 'react';\r\nimport { PlusCircle } from 'lucide-react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\n\r\nexport const NewWorkoutActionCard: React.FC = () => {\r\n  const handleOpenWorkoutModal = () => {\r\n    window.dispatchEvent(new Event('open-add-workout-modal'));\r\n  };\r\n\r\n  return (\r\n    <Card \r\n      className=\"transition-all hover:shadow-md hover:translate-y-[-2px] duration-300 cursor-pointer\"\r\n      onClick={handleOpenWorkoutModal}\r\n    >\r\n      <CardContent className=\"p-5\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center text-primary\">\r\n            <PlusCircle className=\"h-5 w-5\" />\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-medium\">New Workout</h4>\r\n            <p className=\"text-sm text-muted-foreground\">Start tracking now</p>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","import React from 'react';\r\nimport { LineChart } from 'lucide-react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\n\r\nexport const AnalyticsActionCard: React.FC = () => {\r\n  const handleAnalyticsClick = () => {\r\n    // Add navigation to analytics page when implemented\r\n    console.log('Navigate to analytics');\r\n  };\r\n\r\n  return (\r\n    <Card \r\n      className=\"transition-all hover:shadow-md hover:translate-y-[-2px] duration-300 cursor-pointer\"\r\n      onClick={handleAnalyticsClick}\r\n    >\r\n      <CardContent className=\"p-5\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"h-10 w-10 rounded-full bg-accent-light flex items-center justify-center text-accent\">\r\n            <LineChart className=\"h-5 w-5\" />\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-medium\">Analytics</h4>\r\n            <p className=\"text-sm text-muted-foreground\">View detailed stats</p>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","import React from 'react';\r\nimport { Activity } from 'lucide-react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\n\r\nexport const SetGoalsActionCard: React.FC = () => {\r\n  const handleSetGoalsClick = () => {\r\n    // Add navigation to goals page when implemented\r\n    console.log('Navigate to set goals');\r\n  };\r\n\r\n  return (\r\n    <Card \r\n      className=\"transition-all hover:shadow-md hover:translate-y-[-2px] duration-300 cursor-pointer\"\r\n      onClick={handleSetGoalsClick}\r\n    >\r\n      <CardContent className=\"p-5\">\r\n        <div className=\"flex items-center gap-4\">\r\n          <div className=\"h-10 w-10 rounded-full bg-secondary/20 flex items-center justify-center text-foreground\">\r\n            <Activity className=\"h-5 w-5\" />\r\n          </div>\r\n          <div>\r\n            <h4 className=\"font-medium\">Set Goals</h4>\r\n            <p className=\"text-sm text-muted-foreground\">Define your targets</p>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","/**\n   * table-core\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\n// type Person = {\n//   firstName: string\n//   lastName: string\n//   age: number\n//   visits: number\n//   status: string\n//   progress: number\n//   createdAt: Date\n//   nested: {\n//     foo: [\n//       {\n//         bar: 'bar'\n//       }\n//     ]\n//     bar: { subBar: boolean }[]\n//     baz: {\n//       foo: 'foo'\n//       bar: {\n//         baz: 'baz'\n//       }\n//     }\n//   }\n// }\n\n// const test: DeepKeys<Person> = 'nested.foo.0.bar'\n// const test2: DeepKeys<Person> = 'nested.bar'\n\n// const helper = createColumnHelper<Person>()\n\n// helper.accessor('nested.foo', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.foo.0.bar', {\n//   cell: info => info.getValue(),\n// })\n\n// helper.accessor('nested.bar', {\n//   cell: info => info.getValue(),\n// })\n\nfunction createColumnHelper() {\n  return {\n    accessor: (accessor, column) => {\n      return typeof accessor === 'function' ? {\n        ...column,\n        accessorFn: accessor\n      } : {\n        ...column,\n        accessorKey: accessor\n      };\n    },\n    display: column => column,\n    group: column => column\n  };\n}\n\n// Is this type a tuple?\n\n// If this type is a tuple, what indices are allowed?\n\n///\n\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction noop() {\n  //\n}\nfunction makeStateUpdater(key, instance) {\n  return updater => {\n    instance.setState(old => {\n      return {\n        ...old,\n        [key]: functionalUpdate(updater, old[key])\n      };\n    });\n  };\n}\nfunction isFunction(d) {\n  return d instanceof Function;\n}\nfunction isNumberArray(d) {\n  return Array.isArray(d) && d.every(val => typeof val === 'number');\n}\nfunction flattenBy(arr, getChildren) {\n  const flat = [];\n  const recurse = subArr => {\n    subArr.forEach(item => {\n      flat.push(item);\n      const children = getChildren(item);\n      if (children != null && children.length) {\n        recurse(children);\n      }\n    });\n  };\n  recurse(arr);\n  return flat;\n}\nfunction memo(getDeps, fn, opts) {\n  let deps = [];\n  let result;\n  return depArgs => {\n    let depTime;\n    if (opts.key && opts.debug) depTime = Date.now();\n    const newDeps = getDeps(depArgs);\n    const depsChanged = newDeps.length !== deps.length || newDeps.some((dep, index) => deps[index] !== dep);\n    if (!depsChanged) {\n      return result;\n    }\n    deps = newDeps;\n    let resultTime;\n    if (opts.key && opts.debug) resultTime = Date.now();\n    result = fn(...newDeps);\n    opts == null || opts.onChange == null || opts.onChange(result);\n    if (opts.key && opts.debug) {\n      if (opts != null && opts.debug()) {\n        const depEndTime = Math.round((Date.now() - depTime) * 100) / 100;\n        const resultEndTime = Math.round((Date.now() - resultTime) * 100) / 100;\n        const resultFpsPercentage = resultEndTime / 16;\n        const pad = (str, num) => {\n          str = String(str);\n          while (str.length < num) {\n            str = ' ' + str;\n          }\n          return str;\n        };\n        console.info(`%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`, `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(0, Math.min(120 - 120 * resultFpsPercentage, 120))}deg 100% 31%);`, opts == null ? void 0 : opts.key);\n      }\n    }\n    return result;\n  };\n}\nfunction getMemoOptions(tableOptions, debugLevel, key, onChange) {\n  return {\n    debug: () => {\n      var _tableOptions$debugAl;\n      return (_tableOptions$debugAl = tableOptions == null ? void 0 : tableOptions.debugAll) != null ? _tableOptions$debugAl : tableOptions[debugLevel];\n    },\n    key: process.env.NODE_ENV === 'development' && key,\n    onChange\n  };\n}\n\nfunction createCell(table, row, column, columnId) {\n  const getRenderValue = () => {\n    var _cell$getValue;\n    return (_cell$getValue = cell.getValue()) != null ? _cell$getValue : table.options.renderFallbackValue;\n  };\n  const cell = {\n    id: `${row.id}_${column.id}`,\n    row,\n    column,\n    getValue: () => row.getValue(columnId),\n    renderValue: getRenderValue,\n    getContext: memo(() => [table, column, row, cell], (table, column, row, cell) => ({\n      table,\n      column,\n      row,\n      cell: cell,\n      getValue: cell.getValue,\n      renderValue: cell.renderValue\n    }), getMemoOptions(table.options, 'debugCells', 'cell.getContext'))\n  };\n  table._features.forEach(feature => {\n    feature.createCell == null || feature.createCell(cell, column, row, table);\n  }, {});\n  return cell;\n}\n\nfunction createColumn(table, columnDef, depth, parent) {\n  var _ref, _resolvedColumnDef$id;\n  const defaultColumn = table._getDefaultColumnDef();\n  const resolvedColumnDef = {\n    ...defaultColumn,\n    ...columnDef\n  };\n  const accessorKey = resolvedColumnDef.accessorKey;\n  let id = (_ref = (_resolvedColumnDef$id = resolvedColumnDef.id) != null ? _resolvedColumnDef$id : accessorKey ? typeof String.prototype.replaceAll === 'function' ? accessorKey.replaceAll('.', '_') : accessorKey.replace(/\\./g, '_') : undefined) != null ? _ref : typeof resolvedColumnDef.header === 'string' ? resolvedColumnDef.header : undefined;\n  let accessorFn;\n  if (resolvedColumnDef.accessorFn) {\n    accessorFn = resolvedColumnDef.accessorFn;\n  } else if (accessorKey) {\n    // Support deep accessor keys\n    if (accessorKey.includes('.')) {\n      accessorFn = originalRow => {\n        let result = originalRow;\n        for (const key of accessorKey.split('.')) {\n          var _result;\n          result = (_result = result) == null ? void 0 : _result[key];\n          if (process.env.NODE_ENV !== 'production' && result === undefined) {\n            console.warn(`\"${key}\" in deeply nested key \"${accessorKey}\" returned undefined.`);\n          }\n        }\n        return result;\n      };\n    } else {\n      accessorFn = originalRow => originalRow[resolvedColumnDef.accessorKey];\n    }\n  }\n  if (!id) {\n    if (process.env.NODE_ENV !== 'production') {\n      throw new Error(resolvedColumnDef.accessorFn ? `Columns require an id when using an accessorFn` : `Columns require an id when using a non-string header`);\n    }\n    throw new Error();\n  }\n  let column = {\n    id: `${String(id)}`,\n    accessorFn,\n    parent: parent,\n    depth,\n    columnDef: resolvedColumnDef,\n    columns: [],\n    getFlatColumns: memo(() => [true], () => {\n      var _column$columns;\n      return [column, ...((_column$columns = column.columns) == null ? void 0 : _column$columns.flatMap(d => d.getFlatColumns()))];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getFlatColumns')),\n    getLeafColumns: memo(() => [table._getOrderColumnsFn()], orderColumns => {\n      var _column$columns2;\n      if ((_column$columns2 = column.columns) != null && _column$columns2.length) {\n        let leafColumns = column.columns.flatMap(column => column.getLeafColumns());\n        return orderColumns(leafColumns);\n      }\n      return [column];\n    }, getMemoOptions(table.options, 'debugColumns', 'column.getLeafColumns'))\n  };\n  for (const feature of table._features) {\n    feature.createColumn == null || feature.createColumn(column, table);\n  }\n\n  // Yes, we have to convert table to unknown, because we know more than the compiler here.\n  return column;\n}\n\nconst debug = 'debugHeaders';\n//\n\nfunction createHeader(table, column, options) {\n  var _options$id;\n  const id = (_options$id = options.id) != null ? _options$id : column.id;\n  let header = {\n    id,\n    column,\n    index: options.index,\n    isPlaceholder: !!options.isPlaceholder,\n    placeholderId: options.placeholderId,\n    depth: options.depth,\n    subHeaders: [],\n    colSpan: 0,\n    rowSpan: 0,\n    headerGroup: null,\n    getLeafHeaders: () => {\n      const leafHeaders = [];\n      const recurseHeader = h => {\n        if (h.subHeaders && h.subHeaders.length) {\n          h.subHeaders.map(recurseHeader);\n        }\n        leafHeaders.push(h);\n      };\n      recurseHeader(header);\n      return leafHeaders;\n    },\n    getContext: () => ({\n      table,\n      header: header,\n      column\n    })\n  };\n  table._features.forEach(feature => {\n    feature.createHeader == null || feature.createHeader(header, table);\n  });\n  return header;\n}\nconst Headers = {\n  createTable: table => {\n    // Header Groups\n\n    table.getHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      var _left$map$filter, _right$map$filter;\n      const leftColumns = (_left$map$filter = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter : [];\n      const rightColumns = (_right$map$filter = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter : [];\n      const centerColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      const headerGroups = buildHeaderGroups(allColumns, [...leftColumns, ...centerColumns, ...rightColumns], table);\n      return headerGroups;\n    }, getMemoOptions(table.options, debug, 'getHeaderGroups'));\n    table.getCenterHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, leafColumns, left, right) => {\n      leafColumns = leafColumns.filter(column => !(left != null && left.includes(column.id)) && !(right != null && right.includes(column.id)));\n      return buildHeaderGroups(allColumns, leafColumns, table, 'center');\n    }, getMemoOptions(table.options, debug, 'getCenterHeaderGroups'));\n    table.getLeftHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.left], (allColumns, leafColumns, left) => {\n      var _left$map$filter2;\n      const orderedLeafColumns = (_left$map$filter2 = left == null ? void 0 : left.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _left$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'left');\n    }, getMemoOptions(table.options, debug, 'getLeftHeaderGroups'));\n    table.getRightHeaderGroups = memo(() => [table.getAllColumns(), table.getVisibleLeafColumns(), table.getState().columnPinning.right], (allColumns, leafColumns, right) => {\n      var _right$map$filter2;\n      const orderedLeafColumns = (_right$map$filter2 = right == null ? void 0 : right.map(columnId => leafColumns.find(d => d.id === columnId)).filter(Boolean)) != null ? _right$map$filter2 : [];\n      return buildHeaderGroups(allColumns, orderedLeafColumns, table, 'right');\n    }, getMemoOptions(table.options, debug, 'getRightHeaderGroups'));\n\n    // Footer Groups\n\n    table.getFooterGroups = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getFooterGroups'));\n    table.getLeftFooterGroups = memo(() => [table.getLeftHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getLeftFooterGroups'));\n    table.getCenterFooterGroups = memo(() => [table.getCenterHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getCenterFooterGroups'));\n    table.getRightFooterGroups = memo(() => [table.getRightHeaderGroups()], headerGroups => {\n      return [...headerGroups].reverse();\n    }, getMemoOptions(table.options, debug, 'getRightFooterGroups'));\n\n    // Flat Headers\n\n    table.getFlatHeaders = memo(() => [table.getHeaderGroups()], headerGroups => {\n      return headerGroups.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getFlatHeaders'));\n    table.getLeftFlatHeaders = memo(() => [table.getLeftHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeftFlatHeaders'));\n    table.getCenterFlatHeaders = memo(() => [table.getCenterHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getCenterFlatHeaders'));\n    table.getRightFlatHeaders = memo(() => [table.getRightHeaderGroups()], left => {\n      return left.map(headerGroup => {\n        return headerGroup.headers;\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getRightFlatHeaders'));\n\n    // Leaf Headers\n\n    table.getCenterLeafHeaders = memo(() => [table.getCenterFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders;\n        return !((_header$subHeaders = header.subHeaders) != null && _header$subHeaders.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getCenterLeafHeaders'));\n    table.getLeftLeafHeaders = memo(() => [table.getLeftFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders2;\n        return !((_header$subHeaders2 = header.subHeaders) != null && _header$subHeaders2.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getLeftLeafHeaders'));\n    table.getRightLeafHeaders = memo(() => [table.getRightFlatHeaders()], flatHeaders => {\n      return flatHeaders.filter(header => {\n        var _header$subHeaders3;\n        return !((_header$subHeaders3 = header.subHeaders) != null && _header$subHeaders3.length);\n      });\n    }, getMemoOptions(table.options, debug, 'getRightLeafHeaders'));\n    table.getLeafHeaders = memo(() => [table.getLeftHeaderGroups(), table.getCenterHeaderGroups(), table.getRightHeaderGroups()], (left, center, right) => {\n      var _left$0$headers, _left$, _center$0$headers, _center$, _right$0$headers, _right$;\n      return [...((_left$0$headers = (_left$ = left[0]) == null ? void 0 : _left$.headers) != null ? _left$0$headers : []), ...((_center$0$headers = (_center$ = center[0]) == null ? void 0 : _center$.headers) != null ? _center$0$headers : []), ...((_right$0$headers = (_right$ = right[0]) == null ? void 0 : _right$.headers) != null ? _right$0$headers : [])].map(header => {\n        return header.getLeafHeaders();\n      }).flat();\n    }, getMemoOptions(table.options, debug, 'getLeafHeaders'));\n  }\n};\nfunction buildHeaderGroups(allColumns, columnsToGroup, table, headerFamily) {\n  var _headerGroups$0$heade, _headerGroups$;\n  // Find the max depth of the columns:\n  // build the leaf column row\n  // build each buffer row going up\n  //    placeholder for non-existent level\n  //    real column for existing level\n\n  let maxDepth = 0;\n  const findMaxDepth = function (columns, depth) {\n    if (depth === void 0) {\n      depth = 1;\n    }\n    maxDepth = Math.max(maxDepth, depth);\n    columns.filter(column => column.getIsVisible()).forEach(column => {\n      var _column$columns;\n      if ((_column$columns = column.columns) != null && _column$columns.length) {\n        findMaxDepth(column.columns, depth + 1);\n      }\n    }, 0);\n  };\n  findMaxDepth(allColumns);\n  let headerGroups = [];\n  const createHeaderGroup = (headersToGroup, depth) => {\n    // The header group we are creating\n    const headerGroup = {\n      depth,\n      id: [headerFamily, `${depth}`].filter(Boolean).join('_'),\n      headers: []\n    };\n\n    // The parent columns we're going to scan next\n    const pendingParentHeaders = [];\n\n    // Scan each column for parents\n    headersToGroup.forEach(headerToGroup => {\n      // What is the latest (last) parent column?\n\n      const latestPendingParentHeader = [...pendingParentHeaders].reverse()[0];\n      const isLeafHeader = headerToGroup.column.depth === headerGroup.depth;\n      let column;\n      let isPlaceholder = false;\n      if (isLeafHeader && headerToGroup.column.parent) {\n        // The parent header is new\n        column = headerToGroup.column.parent;\n      } else {\n        // The parent header is repeated\n        column = headerToGroup.column;\n        isPlaceholder = true;\n      }\n      if (latestPendingParentHeader && (latestPendingParentHeader == null ? void 0 : latestPendingParentHeader.column) === column) {\n        // This column is repeated. Add it as a sub header to the next batch\n        latestPendingParentHeader.subHeaders.push(headerToGroup);\n      } else {\n        // This is a new header. Let's create it\n        const header = createHeader(table, column, {\n          id: [headerFamily, depth, column.id, headerToGroup == null ? void 0 : headerToGroup.id].filter(Boolean).join('_'),\n          isPlaceholder,\n          placeholderId: isPlaceholder ? `${pendingParentHeaders.filter(d => d.column === column).length}` : undefined,\n          depth,\n          index: pendingParentHeaders.length\n        });\n\n        // Add the headerToGroup as a subHeader of the new header\n        header.subHeaders.push(headerToGroup);\n        // Add the new header to the pendingParentHeaders to get grouped\n        // in the next batch\n        pendingParentHeaders.push(header);\n      }\n      headerGroup.headers.push(headerToGroup);\n      headerToGroup.headerGroup = headerGroup;\n    });\n    headerGroups.push(headerGroup);\n    if (depth > 0) {\n      createHeaderGroup(pendingParentHeaders, depth - 1);\n    }\n  };\n  const bottomHeaders = columnsToGroup.map((column, index) => createHeader(table, column, {\n    depth: maxDepth,\n    index\n  }));\n  createHeaderGroup(bottomHeaders, maxDepth - 1);\n  headerGroups.reverse();\n\n  // headerGroups = headerGroups.filter(headerGroup => {\n  //   return !headerGroup.headers.every(header => header.isPlaceholder)\n  // })\n\n  const recurseHeadersForSpans = headers => {\n    const filteredHeaders = headers.filter(header => header.column.getIsVisible());\n    return filteredHeaders.map(header => {\n      let colSpan = 0;\n      let rowSpan = 0;\n      let childRowSpans = [0];\n      if (header.subHeaders && header.subHeaders.length) {\n        childRowSpans = [];\n        recurseHeadersForSpans(header.subHeaders).forEach(_ref => {\n          let {\n            colSpan: childColSpan,\n            rowSpan: childRowSpan\n          } = _ref;\n          colSpan += childColSpan;\n          childRowSpans.push(childRowSpan);\n        });\n      } else {\n        colSpan = 1;\n      }\n      const minChildRowSpan = Math.min(...childRowSpans);\n      rowSpan = rowSpan + minChildRowSpan;\n      header.colSpan = colSpan;\n      header.rowSpan = rowSpan;\n      return {\n        colSpan,\n        rowSpan\n      };\n    });\n  };\n  recurseHeadersForSpans((_headerGroups$0$heade = (_headerGroups$ = headerGroups[0]) == null ? void 0 : _headerGroups$.headers) != null ? _headerGroups$0$heade : []);\n  return headerGroups;\n}\n\nconst createRow = (table, id, original, rowIndex, depth, subRows, parentId) => {\n  let row = {\n    id,\n    index: rowIndex,\n    original,\n    depth,\n    parentId,\n    _valuesCache: {},\n    _uniqueValuesCache: {},\n    getValue: columnId => {\n      if (row._valuesCache.hasOwnProperty(columnId)) {\n        return row._valuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      row._valuesCache[columnId] = column.accessorFn(row.original, rowIndex);\n      return row._valuesCache[columnId];\n    },\n    getUniqueValues: columnId => {\n      if (row._uniqueValuesCache.hasOwnProperty(columnId)) {\n        return row._uniqueValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.accessorFn)) {\n        return undefined;\n      }\n      if (!column.columnDef.getUniqueValues) {\n        row._uniqueValuesCache[columnId] = [row.getValue(columnId)];\n        return row._uniqueValuesCache[columnId];\n      }\n      row._uniqueValuesCache[columnId] = column.columnDef.getUniqueValues(row.original, rowIndex);\n      return row._uniqueValuesCache[columnId];\n    },\n    renderValue: columnId => {\n      var _row$getValue;\n      return (_row$getValue = row.getValue(columnId)) != null ? _row$getValue : table.options.renderFallbackValue;\n    },\n    subRows: subRows != null ? subRows : [],\n    getLeafRows: () => flattenBy(row.subRows, d => d.subRows),\n    getParentRow: () => row.parentId ? table.getRow(row.parentId, true) : undefined,\n    getParentRows: () => {\n      let parentRows = [];\n      let currentRow = row;\n      while (true) {\n        const parentRow = currentRow.getParentRow();\n        if (!parentRow) break;\n        parentRows.push(parentRow);\n        currentRow = parentRow;\n      }\n      return parentRows.reverse();\n    },\n    getAllCells: memo(() => [table.getAllLeafColumns()], leafColumns => {\n      return leafColumns.map(column => {\n        return createCell(table, row, column, column.id);\n      });\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCells')),\n    _getAllCellsByColumnId: memo(() => [row.getAllCells()], allCells => {\n      return allCells.reduce((acc, cell) => {\n        acc[cell.column.id] = cell;\n        return acc;\n      }, {});\n    }, getMemoOptions(table.options, 'debugRows', 'getAllCellsByColumnId'))\n  };\n  for (let i = 0; i < table._features.length; i++) {\n    const feature = table._features[i];\n    feature == null || feature.createRow == null || feature.createRow(row, table);\n  }\n  return row;\n};\n\n//\n\nconst ColumnFaceting = {\n  createColumn: (column, table) => {\n    column._getFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, column.id);\n    column.getFacetedRowModel = () => {\n      if (!column._getFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return column._getFacetedRowModel();\n    };\n    column._getFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, column.id);\n    column.getFacetedUniqueValues = () => {\n      if (!column._getFacetedUniqueValues) {\n        return new Map();\n      }\n      return column._getFacetedUniqueValues();\n    };\n    column._getFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, column.id);\n    column.getFacetedMinMaxValues = () => {\n      if (!column._getFacetedMinMaxValues) {\n        return undefined;\n      }\n      return column._getFacetedMinMaxValues();\n    };\n  }\n};\n\nconst includesString = (row, columnId, filterValue) => {\n  var _filterValue$toString, _row$getValue;\n  const search = filterValue == null || (_filterValue$toString = filterValue.toString()) == null ? void 0 : _filterValue$toString.toLowerCase();\n  return Boolean((_row$getValue = row.getValue(columnId)) == null || (_row$getValue = _row$getValue.toString()) == null || (_row$getValue = _row$getValue.toLowerCase()) == null ? void 0 : _row$getValue.includes(search));\n};\nincludesString.autoRemove = val => testFalsey(val);\nconst includesStringSensitive = (row, columnId, filterValue) => {\n  var _row$getValue2;\n  return Boolean((_row$getValue2 = row.getValue(columnId)) == null || (_row$getValue2 = _row$getValue2.toString()) == null ? void 0 : _row$getValue2.includes(filterValue));\n};\nincludesStringSensitive.autoRemove = val => testFalsey(val);\nconst equalsString = (row, columnId, filterValue) => {\n  var _row$getValue3;\n  return ((_row$getValue3 = row.getValue(columnId)) == null || (_row$getValue3 = _row$getValue3.toString()) == null ? void 0 : _row$getValue3.toLowerCase()) === (filterValue == null ? void 0 : filterValue.toLowerCase());\n};\nequalsString.autoRemove = val => testFalsey(val);\nconst arrIncludes = (row, columnId, filterValue) => {\n  var _row$getValue4;\n  return (_row$getValue4 = row.getValue(columnId)) == null ? void 0 : _row$getValue4.includes(filterValue);\n};\narrIncludes.autoRemove = val => testFalsey(val);\nconst arrIncludesAll = (row, columnId, filterValue) => {\n  return !filterValue.some(val => {\n    var _row$getValue5;\n    return !((_row$getValue5 = row.getValue(columnId)) != null && _row$getValue5.includes(val));\n  });\n};\narrIncludesAll.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst arrIncludesSome = (row, columnId, filterValue) => {\n  return filterValue.some(val => {\n    var _row$getValue6;\n    return (_row$getValue6 = row.getValue(columnId)) == null ? void 0 : _row$getValue6.includes(val);\n  });\n};\narrIncludesSome.autoRemove = val => testFalsey(val) || !(val != null && val.length);\nconst equals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) === filterValue;\n};\nequals.autoRemove = val => testFalsey(val);\nconst weakEquals = (row, columnId, filterValue) => {\n  return row.getValue(columnId) == filterValue;\n};\nweakEquals.autoRemove = val => testFalsey(val);\nconst inNumberRange = (row, columnId, filterValue) => {\n  let [min, max] = filterValue;\n  const rowValue = row.getValue(columnId);\n  return rowValue >= min && rowValue <= max;\n};\ninNumberRange.resolveFilterValue = val => {\n  let [unsafeMin, unsafeMax] = val;\n  let parsedMin = typeof unsafeMin !== 'number' ? parseFloat(unsafeMin) : unsafeMin;\n  let parsedMax = typeof unsafeMax !== 'number' ? parseFloat(unsafeMax) : unsafeMax;\n  let min = unsafeMin === null || Number.isNaN(parsedMin) ? -Infinity : parsedMin;\n  let max = unsafeMax === null || Number.isNaN(parsedMax) ? Infinity : parsedMax;\n  if (min > max) {\n    const temp = min;\n    min = max;\n    max = temp;\n  }\n  return [min, max];\n};\ninNumberRange.autoRemove = val => testFalsey(val) || testFalsey(val[0]) && testFalsey(val[1]);\n\n// Export\n\nconst filterFns = {\n  includesString,\n  includesStringSensitive,\n  equalsString,\n  arrIncludes,\n  arrIncludesAll,\n  arrIncludesSome,\n  equals,\n  weakEquals,\n  inNumberRange\n};\n// Utils\n\nfunction testFalsey(val) {\n  return val === undefined || val === null || val === '';\n}\n\n//\n\nconst ColumnFiltering = {\n  getDefaultColumnDef: () => {\n    return {\n      filterFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      columnFilters: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnFiltersChange: makeStateUpdater('columnFilters', table),\n      filterFromLeafRows: false,\n      maxLeafRowFilterDepth: 100\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoFilterFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return filterFns.includesString;\n      }\n      if (typeof value === 'number') {\n        return filterFns.inNumberRange;\n      }\n      if (typeof value === 'boolean') {\n        return filterFns.equals;\n      }\n      if (value !== null && typeof value === 'object') {\n        return filterFns.equals;\n      }\n      if (Array.isArray(value)) {\n        return filterFns.arrIncludes;\n      }\n      return filterFns.weakEquals;\n    };\n    column.getFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      return isFunction(column.columnDef.filterFn) ? column.columnDef.filterFn : column.columnDef.filterFn === 'auto' ? column.getAutoFilterFn() : // @ts-ignore\n      (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[column.columnDef.filterFn]) != null ? _table$options$filter : filterFns[column.columnDef.filterFn];\n    };\n    column.getCanFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2;\n      return ((_column$columnDef$ena = column.columnDef.enableColumnFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnFilters) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && !!column.accessorFn;\n    };\n    column.getIsFiltered = () => column.getFilterIndex() > -1;\n    column.getFilterValue = () => {\n      var _table$getState$colum;\n      return (_table$getState$colum = table.getState().columnFilters) == null || (_table$getState$colum = _table$getState$colum.find(d => d.id === column.id)) == null ? void 0 : _table$getState$colum.value;\n    };\n    column.getFilterIndex = () => {\n      var _table$getState$colum2, _table$getState$colum3;\n      return (_table$getState$colum2 = (_table$getState$colum3 = table.getState().columnFilters) == null ? void 0 : _table$getState$colum3.findIndex(d => d.id === column.id)) != null ? _table$getState$colum2 : -1;\n    };\n    column.setFilterValue = value => {\n      table.setColumnFilters(old => {\n        const filterFn = column.getFilterFn();\n        const previousFilter = old == null ? void 0 : old.find(d => d.id === column.id);\n        const newFilter = functionalUpdate(value, previousFilter ? previousFilter.value : undefined);\n\n        //\n        if (shouldAutoRemoveFilter(filterFn, newFilter, column)) {\n          var _old$filter;\n          return (_old$filter = old == null ? void 0 : old.filter(d => d.id !== column.id)) != null ? _old$filter : [];\n        }\n        const newFilterObj = {\n          id: column.id,\n          value: newFilter\n        };\n        if (previousFilter) {\n          var _old$map;\n          return (_old$map = old == null ? void 0 : old.map(d => {\n            if (d.id === column.id) {\n              return newFilterObj;\n            }\n            return d;\n          })) != null ? _old$map : [];\n        }\n        if (old != null && old.length) {\n          return [...old, newFilterObj];\n        }\n        return [newFilterObj];\n      });\n    };\n  },\n  createRow: (row, _table) => {\n    row.columnFilters = {};\n    row.columnFiltersMeta = {};\n  },\n  createTable: table => {\n    table.setColumnFilters = updater => {\n      const leafColumns = table.getAllLeafColumns();\n      const updateFn = old => {\n        var _functionalUpdate;\n        return (_functionalUpdate = functionalUpdate(updater, old)) == null ? void 0 : _functionalUpdate.filter(filter => {\n          const column = leafColumns.find(d => d.id === filter.id);\n          if (column) {\n            const filterFn = column.getFilterFn();\n            if (shouldAutoRemoveFilter(filterFn, filter.value, column)) {\n              return false;\n            }\n          }\n          return true;\n        });\n      };\n      table.options.onColumnFiltersChange == null || table.options.onColumnFiltersChange(updateFn);\n    };\n    table.resetColumnFilters = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      table.setColumnFilters(defaultState ? [] : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnFilters) != null ? _table$initialState$c : []);\n    };\n    table.getPreFilteredRowModel = () => table.getCoreRowModel();\n    table.getFilteredRowModel = () => {\n      if (!table._getFilteredRowModel && table.options.getFilteredRowModel) {\n        table._getFilteredRowModel = table.options.getFilteredRowModel(table);\n      }\n      if (table.options.manualFiltering || !table._getFilteredRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getFilteredRowModel();\n    };\n  }\n};\nfunction shouldAutoRemoveFilter(filterFn, value, column) {\n  return (filterFn && filterFn.autoRemove ? filterFn.autoRemove(value, column) : false) || typeof value === 'undefined' || typeof value === 'string' && !value;\n}\n\nconst sum = (columnId, _leafRows, childRows) => {\n  // It's faster to just add the aggregations together instead of\n  // process leaf nodes individually\n  return childRows.reduce((sum, next) => {\n    const nextValue = next.getValue(columnId);\n    return sum + (typeof nextValue === 'number' ? nextValue : 0);\n  }, 0);\n};\nconst min = (columnId, _leafRows, childRows) => {\n  let min;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (min > value || min === undefined && value >= value)) {\n      min = value;\n    }\n  });\n  return min;\n};\nconst max = (columnId, _leafRows, childRows) => {\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null && (max < value || max === undefined && value >= value)) {\n      max = value;\n    }\n  });\n  return max;\n};\nconst extent = (columnId, _leafRows, childRows) => {\n  let min;\n  let max;\n  childRows.forEach(row => {\n    const value = row.getValue(columnId);\n    if (value != null) {\n      if (min === undefined) {\n        if (value >= value) min = max = value;\n      } else {\n        if (min > value) min = value;\n        if (max < value) max = value;\n      }\n    }\n  });\n  return [min, max];\n};\nconst mean = (columnId, leafRows) => {\n  let count = 0;\n  let sum = 0;\n  leafRows.forEach(row => {\n    let value = row.getValue(columnId);\n    if (value != null && (value = +value) >= value) {\n      ++count, sum += value;\n    }\n  });\n  if (count) return sum / count;\n  return;\n};\nconst median = (columnId, leafRows) => {\n  if (!leafRows.length) {\n    return;\n  }\n  const values = leafRows.map(row => row.getValue(columnId));\n  if (!isNumberArray(values)) {\n    return;\n  }\n  if (values.length === 1) {\n    return values[0];\n  }\n  const mid = Math.floor(values.length / 2);\n  const nums = values.sort((a, b) => a - b);\n  return values.length % 2 !== 0 ? nums[mid] : (nums[mid - 1] + nums[mid]) / 2;\n};\nconst unique = (columnId, leafRows) => {\n  return Array.from(new Set(leafRows.map(d => d.getValue(columnId))).values());\n};\nconst uniqueCount = (columnId, leafRows) => {\n  return new Set(leafRows.map(d => d.getValue(columnId))).size;\n};\nconst count = (_columnId, leafRows) => {\n  return leafRows.length;\n};\nconst aggregationFns = {\n  sum,\n  min,\n  max,\n  extent,\n  mean,\n  median,\n  unique,\n  uniqueCount,\n  count\n};\n\n//\n\nconst ColumnGrouping = {\n  getDefaultColumnDef: () => {\n    return {\n      aggregatedCell: props => {\n        var _toString, _props$getValue;\n        return (_toString = (_props$getValue = props.getValue()) == null || _props$getValue.toString == null ? void 0 : _props$getValue.toString()) != null ? _toString : null;\n      },\n      aggregationFn: 'auto'\n    };\n  },\n  getInitialState: state => {\n    return {\n      grouping: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGroupingChange: makeStateUpdater('grouping', table),\n      groupedColumnMode: 'reorder'\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleGrouping = () => {\n      table.setGrouping(old => {\n        // Find any existing grouping for this column\n        if (old != null && old.includes(column.id)) {\n          return old.filter(d => d !== column.id);\n        }\n        return [...(old != null ? old : []), column.id];\n      });\n    };\n    column.getCanGroup = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableGrouping) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGrouping) != null ? _table$options$enable : true) && (!!column.accessorFn || !!column.columnDef.getGroupingValue);\n    };\n    column.getIsGrouped = () => {\n      var _table$getState$group;\n      return (_table$getState$group = table.getState().grouping) == null ? void 0 : _table$getState$group.includes(column.id);\n    };\n    column.getGroupedIndex = () => {\n      var _table$getState$group2;\n      return (_table$getState$group2 = table.getState().grouping) == null ? void 0 : _table$getState$group2.indexOf(column.id);\n    };\n    column.getToggleGroupingHandler = () => {\n      const canGroup = column.getCanGroup();\n      return () => {\n        if (!canGroup) return;\n        column.toggleGrouping();\n      };\n    };\n    column.getAutoAggregationFn = () => {\n      const firstRow = table.getCoreRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'number') {\n        return aggregationFns.sum;\n      }\n      if (Object.prototype.toString.call(value) === '[object Date]') {\n        return aggregationFns.extent;\n      }\n    };\n    column.getAggregationFn = () => {\n      var _table$options$aggreg, _table$options$aggreg2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.aggregationFn) ? column.columnDef.aggregationFn : column.columnDef.aggregationFn === 'auto' ? column.getAutoAggregationFn() : (_table$options$aggreg = (_table$options$aggreg2 = table.options.aggregationFns) == null ? void 0 : _table$options$aggreg2[column.columnDef.aggregationFn]) != null ? _table$options$aggreg : aggregationFns[column.columnDef.aggregationFn];\n    };\n  },\n  createTable: table => {\n    table.setGrouping = updater => table.options.onGroupingChange == null ? void 0 : table.options.onGroupingChange(updater);\n    table.resetGrouping = defaultState => {\n      var _table$initialState$g, _table$initialState;\n      table.setGrouping(defaultState ? [] : (_table$initialState$g = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.grouping) != null ? _table$initialState$g : []);\n    };\n    table.getPreGroupedRowModel = () => table.getFilteredRowModel();\n    table.getGroupedRowModel = () => {\n      if (!table._getGroupedRowModel && table.options.getGroupedRowModel) {\n        table._getGroupedRowModel = table.options.getGroupedRowModel(table);\n      }\n      if (table.options.manualGrouping || !table._getGroupedRowModel) {\n        return table.getPreGroupedRowModel();\n      }\n      return table._getGroupedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.getIsGrouped = () => !!row.groupingColumnId;\n    row.getGroupingValue = columnId => {\n      if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n        return row._groupingValuesCache[columnId];\n      }\n      const column = table.getColumn(columnId);\n      if (!(column != null && column.columnDef.getGroupingValue)) {\n        return row.getValue(columnId);\n      }\n      row._groupingValuesCache[columnId] = column.columnDef.getGroupingValue(row.original);\n      return row._groupingValuesCache[columnId];\n    };\n    row._groupingValuesCache = {};\n  },\n  createCell: (cell, column, row, table) => {\n    cell.getIsGrouped = () => column.getIsGrouped() && column.id === row.groupingColumnId;\n    cell.getIsPlaceholder = () => !cell.getIsGrouped() && column.getIsGrouped();\n    cell.getIsAggregated = () => {\n      var _row$subRows;\n      return !cell.getIsGrouped() && !cell.getIsPlaceholder() && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n  }\n};\nfunction orderColumns(leafColumns, grouping, groupedColumnMode) {\n  if (!(grouping != null && grouping.length) || !groupedColumnMode) {\n    return leafColumns;\n  }\n  const nonGroupingColumns = leafColumns.filter(col => !grouping.includes(col.id));\n  if (groupedColumnMode === 'remove') {\n    return nonGroupingColumns;\n  }\n  const groupingColumns = grouping.map(g => leafColumns.find(col => col.id === g)).filter(Boolean);\n  return [...groupingColumns, ...nonGroupingColumns];\n}\n\n//\n\nconst ColumnOrdering = {\n  getInitialState: state => {\n    return {\n      columnOrder: [],\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnOrderChange: makeStateUpdater('columnOrder', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getIndex = memo(position => [_getVisibleLeafColumns(table, position)], columns => columns.findIndex(d => d.id === column.id), getMemoOptions(table.options, 'debugColumns', 'getIndex'));\n    column.getIsFirstColumn = position => {\n      var _columns$;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns$ = columns[0]) == null ? void 0 : _columns$.id) === column.id;\n    };\n    column.getIsLastColumn = position => {\n      var _columns;\n      const columns = _getVisibleLeafColumns(table, position);\n      return ((_columns = columns[columns.length - 1]) == null ? void 0 : _columns.id) === column.id;\n    };\n  },\n  createTable: table => {\n    table.setColumnOrder = updater => table.options.onColumnOrderChange == null ? void 0 : table.options.onColumnOrderChange(updater);\n    table.resetColumnOrder = defaultState => {\n      var _table$initialState$c;\n      table.setColumnOrder(defaultState ? [] : (_table$initialState$c = table.initialState.columnOrder) != null ? _table$initialState$c : []);\n    };\n    table._getOrderColumnsFn = memo(() => [table.getState().columnOrder, table.getState().grouping, table.options.groupedColumnMode], (columnOrder, grouping, groupedColumnMode) => columns => {\n      // Sort grouped columns to the start of the column list\n      // before the headers are built\n      let orderedColumns = [];\n\n      // If there is no order, return the normal columns\n      if (!(columnOrder != null && columnOrder.length)) {\n        orderedColumns = columns;\n      } else {\n        const columnOrderCopy = [...columnOrder];\n\n        // If there is an order, make a copy of the columns\n        const columnsCopy = [...columns];\n\n        // And make a new ordered array of the columns\n\n        // Loop over the columns and place them in order into the new array\n        while (columnsCopy.length && columnOrderCopy.length) {\n          const targetColumnId = columnOrderCopy.shift();\n          const foundIndex = columnsCopy.findIndex(d => d.id === targetColumnId);\n          if (foundIndex > -1) {\n            orderedColumns.push(columnsCopy.splice(foundIndex, 1)[0]);\n          }\n        }\n\n        // If there are any columns left, add them to the end\n        orderedColumns = [...orderedColumns, ...columnsCopy];\n      }\n      return orderColumns(orderedColumns, grouping, groupedColumnMode);\n    }, getMemoOptions(table.options, 'debugTable', '_getOrderColumnsFn'));\n  }\n};\n\n//\n\nconst getDefaultColumnPinningState = () => ({\n  left: [],\n  right: []\n});\nconst ColumnPinning = {\n  getInitialState: state => {\n    return {\n      columnPinning: getDefaultColumnPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnPinningChange: makeStateUpdater('columnPinning', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.pin = position => {\n      const columnIds = column.getLeafColumns().map(d => d.id).filter(Boolean);\n      table.setColumnPinning(old => {\n        var _old$left3, _old$right3;\n        if (position === 'right') {\n          var _old$left, _old$right;\n          return {\n            left: ((_old$left = old == null ? void 0 : old.left) != null ? _old$left : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n            right: [...((_old$right = old == null ? void 0 : old.right) != null ? _old$right : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds]\n          };\n        }\n        if (position === 'left') {\n          var _old$left2, _old$right2;\n          return {\n            left: [...((_old$left2 = old == null ? void 0 : old.left) != null ? _old$left2 : []).filter(d => !(columnIds != null && columnIds.includes(d))), ...columnIds],\n            right: ((_old$right2 = old == null ? void 0 : old.right) != null ? _old$right2 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n          };\n        }\n        return {\n          left: ((_old$left3 = old == null ? void 0 : old.left) != null ? _old$left3 : []).filter(d => !(columnIds != null && columnIds.includes(d))),\n          right: ((_old$right3 = old == null ? void 0 : old.right) != null ? _old$right3 : []).filter(d => !(columnIds != null && columnIds.includes(d)))\n        };\n      });\n    };\n    column.getCanPin = () => {\n      const leafColumns = column.getLeafColumns();\n      return leafColumns.some(d => {\n        var _d$columnDef$enablePi, _ref, _table$options$enable;\n        return ((_d$columnDef$enablePi = d.columnDef.enablePinning) != null ? _d$columnDef$enablePi : true) && ((_ref = (_table$options$enable = table.options.enableColumnPinning) != null ? _table$options$enable : table.options.enablePinning) != null ? _ref : true);\n      });\n    };\n    column.getIsPinned = () => {\n      const leafColumnIds = column.getLeafColumns().map(d => d.id);\n      const {\n        left,\n        right\n      } = table.getState().columnPinning;\n      const isLeft = leafColumnIds.some(d => left == null ? void 0 : left.includes(d));\n      const isRight = leafColumnIds.some(d => right == null ? void 0 : right.includes(d));\n      return isLeft ? 'left' : isRight ? 'right' : false;\n    };\n    column.getPinnedIndex = () => {\n      var _table$getState$colum, _table$getState$colum2;\n      const position = column.getIsPinned();\n      return position ? (_table$getState$colum = (_table$getState$colum2 = table.getState().columnPinning) == null || (_table$getState$colum2 = _table$getState$colum2[position]) == null ? void 0 : _table$getState$colum2.indexOf(column.id)) != null ? _table$getState$colum : -1 : 0;\n    };\n  },\n  createRow: (row, table) => {\n    row.getCenterVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allCells, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allCells.filter(d => !leftAndRight.includes(d.column.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterVisibleCells'));\n    row.getLeftVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.left], (allCells, left) => {\n      const cells = (left != null ? left : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'left'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getLeftVisibleCells'));\n    row.getRightVisibleCells = memo(() => [row._getAllVisibleCells(), table.getState().columnPinning.right], (allCells, right) => {\n      const cells = (right != null ? right : []).map(columnId => allCells.find(cell => cell.column.id === columnId)).filter(Boolean).map(d => ({\n        ...d,\n        position: 'right'\n      }));\n      return cells;\n    }, getMemoOptions(table.options, 'debugRows', 'getRightVisibleCells'));\n  },\n  createTable: table => {\n    table.setColumnPinning = updater => table.options.onColumnPinningChange == null ? void 0 : table.options.onColumnPinningChange(updater);\n    table.resetColumnPinning = defaultState => {\n      var _table$initialState$c, _table$initialState;\n      return table.setColumnPinning(defaultState ? getDefaultColumnPinningState() : (_table$initialState$c = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.columnPinning) != null ? _table$initialState$c : getDefaultColumnPinningState());\n    };\n    table.getIsSomeColumnsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().columnPinning;\n      if (!position) {\n        var _pinningState$left, _pinningState$right;\n        return Boolean(((_pinningState$left = pinningState.left) == null ? void 0 : _pinningState$left.length) || ((_pinningState$right = pinningState.right) == null ? void 0 : _pinningState$right.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table.getLeftLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left], (allColumns, left) => {\n      return (left != null ? left : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getLeftLeafColumns'));\n    table.getRightLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.right], (allColumns, right) => {\n      return (right != null ? right : []).map(columnId => allColumns.find(column => column.id === columnId)).filter(Boolean);\n    }, getMemoOptions(table.options, 'debugColumns', 'getRightLeafColumns'));\n    table.getCenterLeafColumns = memo(() => [table.getAllLeafColumns(), table.getState().columnPinning.left, table.getState().columnPinning.right], (allColumns, left, right) => {\n      const leftAndRight = [...(left != null ? left : []), ...(right != null ? right : [])];\n      return allColumns.filter(d => !leftAndRight.includes(d.id));\n    }, getMemoOptions(table.options, 'debugColumns', 'getCenterLeafColumns'));\n  }\n};\n\nfunction safelyAccessDocument(_document) {\n  return _document || (typeof document !== 'undefined' ? document : null);\n}\n\n//\n\n//\n\nconst defaultColumnSizing = {\n  size: 150,\n  minSize: 20,\n  maxSize: Number.MAX_SAFE_INTEGER\n};\nconst getDefaultColumnSizingInfoState = () => ({\n  startOffset: null,\n  startSize: null,\n  deltaOffset: null,\n  deltaPercentage: null,\n  isResizingColumn: false,\n  columnSizingStart: []\n});\nconst ColumnSizing = {\n  getDefaultColumnDef: () => {\n    return defaultColumnSizing;\n  },\n  getInitialState: state => {\n    return {\n      columnSizing: {},\n      columnSizingInfo: getDefaultColumnSizingInfoState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      columnResizeMode: 'onEnd',\n      columnResizeDirection: 'ltr',\n      onColumnSizingChange: makeStateUpdater('columnSizing', table),\n      onColumnSizingInfoChange: makeStateUpdater('columnSizingInfo', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.getSize = () => {\n      var _column$columnDef$min, _ref, _column$columnDef$max;\n      const columnSize = table.getState().columnSizing[column.id];\n      return Math.min(Math.max((_column$columnDef$min = column.columnDef.minSize) != null ? _column$columnDef$min : defaultColumnSizing.minSize, (_ref = columnSize != null ? columnSize : column.columnDef.size) != null ? _ref : defaultColumnSizing.size), (_column$columnDef$max = column.columnDef.maxSize) != null ? _column$columnDef$max : defaultColumnSizing.maxSize);\n    };\n    column.getStart = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(0, column.getIndex(position)).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getStart'));\n    column.getAfter = memo(position => [position, _getVisibleLeafColumns(table, position), table.getState().columnSizing], (position, columns) => columns.slice(column.getIndex(position) + 1).reduce((sum, column) => sum + column.getSize(), 0), getMemoOptions(table.options, 'debugColumns', 'getAfter'));\n    column.resetSize = () => {\n      table.setColumnSizing(_ref2 => {\n        let {\n          [column.id]: _,\n          ...rest\n        } = _ref2;\n        return rest;\n      });\n    };\n    column.getCanResize = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableResizing) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableColumnResizing) != null ? _table$options$enable : true);\n    };\n    column.getIsResizing = () => {\n      return table.getState().columnSizingInfo.isResizingColumn === column.id;\n    };\n  },\n  createHeader: (header, table) => {\n    header.getSize = () => {\n      let sum = 0;\n      const recurse = header => {\n        if (header.subHeaders.length) {\n          header.subHeaders.forEach(recurse);\n        } else {\n          var _header$column$getSiz;\n          sum += (_header$column$getSiz = header.column.getSize()) != null ? _header$column$getSiz : 0;\n        }\n      };\n      recurse(header);\n      return sum;\n    };\n    header.getStart = () => {\n      if (header.index > 0) {\n        const prevSiblingHeader = header.headerGroup.headers[header.index - 1];\n        return prevSiblingHeader.getStart() + prevSiblingHeader.getSize();\n      }\n      return 0;\n    };\n    header.getResizeHandler = _contextDocument => {\n      const column = table.getColumn(header.column.id);\n      const canResize = column == null ? void 0 : column.getCanResize();\n      return e => {\n        if (!column || !canResize) {\n          return;\n        }\n        e.persist == null || e.persist();\n        if (isTouchStartEvent(e)) {\n          // lets not respond to multiple touches (e.g. 2 or 3 fingers)\n          if (e.touches && e.touches.length > 1) {\n            return;\n          }\n        }\n        const startSize = header.getSize();\n        const columnSizingStart = header ? header.getLeafHeaders().map(d => [d.column.id, d.column.getSize()]) : [[column.id, column.getSize()]];\n        const clientX = isTouchStartEvent(e) ? Math.round(e.touches[0].clientX) : e.clientX;\n        const newColumnSizing = {};\n        const updateOffset = (eventType, clientXPos) => {\n          if (typeof clientXPos !== 'number') {\n            return;\n          }\n          table.setColumnSizingInfo(old => {\n            var _old$startOffset, _old$startSize;\n            const deltaDirection = table.options.columnResizeDirection === 'rtl' ? -1 : 1;\n            const deltaOffset = (clientXPos - ((_old$startOffset = old == null ? void 0 : old.startOffset) != null ? _old$startOffset : 0)) * deltaDirection;\n            const deltaPercentage = Math.max(deltaOffset / ((_old$startSize = old == null ? void 0 : old.startSize) != null ? _old$startSize : 0), -0.999999);\n            old.columnSizingStart.forEach(_ref3 => {\n              let [columnId, headerSize] = _ref3;\n              newColumnSizing[columnId] = Math.round(Math.max(headerSize + headerSize * deltaPercentage, 0) * 100) / 100;\n            });\n            return {\n              ...old,\n              deltaOffset,\n              deltaPercentage\n            };\n          });\n          if (table.options.columnResizeMode === 'onChange' || eventType === 'end') {\n            table.setColumnSizing(old => ({\n              ...old,\n              ...newColumnSizing\n            }));\n          }\n        };\n        const onMove = clientXPos => updateOffset('move', clientXPos);\n        const onEnd = clientXPos => {\n          updateOffset('end', clientXPos);\n          table.setColumnSizingInfo(old => ({\n            ...old,\n            isResizingColumn: false,\n            startOffset: null,\n            startSize: null,\n            deltaOffset: null,\n            deltaPercentage: null,\n            columnSizingStart: []\n          }));\n        };\n        const contextDocument = safelyAccessDocument(_contextDocument);\n        const mouseEvents = {\n          moveHandler: e => onMove(e.clientX),\n          upHandler: e => {\n            contextDocument == null || contextDocument.removeEventListener('mousemove', mouseEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('mouseup', mouseEvents.upHandler);\n            onEnd(e.clientX);\n          }\n        };\n        const touchEvents = {\n          moveHandler: e => {\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onMove(e.touches[0].clientX);\n            return false;\n          },\n          upHandler: e => {\n            var _e$touches$;\n            contextDocument == null || contextDocument.removeEventListener('touchmove', touchEvents.moveHandler);\n            contextDocument == null || contextDocument.removeEventListener('touchend', touchEvents.upHandler);\n            if (e.cancelable) {\n              e.preventDefault();\n              e.stopPropagation();\n            }\n            onEnd((_e$touches$ = e.touches[0]) == null ? void 0 : _e$touches$.clientX);\n          }\n        };\n        const passiveIfSupported = passiveEventSupported() ? {\n          passive: false\n        } : false;\n        if (isTouchStartEvent(e)) {\n          contextDocument == null || contextDocument.addEventListener('touchmove', touchEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('touchend', touchEvents.upHandler, passiveIfSupported);\n        } else {\n          contextDocument == null || contextDocument.addEventListener('mousemove', mouseEvents.moveHandler, passiveIfSupported);\n          contextDocument == null || contextDocument.addEventListener('mouseup', mouseEvents.upHandler, passiveIfSupported);\n        }\n        table.setColumnSizingInfo(old => ({\n          ...old,\n          startOffset: clientX,\n          startSize,\n          deltaOffset: 0,\n          deltaPercentage: 0,\n          columnSizingStart,\n          isResizingColumn: column.id\n        }));\n      };\n    };\n  },\n  createTable: table => {\n    table.setColumnSizing = updater => table.options.onColumnSizingChange == null ? void 0 : table.options.onColumnSizingChange(updater);\n    table.setColumnSizingInfo = updater => table.options.onColumnSizingInfoChange == null ? void 0 : table.options.onColumnSizingInfoChange(updater);\n    table.resetColumnSizing = defaultState => {\n      var _table$initialState$c;\n      table.setColumnSizing(defaultState ? {} : (_table$initialState$c = table.initialState.columnSizing) != null ? _table$initialState$c : {});\n    };\n    table.resetHeaderSizeInfo = defaultState => {\n      var _table$initialState$c2;\n      table.setColumnSizingInfo(defaultState ? getDefaultColumnSizingInfoState() : (_table$initialState$c2 = table.initialState.columnSizingInfo) != null ? _table$initialState$c2 : getDefaultColumnSizingInfoState());\n    };\n    table.getTotalSize = () => {\n      var _table$getHeaderGroup, _table$getHeaderGroup2;\n      return (_table$getHeaderGroup = (_table$getHeaderGroup2 = table.getHeaderGroups()[0]) == null ? void 0 : _table$getHeaderGroup2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getHeaderGroup : 0;\n    };\n    table.getLeftTotalSize = () => {\n      var _table$getLeftHeaderG, _table$getLeftHeaderG2;\n      return (_table$getLeftHeaderG = (_table$getLeftHeaderG2 = table.getLeftHeaderGroups()[0]) == null ? void 0 : _table$getLeftHeaderG2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getLeftHeaderG : 0;\n    };\n    table.getCenterTotalSize = () => {\n      var _table$getCenterHeade, _table$getCenterHeade2;\n      return (_table$getCenterHeade = (_table$getCenterHeade2 = table.getCenterHeaderGroups()[0]) == null ? void 0 : _table$getCenterHeade2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getCenterHeade : 0;\n    };\n    table.getRightTotalSize = () => {\n      var _table$getRightHeader, _table$getRightHeader2;\n      return (_table$getRightHeader = (_table$getRightHeader2 = table.getRightHeaderGroups()[0]) == null ? void 0 : _table$getRightHeader2.headers.reduce((sum, header) => {\n        return sum + header.getSize();\n      }, 0)) != null ? _table$getRightHeader : 0;\n    };\n  }\n};\nlet passiveSupported = null;\nfunction passiveEventSupported() {\n  if (typeof passiveSupported === 'boolean') return passiveSupported;\n  let supported = false;\n  try {\n    const options = {\n      get passive() {\n        supported = true;\n        return false;\n      }\n    };\n    const noop = () => {};\n    window.addEventListener('test', noop, options);\n    window.removeEventListener('test', noop);\n  } catch (err) {\n    supported = false;\n  }\n  passiveSupported = supported;\n  return passiveSupported;\n}\nfunction isTouchStartEvent(e) {\n  return e.type === 'touchstart';\n}\n\n//\n\nconst ColumnVisibility = {\n  getInitialState: state => {\n    return {\n      columnVisibility: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onColumnVisibilityChange: makeStateUpdater('columnVisibility', table)\n    };\n  },\n  createColumn: (column, table) => {\n    column.toggleVisibility = value => {\n      if (column.getCanHide()) {\n        table.setColumnVisibility(old => ({\n          ...old,\n          [column.id]: value != null ? value : !column.getIsVisible()\n        }));\n      }\n    };\n    column.getIsVisible = () => {\n      var _ref, _table$getState$colum;\n      const childColumns = column.columns;\n      return (_ref = childColumns.length ? childColumns.some(c => c.getIsVisible()) : (_table$getState$colum = table.getState().columnVisibility) == null ? void 0 : _table$getState$colum[column.id]) != null ? _ref : true;\n    };\n    column.getCanHide = () => {\n      var _column$columnDef$ena, _table$options$enable;\n      return ((_column$columnDef$ena = column.columnDef.enableHiding) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableHiding) != null ? _table$options$enable : true);\n    };\n    column.getToggleVisibilityHandler = () => {\n      return e => {\n        column.toggleVisibility == null || column.toggleVisibility(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row._getAllVisibleCells = memo(() => [row.getAllCells(), table.getState().columnVisibility], cells => {\n      return cells.filter(cell => cell.column.getIsVisible());\n    }, getMemoOptions(table.options, 'debugRows', '_getAllVisibleCells'));\n    row.getVisibleCells = memo(() => [row.getLeftVisibleCells(), row.getCenterVisibleCells(), row.getRightVisibleCells()], (left, center, right) => [...left, ...center, ...right], getMemoOptions(table.options, 'debugRows', 'getVisibleCells'));\n  },\n  createTable: table => {\n    const makeVisibleColumnsMethod = (key, getColumns) => {\n      return memo(() => [getColumns(), getColumns().filter(d => d.getIsVisible()).map(d => d.id).join('_')], columns => {\n        return columns.filter(d => d.getIsVisible == null ? void 0 : d.getIsVisible());\n      }, getMemoOptions(table.options, 'debugColumns', key));\n    };\n    table.getVisibleFlatColumns = makeVisibleColumnsMethod('getVisibleFlatColumns', () => table.getAllFlatColumns());\n    table.getVisibleLeafColumns = makeVisibleColumnsMethod('getVisibleLeafColumns', () => table.getAllLeafColumns());\n    table.getLeftVisibleLeafColumns = makeVisibleColumnsMethod('getLeftVisibleLeafColumns', () => table.getLeftLeafColumns());\n    table.getRightVisibleLeafColumns = makeVisibleColumnsMethod('getRightVisibleLeafColumns', () => table.getRightLeafColumns());\n    table.getCenterVisibleLeafColumns = makeVisibleColumnsMethod('getCenterVisibleLeafColumns', () => table.getCenterLeafColumns());\n    table.setColumnVisibility = updater => table.options.onColumnVisibilityChange == null ? void 0 : table.options.onColumnVisibilityChange(updater);\n    table.resetColumnVisibility = defaultState => {\n      var _table$initialState$c;\n      table.setColumnVisibility(defaultState ? {} : (_table$initialState$c = table.initialState.columnVisibility) != null ? _table$initialState$c : {});\n    };\n    table.toggleAllColumnsVisible = value => {\n      var _value;\n      value = (_value = value) != null ? _value : !table.getIsAllColumnsVisible();\n      table.setColumnVisibility(table.getAllLeafColumns().reduce((obj, column) => ({\n        ...obj,\n        [column.id]: !value ? !(column.getCanHide != null && column.getCanHide()) : value\n      }), {}));\n    };\n    table.getIsAllColumnsVisible = () => !table.getAllLeafColumns().some(column => !(column.getIsVisible != null && column.getIsVisible()));\n    table.getIsSomeColumnsVisible = () => table.getAllLeafColumns().some(column => column.getIsVisible == null ? void 0 : column.getIsVisible());\n    table.getToggleAllColumnsVisibilityHandler = () => {\n      return e => {\n        var _target;\n        table.toggleAllColumnsVisible((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nfunction _getVisibleLeafColumns(table, position) {\n  return !position ? table.getVisibleLeafColumns() : position === 'center' ? table.getCenterVisibleLeafColumns() : position === 'left' ? table.getLeftVisibleLeafColumns() : table.getRightVisibleLeafColumns();\n}\n\n//\n\nconst GlobalFaceting = {\n  createTable: table => {\n    table._getGlobalFacetedRowModel = table.options.getFacetedRowModel && table.options.getFacetedRowModel(table, '__global__');\n    table.getGlobalFacetedRowModel = () => {\n      if (table.options.manualFiltering || !table._getGlobalFacetedRowModel) {\n        return table.getPreFilteredRowModel();\n      }\n      return table._getGlobalFacetedRowModel();\n    };\n    table._getGlobalFacetedUniqueValues = table.options.getFacetedUniqueValues && table.options.getFacetedUniqueValues(table, '__global__');\n    table.getGlobalFacetedUniqueValues = () => {\n      if (!table._getGlobalFacetedUniqueValues) {\n        return new Map();\n      }\n      return table._getGlobalFacetedUniqueValues();\n    };\n    table._getGlobalFacetedMinMaxValues = table.options.getFacetedMinMaxValues && table.options.getFacetedMinMaxValues(table, '__global__');\n    table.getGlobalFacetedMinMaxValues = () => {\n      if (!table._getGlobalFacetedMinMaxValues) {\n        return;\n      }\n      return table._getGlobalFacetedMinMaxValues();\n    };\n  }\n};\n\n//\n\nconst GlobalFiltering = {\n  getInitialState: state => {\n    return {\n      globalFilter: undefined,\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onGlobalFilterChange: makeStateUpdater('globalFilter', table),\n      globalFilterFn: 'auto',\n      getColumnCanGlobalFilter: column => {\n        var _table$getCoreRowMode;\n        const value = (_table$getCoreRowMode = table.getCoreRowModel().flatRows[0]) == null || (_table$getCoreRowMode = _table$getCoreRowMode._getAllCellsByColumnId()[column.id]) == null ? void 0 : _table$getCoreRowMode.getValue();\n        return typeof value === 'string' || typeof value === 'number';\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getCanGlobalFilter = () => {\n      var _column$columnDef$ena, _table$options$enable, _table$options$enable2, _table$options$getCol;\n      return ((_column$columnDef$ena = column.columnDef.enableGlobalFilter) != null ? _column$columnDef$ena : true) && ((_table$options$enable = table.options.enableGlobalFilter) != null ? _table$options$enable : true) && ((_table$options$enable2 = table.options.enableFilters) != null ? _table$options$enable2 : true) && ((_table$options$getCol = table.options.getColumnCanGlobalFilter == null ? void 0 : table.options.getColumnCanGlobalFilter(column)) != null ? _table$options$getCol : true) && !!column.accessorFn;\n    };\n  },\n  createTable: table => {\n    table.getGlobalAutoFilterFn = () => {\n      return filterFns.includesString;\n    };\n    table.getGlobalFilterFn = () => {\n      var _table$options$filter, _table$options$filter2;\n      const {\n        globalFilterFn: globalFilterFn\n      } = table.options;\n      return isFunction(globalFilterFn) ? globalFilterFn : globalFilterFn === 'auto' ? table.getGlobalAutoFilterFn() : (_table$options$filter = (_table$options$filter2 = table.options.filterFns) == null ? void 0 : _table$options$filter2[globalFilterFn]) != null ? _table$options$filter : filterFns[globalFilterFn];\n    };\n    table.setGlobalFilter = updater => {\n      table.options.onGlobalFilterChange == null || table.options.onGlobalFilterChange(updater);\n    };\n    table.resetGlobalFilter = defaultState => {\n      table.setGlobalFilter(defaultState ? undefined : table.initialState.globalFilter);\n    };\n  }\n};\n\n//\n\nconst RowExpanding = {\n  getInitialState: state => {\n    return {\n      expanded: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onExpandedChange: makeStateUpdater('expanded', table),\n      paginateExpandedRows: true\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetExpanded = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetExpanded) != null ? _ref : !table.options.manualExpanding) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetExpanded();\n          queued = false;\n        });\n      }\n    };\n    table.setExpanded = updater => table.options.onExpandedChange == null ? void 0 : table.options.onExpandedChange(updater);\n    table.toggleAllRowsExpanded = expanded => {\n      if (expanded != null ? expanded : !table.getIsAllRowsExpanded()) {\n        table.setExpanded(true);\n      } else {\n        table.setExpanded({});\n      }\n    };\n    table.resetExpanded = defaultState => {\n      var _table$initialState$e, _table$initialState;\n      table.setExpanded(defaultState ? {} : (_table$initialState$e = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.expanded) != null ? _table$initialState$e : {});\n    };\n    table.getCanSomeRowsExpand = () => {\n      return table.getPrePaginationRowModel().flatRows.some(row => row.getCanExpand());\n    };\n    table.getToggleAllRowsExpandedHandler = () => {\n      return e => {\n        e.persist == null || e.persist();\n        table.toggleAllRowsExpanded();\n      };\n    };\n    table.getIsSomeRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n      return expanded === true || Object.values(expanded).some(Boolean);\n    };\n    table.getIsAllRowsExpanded = () => {\n      const expanded = table.getState().expanded;\n\n      // If expanded is true, save some cycles and return true\n      if (typeof expanded === 'boolean') {\n        return expanded === true;\n      }\n      if (!Object.keys(expanded).length) {\n        return false;\n      }\n\n      // If any row is not expanded, return false\n      if (table.getRowModel().flatRows.some(row => !row.getIsExpanded())) {\n        return false;\n      }\n\n      // They must all be expanded :shrug:\n      return true;\n    };\n    table.getExpandedDepth = () => {\n      let maxDepth = 0;\n      const rowIds = table.getState().expanded === true ? Object.keys(table.getRowModel().rowsById) : Object.keys(table.getState().expanded);\n      rowIds.forEach(id => {\n        const splitId = id.split('.');\n        maxDepth = Math.max(maxDepth, splitId.length);\n      });\n      return maxDepth;\n    };\n    table.getPreExpandedRowModel = () => table.getSortedRowModel();\n    table.getExpandedRowModel = () => {\n      if (!table._getExpandedRowModel && table.options.getExpandedRowModel) {\n        table._getExpandedRowModel = table.options.getExpandedRowModel(table);\n      }\n      if (table.options.manualExpanding || !table._getExpandedRowModel) {\n        return table.getPreExpandedRowModel();\n      }\n      return table._getExpandedRowModel();\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleExpanded = expanded => {\n      table.setExpanded(old => {\n        var _expanded;\n        const exists = old === true ? true : !!(old != null && old[row.id]);\n        let oldExpanded = {};\n        if (old === true) {\n          Object.keys(table.getRowModel().rowsById).forEach(rowId => {\n            oldExpanded[rowId] = true;\n          });\n        } else {\n          oldExpanded = old;\n        }\n        expanded = (_expanded = expanded) != null ? _expanded : !exists;\n        if (!exists && expanded) {\n          return {\n            ...oldExpanded,\n            [row.id]: true\n          };\n        }\n        if (exists && !expanded) {\n          const {\n            [row.id]: _,\n            ...rest\n          } = oldExpanded;\n          return rest;\n        }\n        return old;\n      });\n    };\n    row.getIsExpanded = () => {\n      var _table$options$getIsR;\n      const expanded = table.getState().expanded;\n      return !!((_table$options$getIsR = table.options.getIsRowExpanded == null ? void 0 : table.options.getIsRowExpanded(row)) != null ? _table$options$getIsR : expanded === true || (expanded == null ? void 0 : expanded[row.id]));\n    };\n    row.getCanExpand = () => {\n      var _table$options$getRow, _table$options$enable, _row$subRows;\n      return (_table$options$getRow = table.options.getRowCanExpand == null ? void 0 : table.options.getRowCanExpand(row)) != null ? _table$options$getRow : ((_table$options$enable = table.options.enableExpanding) != null ? _table$options$enable : true) && !!((_row$subRows = row.subRows) != null && _row$subRows.length);\n    };\n    row.getIsAllParentsExpanded = () => {\n      let isFullyExpanded = true;\n      let currentRow = row;\n      while (isFullyExpanded && currentRow.parentId) {\n        currentRow = table.getRow(currentRow.parentId, true);\n        isFullyExpanded = currentRow.getIsExpanded();\n      }\n      return isFullyExpanded;\n    };\n    row.getToggleExpandedHandler = () => {\n      const canExpand = row.getCanExpand();\n      return () => {\n        if (!canExpand) return;\n        row.toggleExpanded();\n      };\n    };\n  }\n};\n\n//\n\nconst defaultPageIndex = 0;\nconst defaultPageSize = 10;\nconst getDefaultPaginationState = () => ({\n  pageIndex: defaultPageIndex,\n  pageSize: defaultPageSize\n});\nconst RowPagination = {\n  getInitialState: state => {\n    return {\n      ...state,\n      pagination: {\n        ...getDefaultPaginationState(),\n        ...(state == null ? void 0 : state.pagination)\n      }\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onPaginationChange: makeStateUpdater('pagination', table)\n    };\n  },\n  createTable: table => {\n    let registered = false;\n    let queued = false;\n    table._autoResetPageIndex = () => {\n      var _ref, _table$options$autoRe;\n      if (!registered) {\n        table._queue(() => {\n          registered = true;\n        });\n        return;\n      }\n      if ((_ref = (_table$options$autoRe = table.options.autoResetAll) != null ? _table$options$autoRe : table.options.autoResetPageIndex) != null ? _ref : !table.options.manualPagination) {\n        if (queued) return;\n        queued = true;\n        table._queue(() => {\n          table.resetPageIndex();\n          queued = false;\n        });\n      }\n    };\n    table.setPagination = updater => {\n      const safeUpdater = old => {\n        let newState = functionalUpdate(updater, old);\n        return newState;\n      };\n      return table.options.onPaginationChange == null ? void 0 : table.options.onPaginationChange(safeUpdater);\n    };\n    table.resetPagination = defaultState => {\n      var _table$initialState$p;\n      table.setPagination(defaultState ? getDefaultPaginationState() : (_table$initialState$p = table.initialState.pagination) != null ? _table$initialState$p : getDefaultPaginationState());\n    };\n    table.setPageIndex = updater => {\n      table.setPagination(old => {\n        let pageIndex = functionalUpdate(updater, old.pageIndex);\n        const maxPageIndex = typeof table.options.pageCount === 'undefined' || table.options.pageCount === -1 ? Number.MAX_SAFE_INTEGER : table.options.pageCount - 1;\n        pageIndex = Math.max(0, Math.min(pageIndex, maxPageIndex));\n        return {\n          ...old,\n          pageIndex\n        };\n      });\n    };\n    table.resetPageIndex = defaultState => {\n      var _table$initialState$p2, _table$initialState;\n      table.setPageIndex(defaultState ? defaultPageIndex : (_table$initialState$p2 = (_table$initialState = table.initialState) == null || (_table$initialState = _table$initialState.pagination) == null ? void 0 : _table$initialState.pageIndex) != null ? _table$initialState$p2 : defaultPageIndex);\n    };\n    table.resetPageSize = defaultState => {\n      var _table$initialState$p3, _table$initialState2;\n      table.setPageSize(defaultState ? defaultPageSize : (_table$initialState$p3 = (_table$initialState2 = table.initialState) == null || (_table$initialState2 = _table$initialState2.pagination) == null ? void 0 : _table$initialState2.pageSize) != null ? _table$initialState$p3 : defaultPageSize);\n    };\n    table.setPageSize = updater => {\n      table.setPagination(old => {\n        const pageSize = Math.max(1, functionalUpdate(updater, old.pageSize));\n        const topRowIndex = old.pageSize * old.pageIndex;\n        const pageIndex = Math.floor(topRowIndex / pageSize);\n        return {\n          ...old,\n          pageIndex,\n          pageSize\n        };\n      });\n    };\n    //deprecated\n    table.setPageCount = updater => table.setPagination(old => {\n      var _table$options$pageCo;\n      let newPageCount = functionalUpdate(updater, (_table$options$pageCo = table.options.pageCount) != null ? _table$options$pageCo : -1);\n      if (typeof newPageCount === 'number') {\n        newPageCount = Math.max(-1, newPageCount);\n      }\n      return {\n        ...old,\n        pageCount: newPageCount\n      };\n    });\n    table.getPageOptions = memo(() => [table.getPageCount()], pageCount => {\n      let pageOptions = [];\n      if (pageCount && pageCount > 0) {\n        pageOptions = [...new Array(pageCount)].fill(null).map((_, i) => i);\n      }\n      return pageOptions;\n    }, getMemoOptions(table.options, 'debugTable', 'getPageOptions'));\n    table.getCanPreviousPage = () => table.getState().pagination.pageIndex > 0;\n    table.getCanNextPage = () => {\n      const {\n        pageIndex\n      } = table.getState().pagination;\n      const pageCount = table.getPageCount();\n      if (pageCount === -1) {\n        return true;\n      }\n      if (pageCount === 0) {\n        return false;\n      }\n      return pageIndex < pageCount - 1;\n    };\n    table.previousPage = () => {\n      return table.setPageIndex(old => old - 1);\n    };\n    table.nextPage = () => {\n      return table.setPageIndex(old => {\n        return old + 1;\n      });\n    };\n    table.firstPage = () => {\n      return table.setPageIndex(0);\n    };\n    table.lastPage = () => {\n      return table.setPageIndex(table.getPageCount() - 1);\n    };\n    table.getPrePaginationRowModel = () => table.getExpandedRowModel();\n    table.getPaginationRowModel = () => {\n      if (!table._getPaginationRowModel && table.options.getPaginationRowModel) {\n        table._getPaginationRowModel = table.options.getPaginationRowModel(table);\n      }\n      if (table.options.manualPagination || !table._getPaginationRowModel) {\n        return table.getPrePaginationRowModel();\n      }\n      return table._getPaginationRowModel();\n    };\n    table.getPageCount = () => {\n      var _table$options$pageCo2;\n      return (_table$options$pageCo2 = table.options.pageCount) != null ? _table$options$pageCo2 : Math.ceil(table.getRowCount() / table.getState().pagination.pageSize);\n    };\n    table.getRowCount = () => {\n      var _table$options$rowCou;\n      return (_table$options$rowCou = table.options.rowCount) != null ? _table$options$rowCou : table.getPrePaginationRowModel().rows.length;\n    };\n  }\n};\n\n//\n\nconst getDefaultRowPinningState = () => ({\n  top: [],\n  bottom: []\n});\nconst RowPinning = {\n  getInitialState: state => {\n    return {\n      rowPinning: getDefaultRowPinningState(),\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowPinningChange: makeStateUpdater('rowPinning', table)\n    };\n  },\n  createRow: (row, table) => {\n    row.pin = (position, includeLeafRows, includeParentRows) => {\n      const leafRowIds = includeLeafRows ? row.getLeafRows().map(_ref => {\n        let {\n          id\n        } = _ref;\n        return id;\n      }) : [];\n      const parentRowIds = includeParentRows ? row.getParentRows().map(_ref2 => {\n        let {\n          id\n        } = _ref2;\n        return id;\n      }) : [];\n      const rowIds = new Set([...parentRowIds, row.id, ...leafRowIds]);\n      table.setRowPinning(old => {\n        var _old$top3, _old$bottom3;\n        if (position === 'bottom') {\n          var _old$top, _old$bottom;\n          return {\n            top: ((_old$top = old == null ? void 0 : old.top) != null ? _old$top : []).filter(d => !(rowIds != null && rowIds.has(d))),\n            bottom: [...((_old$bottom = old == null ? void 0 : old.bottom) != null ? _old$bottom : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)]\n          };\n        }\n        if (position === 'top') {\n          var _old$top2, _old$bottom2;\n          return {\n            top: [...((_old$top2 = old == null ? void 0 : old.top) != null ? _old$top2 : []).filter(d => !(rowIds != null && rowIds.has(d))), ...Array.from(rowIds)],\n            bottom: ((_old$bottom2 = old == null ? void 0 : old.bottom) != null ? _old$bottom2 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n          };\n        }\n        return {\n          top: ((_old$top3 = old == null ? void 0 : old.top) != null ? _old$top3 : []).filter(d => !(rowIds != null && rowIds.has(d))),\n          bottom: ((_old$bottom3 = old == null ? void 0 : old.bottom) != null ? _old$bottom3 : []).filter(d => !(rowIds != null && rowIds.has(d)))\n        };\n      });\n    };\n    row.getCanPin = () => {\n      var _ref3;\n      const {\n        enableRowPinning,\n        enablePinning\n      } = table.options;\n      if (typeof enableRowPinning === 'function') {\n        return enableRowPinning(row);\n      }\n      return (_ref3 = enableRowPinning != null ? enableRowPinning : enablePinning) != null ? _ref3 : true;\n    };\n    row.getIsPinned = () => {\n      const rowIds = [row.id];\n      const {\n        top,\n        bottom\n      } = table.getState().rowPinning;\n      const isTop = rowIds.some(d => top == null ? void 0 : top.includes(d));\n      const isBottom = rowIds.some(d => bottom == null ? void 0 : bottom.includes(d));\n      return isTop ? 'top' : isBottom ? 'bottom' : false;\n    };\n    row.getPinnedIndex = () => {\n      var _ref4, _visiblePinnedRowIds$;\n      const position = row.getIsPinned();\n      if (!position) return -1;\n      const visiblePinnedRowIds = (_ref4 = position === 'top' ? table.getTopRows() : table.getBottomRows()) == null ? void 0 : _ref4.map(_ref5 => {\n        let {\n          id\n        } = _ref5;\n        return id;\n      });\n      return (_visiblePinnedRowIds$ = visiblePinnedRowIds == null ? void 0 : visiblePinnedRowIds.indexOf(row.id)) != null ? _visiblePinnedRowIds$ : -1;\n    };\n  },\n  createTable: table => {\n    table.setRowPinning = updater => table.options.onRowPinningChange == null ? void 0 : table.options.onRowPinningChange(updater);\n    table.resetRowPinning = defaultState => {\n      var _table$initialState$r, _table$initialState;\n      return table.setRowPinning(defaultState ? getDefaultRowPinningState() : (_table$initialState$r = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.rowPinning) != null ? _table$initialState$r : getDefaultRowPinningState());\n    };\n    table.getIsSomeRowsPinned = position => {\n      var _pinningState$positio;\n      const pinningState = table.getState().rowPinning;\n      if (!position) {\n        var _pinningState$top, _pinningState$bottom;\n        return Boolean(((_pinningState$top = pinningState.top) == null ? void 0 : _pinningState$top.length) || ((_pinningState$bottom = pinningState.bottom) == null ? void 0 : _pinningState$bottom.length));\n      }\n      return Boolean((_pinningState$positio = pinningState[position]) == null ? void 0 : _pinningState$positio.length);\n    };\n    table._getPinnedRows = (visibleRows, pinnedRowIds, position) => {\n      var _table$options$keepPi;\n      const rows = ((_table$options$keepPi = table.options.keepPinnedRows) != null ? _table$options$keepPi : true) ?\n      //get all rows that are pinned even if they would not be otherwise visible\n      //account for expanded parent rows, but not pagination or filtering\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => {\n        const row = table.getRow(rowId, true);\n        return row.getIsAllParentsExpanded() ? row : null;\n      }) :\n      //else get only visible rows that are pinned\n      (pinnedRowIds != null ? pinnedRowIds : []).map(rowId => visibleRows.find(row => row.id === rowId));\n      return rows.filter(Boolean).map(d => ({\n        ...d,\n        position\n      }));\n    };\n    table.getTopRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top], (allRows, topPinnedRowIds) => table._getPinnedRows(allRows, topPinnedRowIds, 'top'), getMemoOptions(table.options, 'debugRows', 'getTopRows'));\n    table.getBottomRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.bottom], (allRows, bottomPinnedRowIds) => table._getPinnedRows(allRows, bottomPinnedRowIds, 'bottom'), getMemoOptions(table.options, 'debugRows', 'getBottomRows'));\n    table.getCenterRows = memo(() => [table.getRowModel().rows, table.getState().rowPinning.top, table.getState().rowPinning.bottom], (allRows, top, bottom) => {\n      const topAndBottom = new Set([...(top != null ? top : []), ...(bottom != null ? bottom : [])]);\n      return allRows.filter(d => !topAndBottom.has(d.id));\n    }, getMemoOptions(table.options, 'debugRows', 'getCenterRows'));\n  }\n};\n\n//\n\nconst RowSelection = {\n  getInitialState: state => {\n    return {\n      rowSelection: {},\n      ...state\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onRowSelectionChange: makeStateUpdater('rowSelection', table),\n      enableRowSelection: true,\n      enableMultiRowSelection: true,\n      enableSubRowSelection: true\n      // enableGroupingRowSelection: false,\n      // isAdditiveSelectEvent: (e: unknown) => !!e.metaKey,\n      // isInclusiveSelectEvent: (e: unknown) => !!e.shiftKey,\n    };\n  },\n  createTable: table => {\n    table.setRowSelection = updater => table.options.onRowSelectionChange == null ? void 0 : table.options.onRowSelectionChange(updater);\n    table.resetRowSelection = defaultState => {\n      var _table$initialState$r;\n      return table.setRowSelection(defaultState ? {} : (_table$initialState$r = table.initialState.rowSelection) != null ? _table$initialState$r : {});\n    };\n    table.toggleAllRowsSelected = value => {\n      table.setRowSelection(old => {\n        value = typeof value !== 'undefined' ? value : !table.getIsAllRowsSelected();\n        const rowSelection = {\n          ...old\n        };\n        const preGroupedFlatRows = table.getPreGroupedRowModel().flatRows;\n\n        // We don't use `mutateRowIsSelected` here for performance reasons.\n        // All of the rows are flat already, so it wouldn't be worth it\n        if (value) {\n          preGroupedFlatRows.forEach(row => {\n            if (!row.getCanSelect()) {\n              return;\n            }\n            rowSelection[row.id] = true;\n          });\n        } else {\n          preGroupedFlatRows.forEach(row => {\n            delete rowSelection[row.id];\n          });\n        }\n        return rowSelection;\n      });\n    };\n    table.toggleAllPageRowsSelected = value => table.setRowSelection(old => {\n      const resolvedValue = typeof value !== 'undefined' ? value : !table.getIsAllPageRowsSelected();\n      const rowSelection = {\n        ...old\n      };\n      table.getRowModel().rows.forEach(row => {\n        mutateRowIsSelected(rowSelection, row.id, resolvedValue, true, table);\n      });\n      return rowSelection;\n    });\n\n    // addRowSelectionRange: rowId => {\n    //   const {\n    //     rows,\n    //     rowsById,\n    //     options: { selectGroupingRows, selectSubRows },\n    //   } = table\n\n    //   const findSelectedRow = (rows: Row[]) => {\n    //     let found\n    //     rows.find(d => {\n    //       if (d.getIsSelected()) {\n    //         found = d\n    //         return true\n    //       }\n    //       const subFound = findSelectedRow(d.subRows || [])\n    //       if (subFound) {\n    //         found = subFound\n    //         return true\n    //       }\n    //       return false\n    //     })\n    //     return found\n    //   }\n\n    //   const firstRow = findSelectedRow(rows) || rows[0]\n    //   const lastRow = rowsById[rowId]\n\n    //   let include = false\n    //   const selectedRowIds = {}\n\n    //   const addRow = (row: Row) => {\n    //     mutateRowIsSelected(selectedRowIds, row.id, true, {\n    //       rowsById,\n    //       selectGroupingRows: selectGroupingRows!,\n    //       selectSubRows: selectSubRows!,\n    //     })\n    //   }\n\n    //   table.rows.forEach(row => {\n    //     const isFirstRow = row.id === firstRow.id\n    //     const isLastRow = row.id === lastRow.id\n\n    //     if (isFirstRow || isLastRow) {\n    //       if (!include) {\n    //         include = true\n    //       } else if (include) {\n    //         addRow(row)\n    //         include = false\n    //       }\n    //     }\n\n    //     if (include) {\n    //       addRow(row)\n    //     }\n    //   })\n\n    //   table.setRowSelection(selectedRowIds)\n    // },\n    table.getPreSelectedRowModel = () => table.getCoreRowModel();\n    table.getSelectedRowModel = memo(() => [table.getState().rowSelection, table.getCoreRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getSelectedRowModel'));\n    table.getFilteredSelectedRowModel = memo(() => [table.getState().rowSelection, table.getFilteredRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getFilteredSelectedRowModel'));\n    table.getGroupedSelectedRowModel = memo(() => [table.getState().rowSelection, table.getSortedRowModel()], (rowSelection, rowModel) => {\n      if (!Object.keys(rowSelection).length) {\n        return {\n          rows: [],\n          flatRows: [],\n          rowsById: {}\n        };\n      }\n      return selectRowsFn(table, rowModel);\n    }, getMemoOptions(table.options, 'debugTable', 'getGroupedSelectedRowModel'));\n\n    ///\n\n    // getGroupingRowCanSelect: rowId => {\n    //   const row = table.getRow(rowId)\n\n    //   if (!row) {\n    //     throw new Error()\n    //   }\n\n    //   if (typeof table.options.enableGroupingRowSelection === 'function') {\n    //     return table.options.enableGroupingRowSelection(row)\n    //   }\n\n    //   return table.options.enableGroupingRowSelection ?? false\n    // },\n\n    table.getIsAllRowsSelected = () => {\n      const preGroupedFlatRows = table.getFilteredRowModel().flatRows;\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllRowsSelected = Boolean(preGroupedFlatRows.length && Object.keys(rowSelection).length);\n      if (isAllRowsSelected) {\n        if (preGroupedFlatRows.some(row => row.getCanSelect() && !rowSelection[row.id])) {\n          isAllRowsSelected = false;\n        }\n      }\n      return isAllRowsSelected;\n    };\n    table.getIsAllPageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows.filter(row => row.getCanSelect());\n      const {\n        rowSelection\n      } = table.getState();\n      let isAllPageRowsSelected = !!paginationFlatRows.length;\n      if (isAllPageRowsSelected && paginationFlatRows.some(row => !rowSelection[row.id])) {\n        isAllPageRowsSelected = false;\n      }\n      return isAllPageRowsSelected;\n    };\n    table.getIsSomeRowsSelected = () => {\n      var _table$getState$rowSe;\n      const totalSelected = Object.keys((_table$getState$rowSe = table.getState().rowSelection) != null ? _table$getState$rowSe : {}).length;\n      return totalSelected > 0 && totalSelected < table.getFilteredRowModel().flatRows.length;\n    };\n    table.getIsSomePageRowsSelected = () => {\n      const paginationFlatRows = table.getPaginationRowModel().flatRows;\n      return table.getIsAllPageRowsSelected() ? false : paginationFlatRows.filter(row => row.getCanSelect()).some(d => d.getIsSelected() || d.getIsSomeSelected());\n    };\n    table.getToggleAllRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllRowsSelected(e.target.checked);\n      };\n    };\n    table.getToggleAllPageRowsSelectedHandler = () => {\n      return e => {\n        table.toggleAllPageRowsSelected(e.target.checked);\n      };\n    };\n  },\n  createRow: (row, table) => {\n    row.toggleSelected = (value, opts) => {\n      const isSelected = row.getIsSelected();\n      table.setRowSelection(old => {\n        var _opts$selectChildren;\n        value = typeof value !== 'undefined' ? value : !isSelected;\n        if (row.getCanSelect() && isSelected === value) {\n          return old;\n        }\n        const selectedRowIds = {\n          ...old\n        };\n        mutateRowIsSelected(selectedRowIds, row.id, value, (_opts$selectChildren = opts == null ? void 0 : opts.selectChildren) != null ? _opts$selectChildren : true, table);\n        return selectedRowIds;\n      });\n    };\n    row.getIsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isRowSelected(row, rowSelection);\n    };\n    row.getIsSomeSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'some';\n    };\n    row.getIsAllSubRowsSelected = () => {\n      const {\n        rowSelection\n      } = table.getState();\n      return isSubRowSelected(row, rowSelection) === 'all';\n    };\n    row.getCanSelect = () => {\n      var _table$options$enable;\n      if (typeof table.options.enableRowSelection === 'function') {\n        return table.options.enableRowSelection(row);\n      }\n      return (_table$options$enable = table.options.enableRowSelection) != null ? _table$options$enable : true;\n    };\n    row.getCanSelectSubRows = () => {\n      var _table$options$enable2;\n      if (typeof table.options.enableSubRowSelection === 'function') {\n        return table.options.enableSubRowSelection(row);\n      }\n      return (_table$options$enable2 = table.options.enableSubRowSelection) != null ? _table$options$enable2 : true;\n    };\n    row.getCanMultiSelect = () => {\n      var _table$options$enable3;\n      if (typeof table.options.enableMultiRowSelection === 'function') {\n        return table.options.enableMultiRowSelection(row);\n      }\n      return (_table$options$enable3 = table.options.enableMultiRowSelection) != null ? _table$options$enable3 : true;\n    };\n    row.getToggleSelectedHandler = () => {\n      const canSelect = row.getCanSelect();\n      return e => {\n        var _target;\n        if (!canSelect) return;\n        row.toggleSelected((_target = e.target) == null ? void 0 : _target.checked);\n      };\n    };\n  }\n};\nconst mutateRowIsSelected = (selectedRowIds, id, value, includeChildren, table) => {\n  var _row$subRows;\n  const row = table.getRow(id, true);\n\n  // const isGrouped = row.getIsGrouped()\n\n  // if ( // TODO: enforce grouping row selection rules\n  //   !isGrouped ||\n  //   (isGrouped && table.options.enableGroupingRowSelection)\n  // ) {\n  if (value) {\n    if (!row.getCanMultiSelect()) {\n      Object.keys(selectedRowIds).forEach(key => delete selectedRowIds[key]);\n    }\n    if (row.getCanSelect()) {\n      selectedRowIds[id] = true;\n    }\n  } else {\n    delete selectedRowIds[id];\n  }\n  // }\n\n  if (includeChildren && (_row$subRows = row.subRows) != null && _row$subRows.length && row.getCanSelectSubRows()) {\n    row.subRows.forEach(row => mutateRowIsSelected(selectedRowIds, row.id, value, includeChildren, table));\n  }\n};\nfunction selectRowsFn(table, rowModel) {\n  const rowSelection = table.getState().rowSelection;\n  const newSelectedFlatRows = [];\n  const newSelectedRowsById = {};\n\n  // Filters top level and nested rows\n  const recurseRows = function (rows, depth) {\n    return rows.map(row => {\n      var _row$subRows2;\n      const isSelected = isRowSelected(row, rowSelection);\n      if (isSelected) {\n        newSelectedFlatRows.push(row);\n        newSelectedRowsById[row.id] = row;\n      }\n      if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length) {\n        row = {\n          ...row,\n          subRows: recurseRows(row.subRows)\n        };\n      }\n      if (isSelected) {\n        return row;\n      }\n    }).filter(Boolean);\n  };\n  return {\n    rows: recurseRows(rowModel.rows),\n    flatRows: newSelectedFlatRows,\n    rowsById: newSelectedRowsById\n  };\n}\nfunction isRowSelected(row, selection) {\n  var _selection$row$id;\n  return (_selection$row$id = selection[row.id]) != null ? _selection$row$id : false;\n}\nfunction isSubRowSelected(row, selection, table) {\n  var _row$subRows3;\n  if (!((_row$subRows3 = row.subRows) != null && _row$subRows3.length)) return false;\n  let allChildrenSelected = true;\n  let someSelected = false;\n  row.subRows.forEach(subRow => {\n    // Bail out early if we know both of these\n    if (someSelected && !allChildrenSelected) {\n      return;\n    }\n    if (subRow.getCanSelect()) {\n      if (isRowSelected(subRow, selection)) {\n        someSelected = true;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n\n    // Check row selection of nested subrows\n    if (subRow.subRows && subRow.subRows.length) {\n      const subRowChildrenSelected = isSubRowSelected(subRow, selection);\n      if (subRowChildrenSelected === 'all') {\n        someSelected = true;\n      } else if (subRowChildrenSelected === 'some') {\n        someSelected = true;\n        allChildrenSelected = false;\n      } else {\n        allChildrenSelected = false;\n      }\n    }\n  });\n  return allChildrenSelected ? 'all' : someSelected ? 'some' : false;\n}\n\nconst reSplitAlphaNumeric = /([0-9]+)/gm;\nconst alphanumeric = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\nconst alphanumericCaseSensitive = (rowA, rowB, columnId) => {\n  return compareAlphanumeric(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst text = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)).toLowerCase(), toString(rowB.getValue(columnId)).toLowerCase());\n};\n\n// The text filter is more basic (less numeric support)\n// but is much faster\nconst textCaseSensitive = (rowA, rowB, columnId) => {\n  return compareBasic(toString(rowA.getValue(columnId)), toString(rowB.getValue(columnId)));\n};\nconst datetime = (rowA, rowB, columnId) => {\n  const a = rowA.getValue(columnId);\n  const b = rowB.getValue(columnId);\n\n  // Can handle nullish values\n  // Use > and < because == (and ===) doesn't work with\n  // Date objects (would require calling getTime()).\n  return a > b ? 1 : a < b ? -1 : 0;\n};\nconst basic = (rowA, rowB, columnId) => {\n  return compareBasic(rowA.getValue(columnId), rowB.getValue(columnId));\n};\n\n// Utils\n\nfunction compareBasic(a, b) {\n  return a === b ? 0 : a > b ? 1 : -1;\n}\nfunction toString(a) {\n  if (typeof a === 'number') {\n    if (isNaN(a) || a === Infinity || a === -Infinity) {\n      return '';\n    }\n    return String(a);\n  }\n  if (typeof a === 'string') {\n    return a;\n  }\n  return '';\n}\n\n// Mixed sorting is slow, but very inclusive of many edge cases.\n// It handles numbers, mixed alphanumeric combinations, and even\n// null, undefined, and Infinity\nfunction compareAlphanumeric(aStr, bStr) {\n  // Split on number groups, but keep the delimiter\n  // Then remove falsey split values\n  const a = aStr.split(reSplitAlphaNumeric).filter(Boolean);\n  const b = bStr.split(reSplitAlphaNumeric).filter(Boolean);\n\n  // While\n  while (a.length && b.length) {\n    const aa = a.shift();\n    const bb = b.shift();\n    const an = parseInt(aa, 10);\n    const bn = parseInt(bb, 10);\n    const combo = [an, bn].sort();\n\n    // Both are string\n    if (isNaN(combo[0])) {\n      if (aa > bb) {\n        return 1;\n      }\n      if (bb > aa) {\n        return -1;\n      }\n      continue;\n    }\n\n    // One is a string, one is a number\n    if (isNaN(combo[1])) {\n      return isNaN(an) ? -1 : 1;\n    }\n\n    // Both are numbers\n    if (an > bn) {\n      return 1;\n    }\n    if (bn > an) {\n      return -1;\n    }\n  }\n  return a.length - b.length;\n}\n\n// Exports\n\nconst sortingFns = {\n  alphanumeric,\n  alphanumericCaseSensitive,\n  text,\n  textCaseSensitive,\n  datetime,\n  basic\n};\n\n//\n\nconst RowSorting = {\n  getInitialState: state => {\n    return {\n      sorting: [],\n      ...state\n    };\n  },\n  getDefaultColumnDef: () => {\n    return {\n      sortingFn: 'auto',\n      sortUndefined: 1\n    };\n  },\n  getDefaultOptions: table => {\n    return {\n      onSortingChange: makeStateUpdater('sorting', table),\n      isMultiSortEvent: e => {\n        return e.shiftKey;\n      }\n    };\n  },\n  createColumn: (column, table) => {\n    column.getAutoSortingFn = () => {\n      const firstRows = table.getFilteredRowModel().flatRows.slice(10);\n      let isString = false;\n      for (const row of firstRows) {\n        const value = row == null ? void 0 : row.getValue(column.id);\n        if (Object.prototype.toString.call(value) === '[object Date]') {\n          return sortingFns.datetime;\n        }\n        if (typeof value === 'string') {\n          isString = true;\n          if (value.split(reSplitAlphaNumeric).length > 1) {\n            return sortingFns.alphanumeric;\n          }\n        }\n      }\n      if (isString) {\n        return sortingFns.text;\n      }\n      return sortingFns.basic;\n    };\n    column.getAutoSortDir = () => {\n      const firstRow = table.getFilteredRowModel().flatRows[0];\n      const value = firstRow == null ? void 0 : firstRow.getValue(column.id);\n      if (typeof value === 'string') {\n        return 'asc';\n      }\n      return 'desc';\n    };\n    column.getSortingFn = () => {\n      var _table$options$sortin, _table$options$sortin2;\n      if (!column) {\n        throw new Error();\n      }\n      return isFunction(column.columnDef.sortingFn) ? column.columnDef.sortingFn : column.columnDef.sortingFn === 'auto' ? column.getAutoSortingFn() : (_table$options$sortin = (_table$options$sortin2 = table.options.sortingFns) == null ? void 0 : _table$options$sortin2[column.columnDef.sortingFn]) != null ? _table$options$sortin : sortingFns[column.columnDef.sortingFn];\n    };\n    column.toggleSorting = (desc, multi) => {\n      // if (column.columns.length) {\n      //   column.columns.forEach((c, i) => {\n      //     if (c.id) {\n      //       table.toggleColumnSorting(c.id, undefined, multi || !!i)\n      //     }\n      //   })\n      //   return\n      // }\n\n      // this needs to be outside of table.setSorting to be in sync with rerender\n      const nextSortingOrder = column.getNextSortingOrder();\n      const hasManualValue = typeof desc !== 'undefined' && desc !== null;\n      table.setSorting(old => {\n        // Find any existing sorting for this column\n        const existingSorting = old == null ? void 0 : old.find(d => d.id === column.id);\n        const existingIndex = old == null ? void 0 : old.findIndex(d => d.id === column.id);\n        let newSorting = [];\n\n        // What should we do with this sort action?\n        let sortAction;\n        let nextDesc = hasManualValue ? desc : nextSortingOrder === 'desc';\n\n        // Multi-mode\n        if (old != null && old.length && column.getCanMultiSort() && multi) {\n          if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'add';\n          }\n        } else {\n          // Normal mode\n          if (old != null && old.length && existingIndex !== old.length - 1) {\n            sortAction = 'replace';\n          } else if (existingSorting) {\n            sortAction = 'toggle';\n          } else {\n            sortAction = 'replace';\n          }\n        }\n\n        // Handle toggle states that will remove the sorting\n        if (sortAction === 'toggle') {\n          // If we are \"actually\" toggling (not a manual set value), should we remove the sorting?\n          if (!hasManualValue) {\n            // Is our intention to remove?\n            if (!nextSortingOrder) {\n              sortAction = 'remove';\n            }\n          }\n        }\n        if (sortAction === 'add') {\n          var _table$options$maxMul;\n          newSorting = [...old, {\n            id: column.id,\n            desc: nextDesc\n          }];\n          // Take latest n columns\n          newSorting.splice(0, newSorting.length - ((_table$options$maxMul = table.options.maxMultiSortColCount) != null ? _table$options$maxMul : Number.MAX_SAFE_INTEGER));\n        } else if (sortAction === 'toggle') {\n          // This flips (or sets) the\n          newSorting = old.map(d => {\n            if (d.id === column.id) {\n              return {\n                ...d,\n                desc: nextDesc\n              };\n            }\n            return d;\n          });\n        } else if (sortAction === 'remove') {\n          newSorting = old.filter(d => d.id !== column.id);\n        } else {\n          newSorting = [{\n            id: column.id,\n            desc: nextDesc\n          }];\n        }\n        return newSorting;\n      });\n    };\n    column.getFirstSortDir = () => {\n      var _ref, _column$columnDef$sor;\n      const sortDescFirst = (_ref = (_column$columnDef$sor = column.columnDef.sortDescFirst) != null ? _column$columnDef$sor : table.options.sortDescFirst) != null ? _ref : column.getAutoSortDir() === 'desc';\n      return sortDescFirst ? 'desc' : 'asc';\n    };\n    column.getNextSortingOrder = multi => {\n      var _table$options$enable, _table$options$enable2;\n      const firstSortDirection = column.getFirstSortDir();\n      const isSorted = column.getIsSorted();\n      if (!isSorted) {\n        return firstSortDirection;\n      }\n      if (isSorted !== firstSortDirection && ((_table$options$enable = table.options.enableSortingRemoval) != null ? _table$options$enable : true) && (\n      // If enableSortRemove, enable in general\n      multi ? (_table$options$enable2 = table.options.enableMultiRemove) != null ? _table$options$enable2 : true : true) // If multi, don't allow if enableMultiRemove))\n      ) {\n        return false;\n      }\n      return isSorted === 'desc' ? 'asc' : 'desc';\n    };\n    column.getCanSort = () => {\n      var _column$columnDef$ena, _table$options$enable3;\n      return ((_column$columnDef$ena = column.columnDef.enableSorting) != null ? _column$columnDef$ena : true) && ((_table$options$enable3 = table.options.enableSorting) != null ? _table$options$enable3 : true) && !!column.accessorFn;\n    };\n    column.getCanMultiSort = () => {\n      var _ref2, _column$columnDef$ena2;\n      return (_ref2 = (_column$columnDef$ena2 = column.columnDef.enableMultiSort) != null ? _column$columnDef$ena2 : table.options.enableMultiSort) != null ? _ref2 : !!column.accessorFn;\n    };\n    column.getIsSorted = () => {\n      var _table$getState$sorti;\n      const columnSort = (_table$getState$sorti = table.getState().sorting) == null ? void 0 : _table$getState$sorti.find(d => d.id === column.id);\n      return !columnSort ? false : columnSort.desc ? 'desc' : 'asc';\n    };\n    column.getSortIndex = () => {\n      var _table$getState$sorti2, _table$getState$sorti3;\n      return (_table$getState$sorti2 = (_table$getState$sorti3 = table.getState().sorting) == null ? void 0 : _table$getState$sorti3.findIndex(d => d.id === column.id)) != null ? _table$getState$sorti2 : -1;\n    };\n    column.clearSorting = () => {\n      //clear sorting for just 1 column\n      table.setSorting(old => old != null && old.length ? old.filter(d => d.id !== column.id) : []);\n    };\n    column.getToggleSortingHandler = () => {\n      const canSort = column.getCanSort();\n      return e => {\n        if (!canSort) return;\n        e.persist == null || e.persist();\n        column.toggleSorting == null || column.toggleSorting(undefined, column.getCanMultiSort() ? table.options.isMultiSortEvent == null ? void 0 : table.options.isMultiSortEvent(e) : false);\n      };\n    };\n  },\n  createTable: table => {\n    table.setSorting = updater => table.options.onSortingChange == null ? void 0 : table.options.onSortingChange(updater);\n    table.resetSorting = defaultState => {\n      var _table$initialState$s, _table$initialState;\n      table.setSorting(defaultState ? [] : (_table$initialState$s = (_table$initialState = table.initialState) == null ? void 0 : _table$initialState.sorting) != null ? _table$initialState$s : []);\n    };\n    table.getPreSortedRowModel = () => table.getGroupedRowModel();\n    table.getSortedRowModel = () => {\n      if (!table._getSortedRowModel && table.options.getSortedRowModel) {\n        table._getSortedRowModel = table.options.getSortedRowModel(table);\n      }\n      if (table.options.manualSorting || !table._getSortedRowModel) {\n        return table.getPreSortedRowModel();\n      }\n      return table._getSortedRowModel();\n    };\n  }\n};\n\nconst builtInFeatures = [Headers, ColumnVisibility, ColumnOrdering, ColumnPinning, ColumnFaceting, ColumnFiltering, GlobalFaceting,\n//depends on ColumnFaceting\nGlobalFiltering,\n//depends on ColumnFiltering\nRowSorting, ColumnGrouping,\n//depends on RowSorting\nRowExpanding, RowPagination, RowPinning, RowSelection, ColumnSizing];\n\n//\n\nfunction createTable(options) {\n  var _options$_features, _options$initialState;\n  if (process.env.NODE_ENV !== 'production' && (options.debugAll || options.debugTable)) {\n    console.info('Creating Table Instance...');\n  }\n  const _features = [...builtInFeatures, ...((_options$_features = options._features) != null ? _options$_features : [])];\n  let table = {\n    _features\n  };\n  const defaultOptions = table._features.reduce((obj, feature) => {\n    return Object.assign(obj, feature.getDefaultOptions == null ? void 0 : feature.getDefaultOptions(table));\n  }, {});\n  const mergeOptions = options => {\n    if (table.options.mergeOptions) {\n      return table.options.mergeOptions(defaultOptions, options);\n    }\n    return {\n      ...defaultOptions,\n      ...options\n    };\n  };\n  const coreInitialState = {};\n  let initialState = {\n    ...coreInitialState,\n    ...((_options$initialState = options.initialState) != null ? _options$initialState : {})\n  };\n  table._features.forEach(feature => {\n    var _feature$getInitialSt;\n    initialState = (_feature$getInitialSt = feature.getInitialState == null ? void 0 : feature.getInitialState(initialState)) != null ? _feature$getInitialSt : initialState;\n  });\n  const queued = [];\n  let queuedTimeout = false;\n  const coreInstance = {\n    _features,\n    options: {\n      ...defaultOptions,\n      ...options\n    },\n    initialState,\n    _queue: cb => {\n      queued.push(cb);\n      if (!queuedTimeout) {\n        queuedTimeout = true;\n\n        // Schedule a microtask to run the queued callbacks after\n        // the current call stack (render, etc) has finished.\n        Promise.resolve().then(() => {\n          while (queued.length) {\n            queued.shift()();\n          }\n          queuedTimeout = false;\n        }).catch(error => setTimeout(() => {\n          throw error;\n        }));\n      }\n    },\n    reset: () => {\n      table.setState(table.initialState);\n    },\n    setOptions: updater => {\n      const newOptions = functionalUpdate(updater, table.options);\n      table.options = mergeOptions(newOptions);\n    },\n    getState: () => {\n      return table.options.state;\n    },\n    setState: updater => {\n      table.options.onStateChange == null || table.options.onStateChange(updater);\n    },\n    _getRowId: (row, index, parent) => {\n      var _table$options$getRow;\n      return (_table$options$getRow = table.options.getRowId == null ? void 0 : table.options.getRowId(row, index, parent)) != null ? _table$options$getRow : `${parent ? [parent.id, index].join('.') : index}`;\n    },\n    getCoreRowModel: () => {\n      if (!table._getCoreRowModel) {\n        table._getCoreRowModel = table.options.getCoreRowModel(table);\n      }\n      return table._getCoreRowModel();\n    },\n    // The final calls start at the bottom of the model,\n    // expanded rows, which then work their way up\n\n    getRowModel: () => {\n      return table.getPaginationRowModel();\n    },\n    //in next version, we should just pass in the row model as the optional 2nd arg\n    getRow: (id, searchAll) => {\n      let row = (searchAll ? table.getPrePaginationRowModel() : table.getRowModel()).rowsById[id];\n      if (!row) {\n        row = table.getCoreRowModel().rowsById[id];\n        if (!row) {\n          if (process.env.NODE_ENV !== 'production') {\n            throw new Error(`getRow could not find row with ID: ${id}`);\n          }\n          throw new Error();\n        }\n      }\n      return row;\n    },\n    _getDefaultColumnDef: memo(() => [table.options.defaultColumn], defaultColumn => {\n      var _defaultColumn;\n      defaultColumn = (_defaultColumn = defaultColumn) != null ? _defaultColumn : {};\n      return {\n        header: props => {\n          const resolvedColumnDef = props.header.column.columnDef;\n          if (resolvedColumnDef.accessorKey) {\n            return resolvedColumnDef.accessorKey;\n          }\n          if (resolvedColumnDef.accessorFn) {\n            return resolvedColumnDef.id;\n          }\n          return null;\n        },\n        // footer: props => props.header.column.id,\n        cell: props => {\n          var _props$renderValue$to, _props$renderValue;\n          return (_props$renderValue$to = (_props$renderValue = props.renderValue()) == null || _props$renderValue.toString == null ? void 0 : _props$renderValue.toString()) != null ? _props$renderValue$to : null;\n        },\n        ...table._features.reduce((obj, feature) => {\n          return Object.assign(obj, feature.getDefaultColumnDef == null ? void 0 : feature.getDefaultColumnDef());\n        }, {}),\n        ...defaultColumn\n      };\n    }, getMemoOptions(options, 'debugColumns', '_getDefaultColumnDef')),\n    _getColumnDefs: () => table.options.columns,\n    getAllColumns: memo(() => [table._getColumnDefs()], columnDefs => {\n      const recurseColumns = function (columnDefs, parent, depth) {\n        if (depth === void 0) {\n          depth = 0;\n        }\n        return columnDefs.map(columnDef => {\n          const column = createColumn(table, columnDef, depth, parent);\n          const groupingColumnDef = columnDef;\n          column.columns = groupingColumnDef.columns ? recurseColumns(groupingColumnDef.columns, column, depth + 1) : [];\n          return column;\n        });\n      };\n      return recurseColumns(columnDefs);\n    }, getMemoOptions(options, 'debugColumns', 'getAllColumns')),\n    getAllFlatColumns: memo(() => [table.getAllColumns()], allColumns => {\n      return allColumns.flatMap(column => {\n        return column.getFlatColumns();\n      });\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumns')),\n    _getAllFlatColumnsById: memo(() => [table.getAllFlatColumns()], flatColumns => {\n      return flatColumns.reduce((acc, column) => {\n        acc[column.id] = column;\n        return acc;\n      }, {});\n    }, getMemoOptions(options, 'debugColumns', 'getAllFlatColumnsById')),\n    getAllLeafColumns: memo(() => [table.getAllColumns(), table._getOrderColumnsFn()], (allColumns, orderColumns) => {\n      let leafColumns = allColumns.flatMap(column => column.getLeafColumns());\n      return orderColumns(leafColumns);\n    }, getMemoOptions(options, 'debugColumns', 'getAllLeafColumns')),\n    getColumn: columnId => {\n      const column = table._getAllFlatColumnsById()[columnId];\n      if (process.env.NODE_ENV !== 'production' && !column) {\n        console.error(`[Table] Column with id '${columnId}' does not exist.`);\n      }\n      return column;\n    }\n  };\n  Object.assign(table, coreInstance);\n  for (let index = 0; index < table._features.length; index++) {\n    const feature = table._features[index];\n    feature == null || feature.createTable == null || feature.createTable(table);\n  }\n  return table;\n}\n\nfunction getCoreRowModel() {\n  return table => memo(() => [table.options.data], data => {\n    const rowModel = {\n      rows: [],\n      flatRows: [],\n      rowsById: {}\n    };\n    const accessRows = function (originalRows, depth, parentRow) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      const rows = [];\n      for (let i = 0; i < originalRows.length; i++) {\n        // This could be an expensive check at scale, so we should move it somewhere else, but where?\n        // if (!id) {\n        //   if (process.env.NODE_ENV !== 'production') {\n        //     throw new Error(`getRowId expected an ID, but got ${id}`)\n        //   }\n        // }\n\n        // Make the row\n        const row = createRow(table, table._getRowId(originalRows[i], i, parentRow), originalRows[i], i, depth, undefined, parentRow == null ? void 0 : parentRow.id);\n\n        // Keep track of every row in a flat array\n        rowModel.flatRows.push(row);\n        // Also keep track of every row by its ID\n        rowModel.rowsById[row.id] = row;\n        // Push table row into parent\n        rows.push(row);\n\n        // Get the original subrows\n        if (table.options.getSubRows) {\n          var _row$originalSubRows;\n          row.originalSubRows = table.options.getSubRows(originalRows[i], i);\n\n          // Then recursively access them\n          if ((_row$originalSubRows = row.originalSubRows) != null && _row$originalSubRows.length) {\n            row.subRows = accessRows(row.originalSubRows, depth + 1, row);\n          }\n        }\n      }\n      return rows;\n    };\n    rowModel.rows = accessRows(data);\n    return rowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getExpandedRowModel() {\n  return table => memo(() => [table.getState().expanded, table.getPreExpandedRowModel(), table.options.paginateExpandedRows], (expanded, rowModel, paginateExpandedRows) => {\n    if (!rowModel.rows.length || expanded !== true && !Object.keys(expanded != null ? expanded : {}).length) {\n      return rowModel;\n    }\n    if (!paginateExpandedRows) {\n      // Only expand rows at this point if they are being paginated\n      return rowModel;\n    }\n    return expandRows(rowModel);\n  }, getMemoOptions(table.options, 'debugTable', 'getExpandedRowModel'));\n}\nfunction expandRows(rowModel) {\n  const expandedRows = [];\n  const handleRow = row => {\n    var _row$subRows;\n    expandedRows.push(row);\n    if ((_row$subRows = row.subRows) != null && _row$subRows.length && row.getIsExpanded()) {\n      row.subRows.forEach(handleRow);\n    }\n  };\n  rowModel.rows.forEach(handleRow);\n  return {\n    rows: expandedRows,\n    flatRows: rowModel.flatRows,\n    rowsById: rowModel.rowsById\n  };\n}\n\nfunction getFacetedMinMaxValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return undefined;\n    const uniqueValues = facetedRowModel.flatRows.flatMap(flatRow => {\n      var _flatRow$getUniqueVal;\n      return (_flatRow$getUniqueVal = flatRow.getUniqueValues(columnId)) != null ? _flatRow$getUniqueVal : [];\n    }).map(Number).filter(value => !Number.isNaN(value));\n    if (!uniqueValues.length) return;\n    let facetedMinValue = uniqueValues[0];\n    let facetedMaxValue = uniqueValues[uniqueValues.length - 1];\n    for (const value of uniqueValues) {\n      if (value < facetedMinValue) facetedMinValue = value;else if (value > facetedMaxValue) facetedMaxValue = value;\n    }\n    return [facetedMinValue, facetedMaxValue];\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedMinMaxValues'));\n}\n\nfunction filterRows(rows, filterRowImpl, table) {\n  if (table.options.filterFromLeafRows) {\n    return filterRowModelFromLeafs(rows, filterRowImpl, table);\n  }\n  return filterRowModelFromRoot(rows, filterRowImpl, table);\n}\nfunction filterRowModelFromLeafs(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea : 100;\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    const rows = [];\n\n    // Filter from children up first\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      var _row$subRows;\n      let row = rowsToFilter[i];\n      const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n      newRow.columnFilters = row.columnFilters;\n      if ((_row$subRows = row.subRows) != null && _row$subRows.length && depth < maxDepth) {\n        newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n        row = newRow;\n        if (filterRow(row) && !newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n        if (filterRow(row) || newRow.subRows.length) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n          continue;\n        }\n      } else {\n        row = newRow;\n        if (filterRow(row)) {\n          rows.push(row);\n          newFilteredRowsById[row.id] = row;\n          newFilteredFlatRows.push(row);\n        }\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\nfunction filterRowModelFromRoot(rowsToFilter, filterRow, table) {\n  var _table$options$maxLea2;\n  const newFilteredFlatRows = [];\n  const newFilteredRowsById = {};\n  const maxDepth = (_table$options$maxLea2 = table.options.maxLeafRowFilterDepth) != null ? _table$options$maxLea2 : 100;\n\n  // Filters top level and nested rows\n  const recurseFilterRows = function (rowsToFilter, depth) {\n    if (depth === void 0) {\n      depth = 0;\n    }\n    // Filter from parents downward first\n\n    const rows = [];\n\n    // Apply the filter to any subRows\n    for (let i = 0; i < rowsToFilter.length; i++) {\n      let row = rowsToFilter[i];\n      const pass = filterRow(row);\n      if (pass) {\n        var _row$subRows2;\n        if ((_row$subRows2 = row.subRows) != null && _row$subRows2.length && depth < maxDepth) {\n          const newRow = createRow(table, row.id, row.original, row.index, row.depth, undefined, row.parentId);\n          newRow.subRows = recurseFilterRows(row.subRows, depth + 1);\n          row = newRow;\n        }\n        rows.push(row);\n        newFilteredFlatRows.push(row);\n        newFilteredRowsById[row.id] = row;\n      }\n    }\n    return rows;\n  };\n  return {\n    rows: recurseFilterRows(rowsToFilter),\n    flatRows: newFilteredFlatRows,\n    rowsById: newFilteredRowsById\n  };\n}\n\nfunction getFacetedRowModel() {\n  return (table, columnId) => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter, table.getFilteredRowModel()], (preRowModel, columnFilters, globalFilter) => {\n    if (!preRowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      return preRowModel;\n    }\n    const filterableIds = [...columnFilters.map(d => d.id).filter(d => d !== columnId), globalFilter ? '__global__' : undefined].filter(Boolean);\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n    return filterRows(preRowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFacetedRowModel'));\n}\n\nfunction getFacetedUniqueValues() {\n  return (table, columnId) => memo(() => {\n    var _table$getColumn;\n    return [(_table$getColumn = table.getColumn(columnId)) == null ? void 0 : _table$getColumn.getFacetedRowModel()];\n  }, facetedRowModel => {\n    if (!facetedRowModel) return new Map();\n    let facetedUniqueValues = new Map();\n    for (let i = 0; i < facetedRowModel.flatRows.length; i++) {\n      const values = facetedRowModel.flatRows[i].getUniqueValues(columnId);\n      for (let j = 0; j < values.length; j++) {\n        const value = values[j];\n        if (facetedUniqueValues.has(value)) {\n          var _facetedUniqueValues$;\n          facetedUniqueValues.set(value, ((_facetedUniqueValues$ = facetedUniqueValues.get(value)) != null ? _facetedUniqueValues$ : 0) + 1);\n        } else {\n          facetedUniqueValues.set(value, 1);\n        }\n      }\n    }\n    return facetedUniqueValues;\n  }, getMemoOptions(table.options, 'debugTable', `getFacetedUniqueValues_${columnId}`));\n}\n\nfunction getFilteredRowModel() {\n  return table => memo(() => [table.getPreFilteredRowModel(), table.getState().columnFilters, table.getState().globalFilter], (rowModel, columnFilters, globalFilter) => {\n    if (!rowModel.rows.length || !(columnFilters != null && columnFilters.length) && !globalFilter) {\n      for (let i = 0; i < rowModel.flatRows.length; i++) {\n        rowModel.flatRows[i].columnFilters = {};\n        rowModel.flatRows[i].columnFiltersMeta = {};\n      }\n      return rowModel;\n    }\n    const resolvedColumnFilters = [];\n    const resolvedGlobalFilters = [];\n    (columnFilters != null ? columnFilters : []).forEach(d => {\n      var _filterFn$resolveFilt;\n      const column = table.getColumn(d.id);\n      if (!column) {\n        return;\n      }\n      const filterFn = column.getFilterFn();\n      if (!filterFn) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.warn(`Could not find a valid 'column.filterFn' for column with the ID: ${column.id}.`);\n        }\n        return;\n      }\n      resolvedColumnFilters.push({\n        id: d.id,\n        filterFn,\n        resolvedValue: (_filterFn$resolveFilt = filterFn.resolveFilterValue == null ? void 0 : filterFn.resolveFilterValue(d.value)) != null ? _filterFn$resolveFilt : d.value\n      });\n    });\n    const filterableIds = (columnFilters != null ? columnFilters : []).map(d => d.id);\n    const globalFilterFn = table.getGlobalFilterFn();\n    const globallyFilterableColumns = table.getAllLeafColumns().filter(column => column.getCanGlobalFilter());\n    if (globalFilter && globalFilterFn && globallyFilterableColumns.length) {\n      filterableIds.push('__global__');\n      globallyFilterableColumns.forEach(column => {\n        var _globalFilterFn$resol;\n        resolvedGlobalFilters.push({\n          id: column.id,\n          filterFn: globalFilterFn,\n          resolvedValue: (_globalFilterFn$resol = globalFilterFn.resolveFilterValue == null ? void 0 : globalFilterFn.resolveFilterValue(globalFilter)) != null ? _globalFilterFn$resol : globalFilter\n        });\n      });\n    }\n    let currentColumnFilter;\n    let currentGlobalFilter;\n\n    // Flag the prefiltered row model with each filter state\n    for (let j = 0; j < rowModel.flatRows.length; j++) {\n      const row = rowModel.flatRows[j];\n      row.columnFilters = {};\n      if (resolvedColumnFilters.length) {\n        for (let i = 0; i < resolvedColumnFilters.length; i++) {\n          currentColumnFilter = resolvedColumnFilters[i];\n          const id = currentColumnFilter.id;\n\n          // Tag the row with the column filter state\n          row.columnFilters[id] = currentColumnFilter.filterFn(row, id, currentColumnFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          });\n        }\n      }\n      if (resolvedGlobalFilters.length) {\n        for (let i = 0; i < resolvedGlobalFilters.length; i++) {\n          currentGlobalFilter = resolvedGlobalFilters[i];\n          const id = currentGlobalFilter.id;\n          // Tag the row with the first truthy global filter state\n          if (currentGlobalFilter.filterFn(row, id, currentGlobalFilter.resolvedValue, filterMeta => {\n            row.columnFiltersMeta[id] = filterMeta;\n          })) {\n            row.columnFilters.__global__ = true;\n            break;\n          }\n        }\n        if (row.columnFilters.__global__ !== true) {\n          row.columnFilters.__global__ = false;\n        }\n      }\n    }\n    const filterRowsImpl = row => {\n      // Horizontally filter rows through each column\n      for (let i = 0; i < filterableIds.length; i++) {\n        if (row.columnFilters[filterableIds[i]] === false) {\n          return false;\n        }\n      }\n      return true;\n    };\n\n    // Filter final rows using all of the active filters\n    return filterRows(rowModel.rows, filterRowsImpl, table);\n  }, getMemoOptions(table.options, 'debugTable', 'getFilteredRowModel', () => table._autoResetPageIndex()));\n}\n\nfunction getGroupedRowModel() {\n  return table => memo(() => [table.getState().grouping, table.getPreGroupedRowModel()], (grouping, rowModel) => {\n    if (!rowModel.rows.length || !grouping.length) {\n      rowModel.rows.forEach(row => {\n        row.depth = 0;\n        row.parentId = undefined;\n      });\n      return rowModel;\n    }\n\n    // Filter the grouping list down to columns that exist\n    const existingGrouping = grouping.filter(columnId => table.getColumn(columnId));\n    const groupedFlatRows = [];\n    const groupedRowsById = {};\n    // const onlyGroupedFlatRows: Row[] = [];\n    // const onlyGroupedRowsById: Record<RowId, Row> = {};\n    // const nonGroupedFlatRows: Row[] = [];\n    // const nonGroupedRowsById: Record<RowId, Row> = {};\n\n    // Recursively group the data\n    const groupUpRecursively = function (rows, depth, parentId) {\n      if (depth === void 0) {\n        depth = 0;\n      }\n      // Grouping depth has been been met\n      // Stop grouping and simply rewrite thd depth and row relationships\n      if (depth >= existingGrouping.length) {\n        return rows.map(row => {\n          row.depth = depth;\n          groupedFlatRows.push(row);\n          groupedRowsById[row.id] = row;\n          if (row.subRows) {\n            row.subRows = groupUpRecursively(row.subRows, depth + 1, row.id);\n          }\n          return row;\n        });\n      }\n      const columnId = existingGrouping[depth];\n\n      // Group the rows together for this level\n      const rowGroupsMap = groupBy(rows, columnId);\n\n      // Perform aggregations for each group\n      const aggregatedGroupedRows = Array.from(rowGroupsMap.entries()).map((_ref, index) => {\n        let [groupingValue, groupedRows] = _ref;\n        let id = `${columnId}:${groupingValue}`;\n        id = parentId ? `${parentId}>${id}` : id;\n\n        // First, Recurse to group sub rows before aggregation\n        const subRows = groupUpRecursively(groupedRows, depth + 1, id);\n        subRows.forEach(subRow => {\n          subRow.parentId = id;\n        });\n\n        // Flatten the leaf rows of the rows in this group\n        const leafRows = depth ? flattenBy(groupedRows, row => row.subRows) : groupedRows;\n        const row = createRow(table, id, leafRows[0].original, index, depth, undefined, parentId);\n        Object.assign(row, {\n          groupingColumnId: columnId,\n          groupingValue,\n          subRows,\n          leafRows,\n          getValue: columnId => {\n            // Don't aggregate columns that are in the grouping\n            if (existingGrouping.includes(columnId)) {\n              if (row._valuesCache.hasOwnProperty(columnId)) {\n                return row._valuesCache[columnId];\n              }\n              if (groupedRows[0]) {\n                var _groupedRows$0$getVal;\n                row._valuesCache[columnId] = (_groupedRows$0$getVal = groupedRows[0].getValue(columnId)) != null ? _groupedRows$0$getVal : undefined;\n              }\n              return row._valuesCache[columnId];\n            }\n            if (row._groupingValuesCache.hasOwnProperty(columnId)) {\n              return row._groupingValuesCache[columnId];\n            }\n\n            // Aggregate the values\n            const column = table.getColumn(columnId);\n            const aggregateFn = column == null ? void 0 : column.getAggregationFn();\n            if (aggregateFn) {\n              row._groupingValuesCache[columnId] = aggregateFn(columnId, leafRows, groupedRows);\n              return row._groupingValuesCache[columnId];\n            }\n          }\n        });\n        subRows.forEach(subRow => {\n          groupedFlatRows.push(subRow);\n          groupedRowsById[subRow.id] = subRow;\n          // if (subRow.getIsGrouped?.()) {\n          //   onlyGroupedFlatRows.push(subRow);\n          //   onlyGroupedRowsById[subRow.id] = subRow;\n          // } else {\n          //   nonGroupedFlatRows.push(subRow);\n          //   nonGroupedRowsById[subRow.id] = subRow;\n          // }\n        });\n        return row;\n      });\n      return aggregatedGroupedRows;\n    };\n    const groupedRows = groupUpRecursively(rowModel.rows, 0);\n    groupedRows.forEach(subRow => {\n      groupedFlatRows.push(subRow);\n      groupedRowsById[subRow.id] = subRow;\n      // if (subRow.getIsGrouped?.()) {\n      //   onlyGroupedFlatRows.push(subRow);\n      //   onlyGroupedRowsById[subRow.id] = subRow;\n      // } else {\n      //   nonGroupedFlatRows.push(subRow);\n      //   nonGroupedRowsById[subRow.id] = subRow;\n      // }\n    });\n    return {\n      rows: groupedRows,\n      flatRows: groupedFlatRows,\n      rowsById: groupedRowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getGroupedRowModel', () => {\n    table._queue(() => {\n      table._autoResetExpanded();\n      table._autoResetPageIndex();\n    });\n  }));\n}\nfunction groupBy(rows, columnId) {\n  const groupMap = new Map();\n  return rows.reduce((map, row) => {\n    const resKey = `${row.getGroupingValue(columnId)}`;\n    const previous = map.get(resKey);\n    if (!previous) {\n      map.set(resKey, [row]);\n    } else {\n      previous.push(row);\n    }\n    return map;\n  }, groupMap);\n}\n\nfunction getPaginationRowModel(opts) {\n  return table => memo(() => [table.getState().pagination, table.getPrePaginationRowModel(), table.options.paginateExpandedRows ? undefined : table.getState().expanded], (pagination, rowModel) => {\n    if (!rowModel.rows.length) {\n      return rowModel;\n    }\n    const {\n      pageSize,\n      pageIndex\n    } = pagination;\n    let {\n      rows,\n      flatRows,\n      rowsById\n    } = rowModel;\n    const pageStart = pageSize * pageIndex;\n    const pageEnd = pageStart + pageSize;\n    rows = rows.slice(pageStart, pageEnd);\n    let paginatedRowModel;\n    if (!table.options.paginateExpandedRows) {\n      paginatedRowModel = expandRows({\n        rows,\n        flatRows,\n        rowsById\n      });\n    } else {\n      paginatedRowModel = {\n        rows,\n        flatRows,\n        rowsById\n      };\n    }\n    paginatedRowModel.flatRows = [];\n    const handleRow = row => {\n      paginatedRowModel.flatRows.push(row);\n      if (row.subRows.length) {\n        row.subRows.forEach(handleRow);\n      }\n    };\n    paginatedRowModel.rows.forEach(handleRow);\n    return paginatedRowModel;\n  }, getMemoOptions(table.options, 'debugTable', 'getPaginationRowModel'));\n}\n\nfunction getSortedRowModel() {\n  return table => memo(() => [table.getState().sorting, table.getPreSortedRowModel()], (sorting, rowModel) => {\n    if (!rowModel.rows.length || !(sorting != null && sorting.length)) {\n      return rowModel;\n    }\n    const sortingState = table.getState().sorting;\n    const sortedFlatRows = [];\n\n    // Filter out sortings that correspond to non existing columns\n    const availableSorting = sortingState.filter(sort => {\n      var _table$getColumn;\n      return (_table$getColumn = table.getColumn(sort.id)) == null ? void 0 : _table$getColumn.getCanSort();\n    });\n    const columnInfoById = {};\n    availableSorting.forEach(sortEntry => {\n      const column = table.getColumn(sortEntry.id);\n      if (!column) return;\n      columnInfoById[sortEntry.id] = {\n        sortUndefined: column.columnDef.sortUndefined,\n        invertSorting: column.columnDef.invertSorting,\n        sortingFn: column.getSortingFn()\n      };\n    });\n    const sortData = rows => {\n      // This will also perform a stable sorting using the row index\n      // if needed.\n      const sortedData = rows.map(row => ({\n        ...row\n      }));\n      sortedData.sort((rowA, rowB) => {\n        for (let i = 0; i < availableSorting.length; i += 1) {\n          var _sortEntry$desc;\n          const sortEntry = availableSorting[i];\n          const columnInfo = columnInfoById[sortEntry.id];\n          const sortUndefined = columnInfo.sortUndefined;\n          const isDesc = (_sortEntry$desc = sortEntry == null ? void 0 : sortEntry.desc) != null ? _sortEntry$desc : false;\n          let sortInt = 0;\n\n          // All sorting ints should always return in ascending order\n          if (sortUndefined) {\n            const aValue = rowA.getValue(sortEntry.id);\n            const bValue = rowB.getValue(sortEntry.id);\n            const aUndefined = aValue === undefined;\n            const bUndefined = bValue === undefined;\n            if (aUndefined || bUndefined) {\n              if (sortUndefined === 'first') return aUndefined ? -1 : 1;\n              if (sortUndefined === 'last') return aUndefined ? 1 : -1;\n              sortInt = aUndefined && bUndefined ? 0 : aUndefined ? sortUndefined : -sortUndefined;\n            }\n          }\n          if (sortInt === 0) {\n            sortInt = columnInfo.sortingFn(rowA, rowB, sortEntry.id);\n          }\n\n          // If sorting is non-zero, take care of desc and inversion\n          if (sortInt !== 0) {\n            if (isDesc) {\n              sortInt *= -1;\n            }\n            if (columnInfo.invertSorting) {\n              sortInt *= -1;\n            }\n            return sortInt;\n          }\n        }\n        return rowA.index - rowB.index;\n      });\n\n      // If there are sub-rows, sort them\n      sortedData.forEach(row => {\n        var _row$subRows;\n        sortedFlatRows.push(row);\n        if ((_row$subRows = row.subRows) != null && _row$subRows.length) {\n          row.subRows = sortData(row.subRows);\n        }\n      });\n      return sortedData;\n    };\n    return {\n      rows: sortData(rowModel.rows),\n      flatRows: sortedFlatRows,\n      rowsById: rowModel.rowsById\n    };\n  }, getMemoOptions(table.options, 'debugTable', 'getSortedRowModel', () => table._autoResetPageIndex()));\n}\n\nexport { ColumnFaceting, ColumnFiltering, ColumnGrouping, ColumnOrdering, ColumnPinning, ColumnSizing, ColumnVisibility, GlobalFaceting, GlobalFiltering, Headers, RowExpanding, RowPagination, RowPinning, RowSelection, RowSorting, _getVisibleLeafColumns, aggregationFns, buildHeaderGroups, createCell, createColumn, createColumnHelper, createRow, createTable, defaultColumnSizing, expandRows, filterFns, flattenBy, functionalUpdate, getCoreRowModel, getExpandedRowModel, getFacetedMinMaxValues, getFacetedRowModel, getFacetedUniqueValues, getFilteredRowModel, getGroupedRowModel, getMemoOptions, getPaginationRowModel, getSortedRowModel, isFunction, isNumberArray, isRowSelected, isSubRowSelected, makeStateUpdater, memo, noop, orderColumns, passiveEventSupported, reSplitAlphaNumeric, selectRowsFn, shouldAutoRemoveFilter, sortingFns };\n//# sourceMappingURL=index.mjs.map\n","/**\n   * react-table\n   *\n   * Copyright (c) TanStack\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE.md file in the root directory of this source tree.\n   *\n   * @license MIT\n   */\nimport * as React from 'react';\nimport { createTable } from '@tanstack/table-core';\nexport * from '@tanstack/table-core';\n\n//\n\n/**\n * If rendering headers, cells, or footers with custom markup, use flexRender instead of `cell.getValue()` or `cell.renderValue()`.\n */\nfunction flexRender(Comp, props) {\n  return !Comp ? null : isReactComponent(Comp) ? /*#__PURE__*/React.createElement(Comp, props) : Comp;\n}\nfunction isReactComponent(component) {\n  return isClassComponent(component) || typeof component === 'function' || isExoticComponent(component);\n}\nfunction isClassComponent(component) {\n  return typeof component === 'function' && (() => {\n    const proto = Object.getPrototypeOf(component);\n    return proto.prototype && proto.prototype.isReactComponent;\n  })();\n}\nfunction isExoticComponent(component) {\n  return typeof component === 'object' && typeof component.$$typeof === 'symbol' && ['react.memo', 'react.forward_ref'].includes(component.$$typeof.description);\n}\nfunction useReactTable(options) {\n  // Compose in the generic options to the user options\n  const resolvedOptions = {\n    state: {},\n    // Dummy state\n    onStateChange: () => {},\n    // noop\n    renderFallbackValue: null,\n    ...options\n  };\n\n  // Create a new table and store it in state\n  const [tableRef] = React.useState(() => ({\n    current: createTable(resolvedOptions)\n  }));\n\n  // By default, manage table state here using the table's initial state\n  const [state, setState] = React.useState(() => tableRef.current.initialState);\n\n  // Compose the default state above with any user state. This will allow the user\n  // to only control a subset of the state if desired.\n  tableRef.current.setOptions(prev => ({\n    ...prev,\n    ...options,\n    state: {\n      ...state,\n      ...options.state\n    },\n    // Similarly, we'll maintain both our internal state and any user-provided\n    // state.\n    onStateChange: updater => {\n      setState(updater);\n      options.onStateChange == null || options.onStateChange(updater);\n    }\n  }));\n  return tableRef.current;\n}\n\nexport { flexRender, useReactTable };\n//# sourceMappingURL=index.mjs.map\n","import { useEffect, useState } from 'react';\r\n\r\n// Breakpoints that match Tailwind's default breakpoints\r\ntype Breakpoint = 'sm' | 'md' | 'lg' | 'xl' | '2xl';\r\n\r\nconst breakpointMap: Record<Breakpoint, number> = {\r\n  sm: 640,\r\n  md: 768,\r\n  lg: 1024,\r\n  xl: 1280,\r\n  '2xl': 1536,\r\n};\r\n\r\n/**\r\n * Custom hook to check if the current viewport matches a minimum width breakpoint\r\n * @param breakpoint The minimum breakpoint to check for\r\n * @returns Boolean indicating if the viewport is at least as wide as the breakpoint\r\n */\r\nexport function useBreakpoint(breakpoint: Breakpoint): boolean {\r\n  const [matches, setMatches] = useState<boolean>(false);\r\n\r\n  useEffect(() => {\r\n    // Initial check\r\n    const width = window.innerWidth;\r\n    setMatches(width >= breakpointMap[breakpoint]);\r\n\r\n    // Set up the media query\r\n    const mediaQuery = window.matchMedia(\r\n      `(min-width: ${breakpointMap[breakpoint]}px)`\r\n    );\r\n    \r\n    // Set the initial value\r\n    setMatches(mediaQuery.matches);\r\n\r\n    // Define our event listener\r\n    const handleChange = (e: MediaQueryListEvent) => {\r\n      setMatches(e.matches);\r\n    };\r\n\r\n    // Add the event listener\r\n    mediaQuery.addEventListener('change', handleChange);\r\n\r\n    // Cleanup\r\n    return () => {\r\n      mediaQuery.removeEventListener('change', handleChange);\r\n    };\r\n  }, [breakpoint]);\r\n\r\n  return matches;\r\n}\r\n\r\n/**\r\n * Get the current active breakpoint name\r\n * @returns The current active breakpoint from 'xs' to '2xl'\r\n */\r\nexport function useActiveBreakpoint(): 'xs' | Breakpoint {\r\n  const sm = useBreakpoint('sm');\r\n  const md = useBreakpoint('md');\r\n  const lg = useBreakpoint('lg');\r\n  const xl = useBreakpoint('xl');\r\n  const xxl = useBreakpoint('2xl');\r\n\r\n  if (xxl) return '2xl';\r\n  if (xl) return 'xl';\r\n  if (lg) return 'lg';\r\n  if (md) return 'md';\r\n  if (sm) return 'sm';\r\n  return 'xs';\r\n}\r\n","import { useEffect, useRef, useState } from 'react';\r\n\r\n/**\r\n * Hook for managing responsive tables with horizontal scrolling\r\n * @returns An object with refs and state for managing responsive tables\r\n */\r\nexport function useTableResponsive() {\r\n  const tableRef = useRef<HTMLDivElement>(null);\r\n  const [hasScrolled, setHasScrolled] = useState(false);\r\n  const [isScrollable, setIsScrollable] = useState(false);\r\n\r\n  // Check if table is scrollable (content wider than container)\r\n  const checkIfScrollable = () => {\r\n    if (tableRef.current) {\r\n      const { scrollWidth, clientWidth } = tableRef.current;\r\n      setIsScrollable(scrollWidth > clientWidth);\r\n    }\r\n  };\r\n\r\n  // Track scroll position\r\n  const handleScroll = () => {\r\n    if (!tableRef.current) return;\r\n    const { scrollLeft, scrollWidth, clientWidth } = tableRef.current;\r\n    \r\n    // Check if we've scrolled to the right edge\r\n    setHasScrolled(scrollLeft + clientWidth >= scrollWidth - 5); // 5px buffer for rounding errors\r\n  };\r\n\r\n  // Setup resize observer to check if table becomes scrollable after resize/reflow\r\n  useEffect(() => {\r\n    const resizeObserver = new ResizeObserver(() => {\r\n      checkIfScrollable();\r\n      handleScroll(); // Also update scroll position when size changes\r\n    });\r\n\r\n    if (tableRef.current) {\r\n      resizeObserver.observe(tableRef.current);\r\n      // Initial check\r\n      checkIfScrollable();\r\n    }\r\n\r\n    return () => {\r\n      resizeObserver.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  return {\r\n    tableRef,\r\n    hasScrolled,\r\n    isScrollable,\r\n    handleScroll,\r\n  };\r\n}\r\n","import React, { useEffect, useMemo, useState, useCallback } from 'react';\r\nimport {\r\n  createColumnHelper,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getPaginationRowModel,\r\n  getSortedRowModel,\r\n  useReactTable,\r\n  SortingState,\r\n} from '@tanstack/react-table';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\nimport type { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow, TableResponsiveContainer } from '@/components/ui/table';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Edit2, Trash2, ChevronLeft, ChevronRight, SortAsc, SortDesc } from 'lucide-react';\r\nimport { useBreakpoint } from '@/hooks/useBreakpoint';\r\nimport { useTableResponsive } from '@/hooks/useTableResponsive';\r\nimport { cn } from '@/lib/utils';\r\nimport { useMetricConversion } from '@/hooks/useMetricConversion';\r\n\r\n// Add custom meta type for columns to include responsivePriority\r\ninterface ColumnMeta {\r\n  responsivePriority?: number;\r\n}\r\n\r\nconst columnHelper = createColumnHelper<WorkoutLogEntry>();\r\n\r\nconst DebouncedInput: React.FC<{\r\n  value: string | number;\r\n  onChange: (value: string | number) => void;\r\n  debounce?: number;\r\n} & Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'>> = (\r\n  { value: initialValue, onChange, debounce = 300, ...props }\r\n) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  useEffect(() => {\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      onChange(value);\r\n    }, debounce);\r\n\r\n    return () => clearTimeout(timeout);\r\n  }, [value, onChange, debounce]);\r\n\r\n  return <Input {...props} value={value} onChange={e => setValue(e.target.value)} />;\r\n};\r\n\r\nexport const WorkoutLogTable: React.FC = () => {  const {\r\n    workoutLogs,\r\n    isLoading,\r\n    error,\r\n    isDataFetched,\r\n    fetchWorkoutLogs,\r\n    removeWorkoutLog,\r\n  } = useWorkoutLogs();  const [sorting, setSorting] = useState<SortingState>([]);\r\n  const [globalFilter, setGlobalFilter] = useState('');\r\n  const isSmallScreen = !useBreakpoint('sm');\r\n  const { tableRef, hasScrolled, isScrollable, handleScroll } = useTableResponsive();\r\n  const { convertAndFormatWeight, getWeightUnit } = useMetricConversion();\r\n  \r\n  useEffect(() => {\r\n    if (!isDataFetched) {\r\n      fetchWorkoutLogs();\r\n    }\r\n  }, [fetchWorkoutLogs, isDataFetched]);  const handleEditRow = useCallback((entry: WorkoutLogEntry) => {\r\n    // Dispatch event to open the global modal with the entry data for editing\r\n    const event = new CustomEvent('open-add-workout-modal', { detail: entry });\r\n    window.dispatchEvent(event);\r\n  }, []);\r\n\r\n  const handleDeleteRow = useCallback(async (logId: string, exerciseName: string, date: string) => {\r\n    if (window.confirm(`Are you sure you want to delete the log for ${exerciseName} on ${date}?`)) {\r\n      try {\r\n        await removeWorkoutLog(logId);\r\n      } catch (e) {\r\n        console.error(\"Failed to delete log:\", e);\r\n        alert(\"Failed to delete log. See console for details.\");\r\n      }\r\n    }\r\n  }, [removeWorkoutLog]);\r\n\r\n  const columns = useMemo(() => [\r\n    columnHelper.accessor('date', { \r\n      header: 'Date', \r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('muscleGroup', { \r\n      header: 'Muscle Group', \r\n      cell: info => info.getValue(), \r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('exercise', { \r\n      header: 'Exercise', \r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('weight', {\r\n      header: `Weight (${getWeightUnit()})`,\r\n      cell: info => convertAndFormatWeight(info.getValue()),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('reps', {\r\n      header: 'Reps',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('rating', {\r\n      header: 'Rating',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 3 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('restTime', {\r\n      header: 'Rest Time',\r\n      cell: info => info.getValue() ? `${info.getValue()}s` : '-',\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 3 } as ColumnMeta\r\n    }),\r\n    columnHelper.display({\r\n      id: 'actions',\r\n      header: 'Actions',\r\n      cell: ({ row }) => (\r\n        <div className=\"flex space-x-2\">\r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\" \r\n            onClick={() => {\r\n              handleEditRow(row.original);\r\n            }}\r\n            className=\"h-8 w-8 p-0\"\r\n          >\r\n            <Edit2 className=\"h-4 w-4\" />\r\n          </Button>\r\n          <Button \r\n            variant=\"destructive\" \r\n            size=\"sm\" \r\n            onClick={() => {\r\n              handleDeleteRow(row.original.id, row.original.exercise, row.original.date);\r\n            }}\r\n            className=\"h-8 w-8 p-0\"\r\n          >\r\n            <Trash2 className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      ),\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n  ], [convertAndFormatWeight, getWeightUnit, handleDeleteRow, handleEditRow]);\r\n\r\n  const table = useReactTable({\r\n    data: workoutLogs,\r\n    columns,\r\n    state: {\r\n      sorting,\r\n      globalFilter,\r\n    },\r\n    onSortingChange: setSorting,\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    getRowId: (originalRow) => originalRow.id,\r\n    initialState: {\r\n      pagination: {\r\n        pageSize: 10,\r\n      },\r\n    },\r\n  });\r\n\r\n  if (isLoading) return <div className=\"p-4\">Loading workout logs...</div>;\r\n  if (error) return <div className=\"p-4 text-red-500\">Error: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex flex-col\">\r\n            {/* Title */}\r\n      <div className=\"px-4 py-3 border-b flex-shrink-0\">\r\n        <h3 className=\"text-lg font-semibold\">Workout Logs</h3>\r\n      </div>\r\n      \r\n\r\n      {/* Search filter */}\r\n      <div className=\"p-3 border-b flex-shrink-0\">\r\n        <div className=\"flex flex-col space-y-1\">\r\n          <label htmlFor=\"globalFilterInput\" className=\"text-xs font-medium\">Filter Table</label>\r\n          <DebouncedInput\r\n            id=\"globalFilterInput\"\r\n            type=\"text\"\r\n            value={globalFilter ?? ''}\r\n            onChange={value => setGlobalFilter(String(value))}\r\n            placeholder=\"Search across all fields...\"\r\n            className=\"h-9 text-sm\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Table with horizontal scroll - mobile optimized */}\r\n      <div \r\n        className={cn(\r\n          \"relative mobile-optimized table-scroll-container flex-1 min-h-0\",\r\n          hasScrolled && \"scrolled-right\"\r\n        )}\r\n      >\r\n        {isSmallScreen && isScrollable && !hasScrolled && <div className=\"scroll-indicator\" />}\r\n        <TableResponsiveContainer \r\n          ref={tableRef} \r\n          onScroll={handleScroll}\r\n          className=\"scrollbar-thin scrollbar-track-transparent scrollbar-thumb-primary/20 hover:scrollbar-thumb-primary/30 h-full\"\r\n        >\r\n          <Table className=\"w-full text-sm\">\r\n            <TableHeader>\r\n              {table.getHeaderGroups().map(headerGroup => (\r\n                <TableRow key={headerGroup.id}>\r\n                  {headerGroup.headers.map(header => {\r\n                    const meta = header.column.columnDef.meta as ColumnMeta | undefined;\r\n                    const priority = meta?.responsivePriority || 999;\r\n                    const classes = cn(\r\n                      \"px-3 py-3 \",\r\n                      priority > 1 && \"hidden sm:table-cell\",\r\n                      priority > 2 && \"hidden md:table-cell\", \r\n                      priority > 3 && \"hidden lg:table-cell\"\r\n                    );\r\n\r\n                    return (\r\n                      <TableHead key={header.id} className={classes}>\r\n                        {header.isPlaceholder ? null : (\r\n                          <div\r\n                            className={`${header.column.getCanSort() ? 'cursor-pointer select-none' : ''} flex items-center`}\r\n                            onClick={header.column.getToggleSortingHandler()}\r\n                            title={header.column.getCanSort() ? 'Sort' : undefined}\r\n                          >\r\n                            {flexRender(header.column.columnDef.header, header.getContext())}\r\n                            {{\r\n                              asc: <SortAsc className=\"ml-1 h-4 w-4\" />,\r\n                              desc: <SortDesc className=\"ml-1 h-4 w-4\" />,\r\n                            }[header.column.getIsSorted() as string] ?? null}\r\n                          </div>\r\n                        )}\r\n                      </TableHead>\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              ))}\r\n            </TableHeader>\r\n            <TableBody>\r\n              {table.getRowModel().rows.length > 0 ? (\r\n                table.getRowModel().rows.map(row => (\r\n                  <TableRow \r\n                    key={row.id} \r\n                    data-state={row.getIsSelected() && \"selected\"} \r\n                    className=\"hover:bg-muted/50 border-b\"\r\n                  >\r\n                    {row.getVisibleCells().map(cell => {\r\n                      const meta = cell.column.columnDef.meta as ColumnMeta | undefined;\r\n                      const priority = meta?.responsivePriority || 999;\r\n                      const classes = cn(\r\n                        \"px-3 py-2\", // Increased padding for better touch targets\r\n                        priority > 1 && \"hidden sm:table-cell\",\r\n                        priority > 2 && \"hidden md:table-cell\",\r\n                        priority > 3 && \"hidden lg:table-cell\"\r\n                      );\r\n\r\n                      return (\r\n                        <TableCell key={cell.id} className={classes}>\r\n                          {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                        </TableCell>\r\n                      );\r\n                    })}\r\n                  </TableRow>\r\n                ))\r\n              ) : (\r\n                <TableRow>\r\n                  <TableCell colSpan={columns.length} className=\"h-24 text-center\">\r\n                    No results.\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableResponsiveContainer>\r\n      </div>\r\n      \r\n      {/* Pagination - mobile responsive */}\r\n      <div className=\"flex flex-col sm:flex-row items-center justify-between p-4 border-t gap-3 flex-shrink-0\">\r\n        <div className=\"text-sm text-muted-foreground text-center sm:text-left\">\r\n          Page {table.getState().pagination.pageIndex + 1} of {table.getPageCount()}{\" \"}\r\n          ({table.getFilteredRowModel().rows.length} row(s))\r\n        </div>\r\n        <div className=\"flex items-center space-x-3 w-full sm:w-auto justify-center\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.previousPage()}\r\n            disabled={!table.getCanPreviousPage()}\r\n            className=\"h-9 px-3\"\r\n          >\r\n            <ChevronLeft className=\"h-4 w-4 mr-1\" />\r\n            <span className=\"hidden sm:inline\">Previous</span>\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.nextPage()}\r\n            disabled={!table.getCanNextPage()}\r\n            className=\"h-9 px-3\"\r\n          >\r\n            <span className=\"hidden sm:inline\">Next</span>\r\n            <ChevronRight className=\"h-4 w-4 ml-1\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { WorkoutLogTable } from '../WorkoutLogTable';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\nexport const WorkoutLogTableCard: React.FC = () => {\r\n  return (\r\n    <Card className=\"w-full h-full flex flex-col\">\r\n      <CardContent className=\"p-0 flex-1 flex flex-col min-h-0\">\r\n        <WorkoutLogTable />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","// Simplified hook for accessing workout data from unified store\r\n// Replaces useConsolidatedApp with a cleaner interface\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useUnifiedDataStore } from \"@/store/unifiedDataStore\";\r\nimport {\r\n  WorkoutLogEntry,\r\n  Exercise,\r\n  WorkoutTemplate,\r\n  DailyMetrics,\r\n} from \"@/types/DataModels\";\r\n\r\ninterface UseWorkoutDataReturn {\r\n  // Data\r\n  workoutLogs: WorkoutLogEntry[];\r\n  exercises: Exercise[];\r\n  workoutTemplates: WorkoutTemplate[];\r\n  dailyMetrics: DailyMetrics[];\r\n\r\n  // Loading states\r\n  isLoading: boolean;\r\n  isWorkoutLogsLoading: boolean;\r\n  isExercisesLoading: boolean;\r\n  isTemplatesLoading: boolean;\r\n\r\n  // Error states\r\n  error: string | null;\r\n  workoutLogsError: string | null;\r\n  exercisesError: string | null;\r\n  templatesError: string | null;\r\n\r\n  // Data fetched states\r\n  isDataFetched: boolean;\r\n\r\n  // Actions\r\n  fetchWorkoutLogs: (forceRefresh?: boolean) => Promise<void>;\r\n  fetchExercises: (forceRefresh?: boolean) => Promise<void>;\r\n  fetchTemplates: (forceRefresh?: boolean) => Promise<void>;\r\n  refreshAllData: () => Promise<void>;\r\n\r\n  // CRUD operations for workout logs\r\n  createWorkoutLog: (\r\n    data: Omit<WorkoutLogEntry, \"id\" | \"createdAt\" | \"updatedAt\">,\r\n  ) => Promise<{ success: boolean; error?: string }>;\r\n  updateWorkoutLog: (\r\n    id: string,\r\n    data: Partial<WorkoutLogEntry>,\r\n  ) => Promise<{ success: boolean; error?: string }>;\r\n  deleteWorkoutLog: (\r\n    id: string,\r\n  ) => Promise<{ success: boolean; error?: string }>;\r\n\r\n  // Computed data\r\n  getUniqueExercises: () => string[];\r\n  getUniqueMuscleGroups: () => string[];\r\n  getExercisesByMuscleGroup: (muscleGroup: string) => Exercise[];\r\n  getWorkoutLogsByMuscleGroup: (muscleGroup: string) => WorkoutLogEntry[];\r\n  getWorkoutLogsByDateRange: (start: string, end: string) => WorkoutLogEntry[];\r\n}\r\n\r\nexport const useWorkoutData = (): UseWorkoutDataReturn => {\r\n  const store = useUnifiedDataStore();\r\n\r\n  // Extract data from store - using actual store structure\r\n  const {\r\n    workoutLogs,\r\n    exercises,\r\n    templates: workoutTemplates,\r\n    dailyMetrics,\r\n    loading,\r\n    errors,\r\n    dataFetched,\r\n    fetchWorkoutLogs,\r\n    fetchExercises,\r\n    fetchTemplates,\r\n    fetchAllData,\r\n    addWorkoutLog,\r\n    editWorkoutLog,\r\n    removeWorkoutLog,\r\n    getExercisesByMuscleGroup: storeGetExercisesByMuscleGroup,\r\n    getAllUniqueExerciseNames,\r\n  } = store;\r\n\r\n  // Auto-fetch data on mount if not already loaded\r\n  useEffect(() => {\r\n    const fetchInitialData = async () => {\r\n      if (workoutLogs.length === 0 && !loading.workoutLogs) {\r\n        await fetchWorkoutLogs();\r\n      }\r\n      if (exercises.length === 0 && !loading.exercises) {\r\n        await fetchExercises();\r\n      }\r\n      if (workoutTemplates.length === 0 && !loading.templates) {\r\n        await fetchTemplates();\r\n      }\r\n    };\r\n\r\n    fetchInitialData();\r\n  }, [\r\n    workoutLogs.length,\r\n    exercises.length,\r\n    workoutTemplates.length,\r\n    loading.workoutLogs,\r\n    loading.exercises,\r\n    loading.templates,\r\n    fetchWorkoutLogs,\r\n    fetchExercises,\r\n    fetchTemplates,\r\n  ]);\r\n\r\n  // Loading states\r\n  const isWorkoutLogsLoading = loading.workoutLogs || false;\r\n  const isExercisesLoading = loading.exercises || false;\r\n  const isTemplatesLoading = loading.templates || false;\r\n  const isLoading =\r\n    isWorkoutLogsLoading || isExercisesLoading || isTemplatesLoading;\r\n\r\n  // Error states\r\n  const workoutLogsError = errors.workoutLogs || null;\r\n  const exercisesError = errors.exercises || null;\r\n  const templatesError = errors.templates || null;\r\n  const error = workoutLogsError || exercisesError || templatesError;\r\n\r\n  // Data fetched state\r\n  const isDataFetched =\r\n    dataFetched.workoutLogs || dataFetched.exercises || dataFetched.templates;\r\n\r\n  // CRUD operations with error handling\r\n  const createWorkoutLog = async (\r\n    data: Omit<WorkoutLogEntry, \"id\" | \"createdAt\" | \"updatedAt\">,\r\n  ) => {\r\n    try {\r\n      const result = await addWorkoutLog(data);\r\n      return {\r\n        success: !!result,\r\n        error: result ? null : \"Failed to create workout log\",\r\n      };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : \"Unknown error\",\r\n      };\r\n    }\r\n  };\r\n\r\n  const updateWorkoutLog = async (\r\n    id: string,\r\n    data: Partial<WorkoutLogEntry>,\r\n  ) => {\r\n    try {\r\n      const logToUpdate = workoutLogs.find((log) => log.id === id);\r\n      if (!logToUpdate) {\r\n        return { success: false, error: \"Workout log not found\" };\r\n      }\r\n      await editWorkoutLog({ ...logToUpdate, ...data });\r\n      return { success: true };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : \"Unknown error\",\r\n      };\r\n    }\r\n  };\r\n\r\n  const deleteWorkoutLog = async (id: string) => {\r\n    try {\r\n      await removeWorkoutLog(id);\r\n      return { success: true };\r\n    } catch (error) {\r\n      return {\r\n        success: false,\r\n        error: error instanceof Error ? error.message : \"Unknown error\",\r\n      };\r\n    }\r\n  };\r\n\r\n  // Computed data functions\r\n  const getUniqueExercises = (): string[] => {\r\n    const exerciseNames = workoutLogs.map((log) => log.exercise);\r\n    return [...new Set(exerciseNames)].filter(Boolean).sort();\r\n  };\r\n\r\n  const getUniqueMuscleGroups = (): string[] => {\r\n    const muscleGroups = workoutLogs.map((log) => log.muscleGroup);\r\n    return [...new Set(muscleGroups)].filter(Boolean).sort();\r\n  };\r\n\r\n  const getExercisesByMuscleGroup = (muscleGroup: string): Exercise[] => {\r\n    // Return exercises that match the muscle group\r\n    return exercises.filter(\r\n      (exercise) =>\r\n        exercise.muscleGroup.toLowerCase() === muscleGroup.toLowerCase(),\r\n    );\r\n  };\r\n\r\n  const getWorkoutLogsByMuscleGroup = (\r\n    muscleGroup: string,\r\n  ): WorkoutLogEntry[] => {\r\n    return workoutLogs.filter(\r\n      (log) => log.muscleGroup.toLowerCase() === muscleGroup.toLowerCase(),\r\n    );\r\n  };\r\n\r\n  const getWorkoutLogsByDateRange = (\r\n    start: string,\r\n    end: string,\r\n  ): WorkoutLogEntry[] => {\r\n    return workoutLogs.filter((log) => {\r\n      const logDate = new Date(log.date);\r\n      const startDate = new Date(start);\r\n      const endDate = new Date(end);\r\n      return logDate >= startDate && logDate <= endDate;\r\n    });\r\n  };\r\n\r\n  return {\r\n    // Data\r\n    workoutLogs: workoutLogs || [],\r\n    exercises: exercises || [],\r\n    workoutTemplates: workoutTemplates || [],\r\n    dailyMetrics: dailyMetrics || [],\r\n\r\n    // Loading states\r\n    isLoading,\r\n    isWorkoutLogsLoading,\r\n    isExercisesLoading,\r\n    isTemplatesLoading,\r\n\r\n    // Error states\r\n    error,\r\n    workoutLogsError,\r\n    exercisesError,\r\n    templatesError,\r\n\r\n    // Data fetched states\r\n    isDataFetched,\r\n\r\n    // Actions\r\n    fetchWorkoutLogs,\r\n    fetchExercises,\r\n    fetchTemplates,\r\n    refreshAllData: fetchAllData,\r\n\r\n    // CRUD operations\r\n    createWorkoutLog,\r\n    updateWorkoutLog,\r\n    deleteWorkoutLog,\r\n\r\n    // Computed data\r\n    getUniqueExercises,\r\n    getUniqueMuscleGroups,\r\n    getExercisesByMuscleGroup,\r\n    getWorkoutLogsByMuscleGroup,\r\n    getWorkoutLogsByDateRange,\r\n  };\r\n};\r\n\r\n// Backward compatibility aliases\r\nexport const useWorkoutLogs = useWorkoutData;\r\nexport const useConsolidatedApp = useWorkoutData;\r\n","import React, { useMemo } from 'react';\r\nimport {\r\n  createColumnHelper,\r\n  flexRender,\r\n  getCoreRowModel,\r\n  getFilteredRowModel,\r\n  getPaginationRowModel,\r\n  getSortedRowModel,\r\n  useReactTable,\r\n  SortingState,\r\n} from '@tanstack/react-table';\r\nimport { useWorkoutData } from '@/hooks/useWorkoutData';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow, TableResponsiveContainer } from '@/components/ui/table';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { ArrowUp, ArrowDown, ArrowRight, ChevronLeft, ChevronRight, SortAsc, SortDesc } from 'lucide-react';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Button } from '@/components/ui/button';\r\nimport { format } from 'date-fns';\r\nimport { useBreakpoint } from '@/hooks/useBreakpoint';\r\nimport { useTableResponsive } from '@/hooks/useTableResponsive';\r\nimport { cn } from '@/lib/utils';\r\nimport { useMetricConversion } from '@/hooks/useMetricConversion';\r\nimport { DailyMetrics } from '@/types/DataModels';\r\n\r\nconst DebouncedInput: React.FC<{\r\n  value: string | number;\r\n  onChange: (value: string | number) => void;\r\n  debounce?: number;\r\n} & Omit<React.InputHTMLAttributes<HTMLInputElement>, 'onChange'>> = (\r\n  { value: initialValue, onChange, debounce = 300, ...props }\r\n) => {\r\n  const [value, setValue] = React.useState(initialValue);\r\n\r\n  React.useEffect(() => {\r\n    setValue(initialValue);\r\n  }, [initialValue]);\r\n\r\n  React.useEffect(() => {\r\n    const timeout = setTimeout(() => {\r\n      onChange(value);\r\n    }, debounce);\r\n\r\n    return () => clearTimeout(timeout);\r\n  }, [value, onChange, debounce]);\r\n\r\n  return <Input {...props} value={value} onChange={e => setValue(e.target.value)} />;\r\n};\r\n\r\ninterface ColumnMeta {\r\n  responsivePriority?: number;\r\n  className?: string;\r\n}\r\n\r\nconst columnHelper = createColumnHelper<DailyMetrics>();\r\n\r\nexport const WorkoutSummaryTable: React.FC = () => {\r\n  // Get data and loading state from workout data hook\r\n  const { \r\n    dailyMetrics,\r\n    workoutLogs,\r\n    isLoading,\r\n    error,\r\n    isWorkoutLogsLoading,\r\n    isDataFetched\r\n  } = useWorkoutData();\r\n\r\n  // Add debug logging\r\n  React.useEffect(() => {\r\n    console.log(\"[WorkoutSummaryTable] Data state changed:\");\r\n    console.log(\"- dailyMetrics length:\", dailyMetrics?.length || 0);\r\n    console.log(\"- workoutLogs length:\", workoutLogs?.length || 0);\r\n    console.log(\"- isLoading:\", isLoading);\r\n    console.log(\"- isWorkoutLogsLoading:\", isWorkoutLogsLoading);\r\n    console.log(\"- isDataFetched:\", isDataFetched);\r\n    console.log(\"- error:\", error);\r\n    if (dailyMetrics?.length > 0) {\r\n      console.log(\"- Sample daily metric:\", dailyMetrics[0]);\r\n    }\r\n    if (workoutLogs?.length > 0) {\r\n      console.log(\"- Sample workout log:\", workoutLogs[0]);\r\n    }\r\n  }, [dailyMetrics, workoutLogs, isLoading, isWorkoutLogsLoading, isDataFetched, error]);\r\n\r\n  const isSmallScreen = !useBreakpoint('sm');\r\n  const { tableRef, hasScrolled, isScrollable, handleScroll } = useTableResponsive();\r\n  const { convertAndFormatWeight, getWeightUnit } = useMetricConversion();\r\n\r\n  const [sorting, setSorting] = React.useState<SortingState>([{ id: 'date', desc: true }]);\r\n  const [globalFilter, setGlobalFilter] = React.useState('');\r\n\r\n  // Format metrics for display\r\n  const formattedMetrics: DailyMetrics[] = useMemo(() => {\r\n    return dailyMetrics.map((row: DailyMetrics) => {\r\n      let formattedDate = \"Invalid Date\";\r\n      try {\r\n        const dateValue = typeof row.date === 'string' ? row.date : String(row.date);\r\n        if (dateValue && dateValue.toLowerCase() !== 'invalid date' && dateValue.length > 0) {\r\n          const parsedDate = new Date(dateValue.includes('T') ? dateValue : dateValue.replace(/-/g, '/'));\r\n          if (!isNaN(parsedDate.getTime())) {\r\n            formattedDate = format(parsedDate, \"yyyy-MM-dd\");\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.error(`Error parsing or formatting date \"${row.date}\":`, e);\r\n      }\r\n\r\n      return {\r\n        ...row,\r\n        date: formattedDate,\r\n        muscleGroup: row.muscleGroup || \"N/A\",\r\n        exercise: row.exercise || \"N/A\",\r\n        howIFeel: row.howIFeel || \"N/A\",\r\n      };\r\n    });\r\n  }, [dailyMetrics]);\r\n\r\n  const columns = useMemo(() => [\r\n    columnHelper.accessor('date', {\r\n      header: 'Date',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('muscleGroup', {\r\n      header: 'Muscle',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('exercise', {\r\n      header: 'Exercise',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('totalVolume', {\r\n      header: `Volume (${getWeightUnit()})`,\r\n      cell: info => convertAndFormatWeight(info.getValue()),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 2 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('totalSets', {\r\n      header: 'Sets',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('totalReps', {\r\n      header: 'Reps',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 3 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('averageReps', {\r\n      header: 'Avg Reps',\r\n      cell: info => info.getValue().toFixed(1),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 4 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('averageWeight', {\r\n      header: `Avg Wt (${getWeightUnit()})`,\r\n      cell: info => convertAndFormatWeight(info.getValue()),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 3 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('averageFatigue', {\r\n      header: 'Avg Fatigue',\r\n      cell: info => info.getValue().toFixed(1),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 4 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('maxWeight', {\r\n      header: `Max Wt (${getWeightUnit()})`,\r\n      cell: info => convertAndFormatWeight(info.getValue()),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 3 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('intensity', {\r\n      header: 'Int(%)',\r\n      cell: info => info.getValue().toFixed(1),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 4 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('fatigue', {\r\n      header: 'Fatigue (%)',\r\n      cell: info => info.getValue().toFixed(1),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('howIFeel', {\r\n      header: 'Feel',\r\n      cell: info => info.getValue(),\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 5 } as ColumnMeta\r\n    }),\r\n    columnHelper.accessor('progressionRate', {\r\n      header: 'Progress',\r\n      cell: info => {\r\n        const value = info.getValue();\r\n        if (value === \"N/A\") {\r\n          return (\r\n            <span className=\"text-blue-500 flex items-center whitespace-nowrap\">\r\n              <ArrowRight className=\"mr-1 h-4 w-4 flex-shrink-0\" /> <span>N/A</span>\r\n            </span>\r\n          );\r\n        }\r\n        const numValue = typeof value === 'string' ? parseFloat(value) : value;\r\n        if (numValue > 0) {\r\n          return (\r\n            <span className=\"text-green-500 flex items-center whitespace-nowrap\">\r\n              <ArrowUp className=\"mr-1 h-4 w-4 flex-shrink-0\" /> <span>{value}</span>\r\n            </span>\r\n          );\r\n        } else if (numValue < 0) {\r\n          return (\r\n            <span className=\"text-red-500 flex items-center whitespace-nowrap\">\r\n              <ArrowDown className=\"mr-1 h-4 w-4 flex-shrink-0\" /> <span>{value}</span>\r\n            </span>\r\n          );\r\n        }\r\n        return (\r\n          <span className=\"text-gray-500 flex items-center whitespace-nowrap\">\r\n            <ArrowRight className=\"mr-1 h-4 w-4 flex-shrink-0\" /> <span>{value}</span>\r\n          </span>\r\n        );\r\n      },\r\n      enableSorting: true,\r\n      meta: { responsivePriority: 1 } as ColumnMeta\r\n    }),\r\n  ], [convertAndFormatWeight, getWeightUnit]);\r\n\r\n  const table = useReactTable({\r\n    data: formattedMetrics,\r\n    columns,\r\n    state: {\r\n      sorting,\r\n      globalFilter,\r\n    },\r\n    onSortingChange: setSorting,\r\n    onGlobalFilterChange: setGlobalFilter,\r\n    getCoreRowModel: getCoreRowModel(),\r\n    getSortedRowModel: getSortedRowModel(),\r\n    getFilteredRowModel: getFilteredRowModel(),\r\n    getPaginationRowModel: getPaginationRowModel(),\r\n    getRowId: (originalRow) => originalRow.id,\r\n    initialState: {\r\n      pagination: {\r\n        pageSize: isSmallScreen ? 5 : 10,\r\n      },\r\n    },\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    table.setPageSize(isSmallScreen ? 5 : 10);\r\n  }, [isSmallScreen, table]);\r\n\r\n  if (isLoading) return <div className=\"p-4\">Loading workout summary...</div>;\r\n  if (error) return <div className=\"p-4 text-red-500\">Error: {error}</div>;\r\n  if (formattedMetrics.length === 0) return <div className=\"p-4\">No data available. Log workouts to see summary.</div>;\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex flex-col\">\r\n            {/* Title */}\r\n      <div className=\"px-4 py-3 border-b flex-shrink-0\">\r\n        <h3 className=\"text-lg font-semibold\">Workout Summary</h3>\r\n      </div>\r\n      \r\n\r\n      {/* Filter */}\r\n      <div className=\"p-3 border-b flex-shrink-0\">\r\n        <div className=\"flex flex-col space-y-1\">\r\n          <label htmlFor=\"summaryGlobalFilterInput\" className=\"text-xs font-medium\">Filter Table</label>\r\n          <DebouncedInput\r\n            id=\"summaryGlobalFilterInput\"\r\n            type=\"text\"\r\n            value={globalFilter ?? ''}\r\n            onChange={value => setGlobalFilter(String(value))}\r\n            placeholder=\"Search across all fields...\"\r\n            className=\"h-9 text-sm\"\r\n          />\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Table */}\r\n      <div \r\n        className={cn(\r\n          \"relative mobile-optimized table-scroll-container flex-1 min-h-0\",\r\n          hasScrolled && \"scrolled-right\"\r\n        )}\r\n      >\r\n        {isSmallScreen && isScrollable && !hasScrolled && <div className=\"scroll-indicator\" />}\r\n        <TableResponsiveContainer \r\n          ref={tableRef} \r\n          onScroll={handleScroll}\r\n          className=\"scrollbar-thin scrollbar-track-transparent scrollbar-thumb-primary/20 hover:scrollbar-thumb-primary/30 h-full\"\r\n        >\r\n          <Table className=\"w-full text-sm\">\r\n            <TableHeader>\r\n              {table.getHeaderGroups().map(headerGroup => (\r\n                <TableRow key={headerGroup.id}>\r\n                  {headerGroup.headers.map(header => {\r\n                    const meta = header.column.columnDef.meta as ColumnMeta | undefined;\r\n                    const priority = meta?.responsivePriority || 999;\r\n                    const columnClasses = cn(\r\n                      \"px-3 py-3 \",\r\n                      meta?.className,\r\n                      priority > 1 && \"hidden sm:table-cell\",\r\n                      priority > 2 && \"hidden md:table-cell\", \r\n                      priority > 3 && \"hidden lg:table-cell\",\r\n                      priority > 4 && \"hidden xl:table-cell\"\r\n                    );\r\n\r\n                    return (\r\n                      <TableHead key={header.id} className={columnClasses}>\r\n                        {header.isPlaceholder ? null : (\r\n                          <div\r\n                            className={cn(\r\n                              'flex items-center',\r\n                              header.column.getCanSort() ? 'cursor-pointer select-none' : ''\r\n                            )}\r\n                            onClick={header.column.getToggleSortingHandler()}\r\n                            title={header.column.getCanSort() ? 'Sort' : undefined}\r\n                          >\r\n                            {flexRender(header.column.columnDef.header, header.getContext())}\r\n                            {{\r\n                              asc: <SortAsc className=\"ml-1 h-4 w-4\" />,\r\n                              desc: <SortDesc className=\"ml-1 h-4 w-4\" />,\r\n                            }[header.column.getIsSorted() as string] ?? null}\r\n                          </div>\r\n                        )}\r\n                      </TableHead>\r\n                    );\r\n                  })}\r\n                </TableRow>\r\n              ))}\r\n            </TableHeader>\r\n            <TableBody>\r\n              {table.getRowModel().rows.length > 0 ? (\r\n                table.getRowModel().rows.map(row => (\r\n                  <TableRow \r\n                    key={row.id} \r\n                    data-state={row.getIsSelected() && \"selected\"} \r\n                    className=\"hover:bg-muted/50 border-b\"\r\n                  >\r\n                    {row.getVisibleCells().map(cell => {\r\n                      const meta = cell.column.columnDef.meta as ColumnMeta | undefined;\r\n                      const priority = meta?.responsivePriority || 999;\r\n                      const cellClasses = cn(\r\n                        \"px-3 py-2\", \r\n                        priority > 1 && \"hidden sm:table-cell\",\r\n                        priority > 2 && \"hidden md:table-cell\",\r\n                        priority > 3 && \"hidden lg:table-cell\",\r\n                        priority > 4 && \"hidden xl:table-cell\"\r\n                      );\r\n\r\n                      return (\r\n                        <TableCell key={cell.id} className={cellClasses}>\r\n                          {flexRender(cell.column.columnDef.cell, cell.getContext())}\r\n                        </TableCell>\r\n                      );\r\n                    })}\r\n                  </TableRow>\r\n                ))\r\n              ) : (\r\n                <TableRow>\r\n                  <TableCell colSpan={columns.length} className=\"h-24 text-center\">\r\n                    No results found.\r\n                  </TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableResponsiveContainer>\r\n      </div>\r\n      \r\n      {/* Pagination */}\r\n      <div className=\"flex flex-col sm:flex-row items-center justify-between p-4 border-t gap-3 flex-shrink-0\">\r\n        <div className=\"text-sm text-muted-foreground text-center sm:text-left mb-2 sm:mb-0\">\r\n          Page {table.getState().pagination.pageIndex + 1} of {table.getPageCount()}{\" \"}\r\n          ({table.getFilteredRowModel().rows.length} row(s) found)\r\n        </div>\r\n        <div className=\"flex items-center space-x-2\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.previousPage()}\r\n            disabled={!table.getCanPreviousPage()}\r\n            className=\"h-8 w-8 p-0 sm:h-auto sm:w-auto sm:px-3 sm:py-1\"\r\n          >\r\n            <ChevronLeft className=\"h-4 w-4\" />\r\n            <span className=\"hidden sm:inline ml-1\">Previous</span>\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => table.nextPage()}\r\n            disabled={!table.getCanNextPage()}\r\n            className=\"h-8 w-8 p-0 sm:h-auto sm:w-auto sm:px-3 sm:py-1\"\r\n          >\r\n            <span className=\"hidden sm:inline mr-1\">Next</span>\r\n            <ChevronRight className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default WorkoutSummaryTable;\r\n","import React from 'react';\r\nimport { WorkoutSummaryTable } from '../WorkoutSummaryTable';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\n\r\nexport const WorkoutSummaryCard: React.FC = () => {\r\n  return (\r\n    <Card className=\"w-full h-full flex flex-col\">\r\n      <CardContent className=\"p-0 flex-1 flex flex-col min-h-0\">\r\n        <WorkoutSummaryTable />\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { CheckSquare, Eye, EyeOff, ArrowRight } from 'lucide-react';\r\nimport { dataService } from '@/services/DataService';\r\nimport { TodoEntry } from '@/types/DataModels';\r\nimport { useNavigation } from '@/hooks/useConsolidatedApp';\r\nimport { QuickAddTask } from '@/components/ui/QuickAddTask';\r\nimport { InlineEditableTask } from '@/components/ui/InlineEditableTask';\r\nimport { formatTodoForDisplay } from '@/utils/todoHelpers';\r\n\r\nexport const TodoCard: React.FC = () => {\r\n  const [todos, setTodos] = useState<TodoEntry[]>([]);\r\n  const [showCompleted, setShowCompleted] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const { setCurrentView } = useNavigation();\r\n\r\n  useEffect(() => {\r\n    loadTodos();\r\n  }, []);\r\n\r\n  const loadTodos = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      const result = await dataService.todos.getAll();\r\n      if (result.success && result.data) {\r\n        // Sort todos consistently: active first, then by creation date (newest first)\r\n        const sortedTodos = result.data.data.sort((a, b) => {\r\n          // Completed tasks at the bottom\r\n          if (a.isCompleted !== b.isCompleted) {\r\n            return a.isCompleted ? 1 : -1;\r\n          }\r\n          // Sort by creation date (newest first)\r\n          return new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime();\r\n        });\r\n        \r\n        setTodos(sortedTodos);\r\n      } else {\r\n        setError(result.error || 'Failed to load tasks');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to load todos:', err);\r\n      setError('Failed to load tasks');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleTaskAdded = (newTask: TodoEntry) => {\r\n    setTodos(prev => [newTask, ...prev]);\r\n    setError(null);\r\n  };\r\n\r\n  const handleTaskUpdated = (updatedTask: TodoEntry) => {\r\n    setTodos(prev => prev.map(task => \r\n      task.id === updatedTask.id ? updatedTask : task\r\n    ));\r\n  };\r\n\r\n  const handleTaskDeleted = (taskId: string) => {\r\n    setTodos(prev => prev.filter(task => task.id !== taskId));\r\n  };\r\n\r\n  const activeTodos = todos.filter(todo => !todo.isCompleted);\r\n  const completedTodos = todos.filter(todo => todo.isCompleted);\r\n  const displayTodos = showCompleted ? todos : activeTodos;\r\n\r\n  if (loading) {\r\n    return (\r\n      <Card className=\"min-h-[300px]\">\r\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n          <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n            <CheckSquare className=\"h-4 w-4\" />\r\n            Tasks\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"flex items-center justify-center h-32\">\r\n            <div className=\"text-center\">\r\n              <div className=\"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2\"></div>\r\n              <p className=\"text-sm text-muted-foreground\">Loading...</p>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Card className=\"min-h-[300px] border-red-200\">\r\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n          <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n            <CheckSquare className=\"h-4 w-4\" />\r\n            Tasks\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-center py-6\">\r\n            <p className=\"text-sm text-red-600 mb-3\">{error}</p>\r\n            <Button size=\"sm\" onClick={loadTodos} variant=\"outline\">\r\n              Try Again\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"min-h-[300px]\">\r\n      <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n        <CardTitle className=\"text-sm font-medium flex items-center gap-2\">\r\n          <CheckSquare className=\"h-4 w-4\" />\r\n          Tasks\r\n          {activeTodos.length > 0 && (\r\n            <span className=\"text-xs bg-primary text-primary-foreground px-1.5 py-0.5 rounded-full\">\r\n              {activeTodos.length}\r\n            </span>\r\n          )}\r\n        </CardTitle>\r\n        \r\n        <div className=\"flex items-center gap-1\">\r\n          {completedTodos.length > 0 && (\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setShowCompleted(!showCompleted)}\r\n              className=\"h-8 w-8 p-0\"\r\n              title={showCompleted ? \"Hide completed\" : \"Show completed\"}\r\n            >\r\n              {showCompleted ? <EyeOff className=\"h-4 w-4\" /> : <Eye className=\"h-4 w-4\" />}\r\n            </Button>\r\n          )}\r\n          \r\n          <Button\r\n            variant=\"ghost\"\r\n            size=\"sm\"\r\n            onClick={() => setCurrentView('todos')}\r\n            className=\"h-8 w-8 p-0\"\r\n            title=\"View all tasks\"\r\n          >\r\n            <ArrowRight className=\"h-4 w-4\" />\r\n          </Button>\r\n        </div>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"space-y-3\">\r\n        {/* Quick Add Task */}\r\n        <QuickAddTask \r\n          onTaskAdded={handleTaskAdded}\r\n          compact\r\n        />\r\n        \r\n        {/* Tasks List */}\r\n        {displayTodos.length === 0 ? (\r\n          <div className=\"text-center py-6\">\r\n            <CheckSquare className=\"h-8 w-8 mx-auto text-muted-foreground mb-2\" />\r\n            <p className=\"text-sm text-muted-foreground\">\r\n              {showCompleted ? 'No tasks found' : activeTodos.length === 0 ? 'No tasks yet' : 'No active tasks'}\r\n            </p>\r\n            {!showCompleted && activeTodos.length === 0 && (\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                Add your first task above\r\n              </p>\r\n            )}\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-2\">\r\n            {displayTodos.map(todo => {\r\n              // Format todo data consistently before passing to component\r\n              const formattedTodo = formatTodoForDisplay(todo);\r\n              return (\r\n                <InlineEditableTask\r\n                  key={formattedTodo.id}\r\n                  task={todo} // Pass original todo object for component compatibility\r\n                  onTaskUpdated={handleTaskUpdated}\r\n                  onTaskDeleted={handleTaskDeleted}\r\n                  compact\r\n                />\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n        \r\n        {/* Completed Tasks Info */}\r\n        {!showCompleted && completedTodos.length > 0 && (\r\n          <div className=\"text-center pt-2 border-t\">\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"sm\"\r\n              onClick={() => setShowCompleted(true)}\r\n              className=\"text-xs text-muted-foreground hover:text-foreground\"\r\n            >\r\n              {completedTodos.length} completed task{completedTodos.length === 1 ? '' : 's'}\r\n            </Button>\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","import React from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { PlusCircle } from 'lucide-react';\r\n\r\nexport const AddWorkoutButton: React.FC = () => {\r\n  return (\r\n    <Button \r\n      onClick={() => window.dispatchEvent(new CustomEvent('open-add-workout-modal'))}\r\n      className=\"w-full sm:w-auto bg-primary hover:bg-primary/90 text-primary-foreground shadow-md transition-all duration-300 ease-in-out hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-primary focus:ring-opacity-50 rounded-lg px-4 py-2 flex items-center justify-center sm:justify-start group\"\r\n    >\r\n      <PlusCircle className=\"h-5 w-5 mr-2 transition-transform duration-300 group-hover:scale-110\" />\r\n      Add Workout\r\n    </Button>\r\n  );\r\n};\r\n","// src/components/dashboard/MuscleFatigueInsights.tsx\r\nimport React, { useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { \r\n  calculateMuscleFatigue, \r\n  calculateRecoveryProfiles, \r\n  generateFatigueInsights \r\n} from '@/utils/muscleFatigueCalculator';\r\nimport { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport { AlertTriangle, CheckCircle, Info, ArrowRight } from 'lucide-react';\r\nimport { useConsolidatedApp } from '@/hooks/useConsolidatedApp';\r\nimport { useFatigueSettings } from '@/contexts/FatigueSettingsContext';\r\n\r\ninterface MuscleFatigueInsightsProps {\r\n  logs: WorkoutLogEntry[];\r\n}\r\n\r\nexport const MuscleFatigueInsights: React.FC<MuscleFatigueInsightsProps> = ({ logs }) => {\r\n  const { appStore } = useConsolidatedApp();\r\n  const { setCurrentView } = appStore;\r\n  const { settings } = useFatigueSettings();\r\n    // Generate insights from workout data\r\n  const insights = useMemo(() => {\r\n    if (!logs || logs.length === 0) return [];\r\n    \r\n    const fatigueData = calculateMuscleFatigue(logs, undefined, settings);\r\n    const recoveryProfiles = calculateRecoveryProfiles(logs, settings);\r\n    return generateFatigueInsights(fatigueData, recoveryProfiles);\r\n  }, [logs, settings]);\r\n  \r\n  // Filter insights to get the most relevant ones\r\n  const priorityInsights = useMemo(() => {\r\n    // First include warnings, then positive insights, then info insights\r\n    const warnings = insights.filter(insight => insight.type === 'warning');\r\n    const positive = insights.filter(insight => insight.type === 'positive');\r\n    const info = insights.filter(insight => insight.type === 'info');\r\n    \r\n    return [...warnings, ...positive, ...info].slice(0, 3); // Show top 3 insights\r\n  }, [insights]);\r\n  \r\n  if (!logs || logs.length === 0) {\r\n    return (\r\n      <Card className=\"h-full\">\r\n        <CardHeader className=\"pb-2\">\r\n          <CardTitle className=\"text-base font-semibold\">Muscle Recovery Insights</CardTitle>\r\n          <CardDescription className=\"text-xs\">\r\n            Log workouts to receive personalized recovery insights\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-32\">\r\n          <p className=\"text-muted-foreground text-sm\">No workout data available</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n  \r\n  if (insights.length === 0) {\r\n    return (\r\n      <Card className=\"h-full\">\r\n        <CardHeader className=\"pb-2\">\r\n          <CardTitle className=\"text-base font-semibold\">Muscle Recovery Insights</CardTitle>\r\n          <CardDescription className=\"text-xs\">\r\n            Log more workouts to generate personalized insights\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"flex items-center justify-center h-32\">\r\n          <p className=\"text-muted-foreground text-sm\">Not enough data for insights yet</p>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card className=\"h-full\">\r\n      <CardHeader className=\"pb-2\">\r\n        <CardTitle className=\"text-base font-semibold\">Muscle Recovery Insights</CardTitle>\r\n        <CardDescription className=\"text-xs\">\r\n          Personalized insights to optimize recovery and training\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-3\">\r\n        {priorityInsights.map((insight, idx) => (\r\n          <div \r\n            key={idx} \r\n            className={`p-3 rounded-md \r\n              ${insight.type === 'warning' ? 'bg-red-500/10' : \r\n                insight.type === 'positive' ? 'bg-green-500/10' : \r\n                'bg-blue-500/10'}`}\r\n          >\r\n            <div className=\"flex items-start gap-2\">\r\n              {insight.type === 'warning' ? (\r\n                <AlertTriangle className=\"h-4 w-4 mt-0.5 text-red-500 shrink-0\" />\r\n              ) : insight.type === 'positive' ? (\r\n                <CheckCircle className=\"h-4 w-4 mt-0.5 text-green-500 shrink-0\" />\r\n              ) : (\r\n                <Info className=\"h-4 w-4 mt-0.5 text-blue-500 shrink-0\" />\r\n              )}\r\n              <div>\r\n                <p className=\"text-sm font-medium mb-1\">\r\n                  {insight.muscleGroup}\r\n                </p>\r\n                <p className=\"text-xs\">\r\n                  {insight.insight}\r\n                </p>\r\n                <p className={`text-xs mt-1 font-medium\r\n                  ${insight.type === 'warning' ? 'text-red-500' : \r\n                    insight.type === 'positive' ? 'text-green-500' : \r\n                    'text-blue-500'}`}>\r\n                  {insight.suggestion}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </CardContent>\r\n      \r\n      {insights.length > 3 && (\r\n        <CardFooter className=\"pt-0\">\r\n          <Button \r\n            variant=\"outline\" \r\n            size=\"sm\" \r\n            onClick={() => setCurrentView('muscleFatigue')}\r\n            className=\"w-full text-xs text-primary hover:text-primary hover:bg-primary/5 border-primary/20\"\r\n          >\r\n            View all insights\r\n            <ArrowRight className=\"ml-2 h-3 w-3\" />\r\n          </Button>\r\n        </CardFooter>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { MuscleFatigueInsights } from '../MuscleFatigueInsights';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\n\r\nexport const ProgressCard: React.FC = () => {\r\n  const { workoutLogs } = useWorkoutLogs();\r\n\r\n  return (\r\n    <MuscleFatigueInsights logs={workoutLogs} />\r\n  );\r\n};\r\n","import { motion } from 'framer-motion';\r\nimport React from 'react';\r\n\r\n// Fade in animation wrapper component\r\nexport const FadeIn: React.FC<{\r\n  children: React.ReactNode;\r\n  delay?: number;\r\n  duration?: number;\r\n  className?: string;\r\n}> = ({ children, delay = 0, duration = 0.5, className }) => {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 10 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration, delay }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Slide up animation wrapper component\r\nexport const SlideUp: React.FC<{\r\n  children: React.ReactNode;\r\n  delay?: number;\r\n  duration?: number;\r\n  className?: string;\r\n}> = ({ children, delay = 0, duration = 0.5, className }) => {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      animate={{ opacity: 1, y: 0 }}\r\n      transition={{ duration, delay, type: 'spring', stiffness: 100 }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Staggered children animation wrapper\r\nexport const StaggerContainer: React.FC<{\r\n  children: React.ReactNode;\r\n  staggerChildren?: number;\r\n  delayChildren?: number;\r\n  className?: string;\r\n}> = ({ children, staggerChildren = 0.1, delayChildren = 0, className }) => {\r\n  return (\r\n    <motion.div\r\n      initial=\"hidden\"\r\n      animate=\"visible\"\r\n      variants={{\r\n        hidden: { opacity: 0 },\r\n        visible: {\r\n          opacity: 1,\r\n          transition: {\r\n            delayChildren,\r\n            staggerChildren,\r\n          },\r\n        },\r\n      }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Stagger item that works with StaggerContainer\r\nexport const StaggerItem: React.FC<{\r\n  children: React.ReactNode;\r\n  className?: string;\r\n}> = ({ children, className }) => {\r\n  return (\r\n    <motion.div\r\n      variants={{\r\n        hidden: { opacity: 0, y: 15 },\r\n        visible: { opacity: 1, y: 0 },\r\n      }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Scale animation wrapper component\r\nexport const ScaleIn: React.FC<{\r\n  children: React.ReactNode;\r\n  delay?: number;\r\n  duration?: number;\r\n  className?: string;\r\n}> = ({ children, delay = 0, duration = 0.4, className }) => {\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, scale: 0.95 }}\r\n      animate={{ opacity: 1, scale: 1 }}\r\n      transition={{ duration, delay, type: 'spring', stiffness: 200 }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n\r\n// Hover scale effect component\r\nexport const HoverScale: React.FC<{\r\n  children: React.ReactNode;\r\n  scale?: number;\r\n  className?: string;\r\n}> = ({ children, scale = 1.03, className }) => {\r\n  return (\r\n    <motion.div\r\n      whileHover={{ scale }}\r\n      transition={{ type: 'spring', stiffness: 400, damping: 17 }}\r\n      className={className}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n};\r\n","export default \"__VITE_ASSET__BKe2NX$Z__\"","export default \"__VITE_ASSET__DGPqXdp$__\"","export default \"__VITE_ASSET__uHJ$Teqj__\"","export default \"__VITE_ASSET__C$TV7iSz__\"","export default \"__VITE_ASSET__ChGPQcZv__\"","export default \"__VITE_ASSET__DpTGlLAM__\"","export default \"__VITE_ASSET__Br4xuaL3__\"","export default \"__VITE_ASSET__CZhPD0d3__\"","export default \"__VITE_ASSET__DkJE98Oe__\"","export default \"__VITE_ASSET__JkZuYR4s__\"","export default \"__VITE_ASSET__CyQPR6QK__\"","export default \"__VITE_ASSET__BtEx87jt__\"","export default \"__VITE_ASSET__DYNHfp73__\"","export default \"__VITE_ASSET__Vi7XUvAn__\"","// Utils for mapping muscle names to their corresponding icon assets\r\nimport AbdominalsIcon from '@/assets/Abdominals.png';\r\nimport BackIcon from '@/assets/back-wings.png';\r\nimport BackWingsIcon from '@/assets/back-wings.png';\r\nimport Back4Icon from '@/assets/back (4).png';\r\nimport BicepsIcon from '@/assets/biceps.png';\r\nimport CalfIcon from '@/assets/calf.png';\r\nimport ChestIcon from '@/assets/chest.png';\r\nimport ForearmIcon from '@/assets/forearm.png';\r\nimport FullBodyIcon from '@/assets/back-wings.png';\r\nimport HipIcon from '@/assets/Hip.png';\r\nimport LegIcon from '@/assets/leg.png';\r\nimport NeckIcon from '@/assets/neck.png';\r\nimport ShoulderIcon from '@/assets/shoulder.png';\r\nimport Shoulder1Icon from '@/assets/shoulder (1).png';\r\nimport TrapeziusIcon from '@/assets/trapezius.png';\r\nimport TricepsIcon from '@/assets/triceps.png';\r\n\r\n// Mapping of muscle group names to their icon paths\r\nexport const muscleIconMap: Record<string, string> = {\r\n  // Core muscles\r\n  'abdominals': AbdominalsIcon,\r\n  'abs': AbdominalsIcon,\r\n  'core': AbdominalsIcon,\r\n  \r\n  // Back muscles\r\n  'back': BackIcon,\r\n  'lats': BackWingsIcon,\r\n  'latissimus dorsi': BackWingsIcon,\r\n  'rhomboids': Back4Icon,\r\n  'middle back': Back4Icon,\r\n  'lower back': BackIcon,\r\n  'upper back': TrapeziusIcon,\r\n  'trapezius': TrapeziusIcon,\r\n  'traps': TrapeziusIcon,\r\n  \r\n  // Arms\r\n  'biceps': BicepsIcon,\r\n  'triceps': TricepsIcon,\r\n  'forearms': ForearmIcon,\r\n  'forearm': ForearmIcon,\r\n  \r\n  // Shoulders\r\n  'shoulders': ShoulderIcon,\r\n  'shoulder': ShoulderIcon,\r\n  'deltoids': ShoulderIcon,\r\n  'delts': ShoulderIcon,\r\n  'anterior deltoid': Shoulder1Icon,\r\n  'posterior deltoid': Shoulder1Icon,\r\n  'lateral deltoid': Shoulder1Icon,\r\n  \r\n  // Chest\r\n  'chest': ChestIcon,\r\n  'pectorals': ChestIcon,\r\n  'pecs': ChestIcon,\r\n  \r\n  // Legs\r\n  'legs': LegIcon,\r\n  'quadriceps': LegIcon,\r\n  'quads': LegIcon,\r\n  'hamstrings': LegIcon,\r\n  'glutes': HipIcon,\r\n  'gluteus': HipIcon,\r\n  'hips': HipIcon,\r\n  'calves': CalfIcon,\r\n  'calf': CalfIcon,\r\n  \r\n  // Other\r\n  'neck': NeckIcon,\r\n  'full body': FullBodyIcon,\r\n  'cardio': FullBodyIcon,\r\n};\r\n\r\n/**\r\n * Get the icon path for a given muscle group name\r\n * @param muscleName - The name of the muscle group\r\n * @returns The icon path or a default icon if not found\r\n */\r\nexport const getMuscleIcon = (muscleName: string): string => {\r\n  // Normalize the muscle name (lowercase, trim)\r\n  const normalizedName = muscleName.toLowerCase().trim();\r\n  \r\n  // Direct match\r\n  if (muscleIconMap[normalizedName]) {\r\n    return muscleIconMap[normalizedName];\r\n  }\r\n  \r\n  // Partial match - check if any key contains the muscle name or vice versa\r\n  for (const [key, icon] of Object.entries(muscleIconMap)) {\r\n    if (key.includes(normalizedName) || normalizedName.includes(key)) {\r\n      return icon;\r\n    }\r\n  }\r\n  \r\n  // Default to full body icon if no match found\r\n  return FullBodyIcon;\r\n};\r\n\r\n/**\r\n * Check if an icon exists for a given muscle name\r\n * @param muscleName - The name of the muscle group\r\n * @returns boolean indicating if an icon exists\r\n */\r\nexport const hasMuscleIcon = (muscleName: string): boolean => {\r\n  const normalizedName = muscleName.toLowerCase().trim();\r\n  return muscleIconMap[normalizedName] !== undefined || \r\n         Object.keys(muscleIconMap).some(key => \r\n           key.includes(normalizedName) || normalizedName.includes(key)\r\n         );\r\n};\r\n","// src/components/dashboard/MuscleFatigueCard.tsx\r\nimport React, { useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription, CardFooter } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Activity, ArrowRight } from 'lucide-react';\r\nimport { useConsolidatedApp } from '@/hooks/useConsolidatedApp';\r\nimport { WorkoutLogEntry } from '@/types/Workout_Log';\r\nimport { calculateMuscleFatigue, getMusclesReadyForTraining, getMusclesNeedingRest } from '@/utils/muscleFatigueCalculator';\r\nimport { getMuscleIcon } from '@/utils/muscleIcons';\r\nimport { useFatigueSettings } from '@/contexts/FatigueSettingsContext';\r\n\r\ninterface MuscleFatigueCardProps {\r\n  logs: WorkoutLogEntry[];\r\n}\r\n\r\nexport const MuscleFatigueCard: React.FC<MuscleFatigueCardProps> = ({ logs }) => {\r\n  const { appStore } = useConsolidatedApp();\r\n  const { setCurrentView } = appStore;\r\n  const { settings } = useFatigueSettings();\r\n  \r\n  // Calculate muscle fatigue data\r\n  const fatigueData = useMemo(() => {\r\n    return calculateMuscleFatigue(logs, undefined, settings);\r\n  }, [logs, settings]);\r\n  \r\n  // Get muscles ready for training and those that need rest\r\n  const readyMuscles = useMemo(() => getMusclesReadyForTraining(fatigueData), [fatigueData]);\r\n  const restingMuscles = useMemo(() => getMusclesNeedingRest(fatigueData), [fatigueData]);\r\n  \r\n  if (!logs || logs.length === 0) {\r\n    return (\r\n      <Card className=\"h-full\">\r\n        <CardHeader className=\"pb-2\">\r\n          <CardTitle className=\"text-base font-semibold flex items-center\">\r\n            <Activity className=\"h-4 w-4 mr-2 text-primary\" />\r\n            Muscle Fatigue\r\n          </CardTitle>\r\n          <CardDescription className=\"text-xs\">\r\n            Log workouts to view muscle fatigue data\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"pb-4\">\r\n          <div className=\"flex items-center justify-center h-24\">\r\n            <p className=\"text-muted-foreground text-sm\">No workout data</p>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <Card className=\"h-full\">\r\n      <CardHeader className=\"pb-2\">\r\n        <CardTitle className=\"text-base font-semibold flex items-center\">\r\n          <Activity className=\"h-4 w-4 mr-2 text-primary\" />\r\n          Muscle Fatigue\r\n        </CardTitle>\r\n        <CardDescription className=\"text-xs\">\r\n          Train fresh muscles, rest fatigued ones\r\n        </CardDescription>\r\n      </CardHeader>\r\n      <CardContent>        <div className=\"grid grid-cols-1 gap-4\">\r\n          <div>\r\n            <h3 className=\"text-sm font-medium text-green-500 mb-2\">Ready to Train:</h3>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {readyMuscles.length > 0 ? (\r\n                readyMuscles.map((muscle) => (\r\n                  <div key={muscle} className=\"inline-flex items-center gap-1.5 px-2 py-1.5 rounded-lg text-xs font-medium bg-green-500/10 text-green-500 border border-green-500/20\">\r\n                    <img \r\n                      src={getMuscleIcon(muscle)} \r\n                      alt={muscle}\r\n                      className=\"w-12 h-12 object-contain\"\r\n                    />\r\n                    <span>{muscle}</span>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <span className=\"text-xs text-muted-foreground\">No muscle groups ready</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          <div>\r\n            <h3 className=\"text-sm font-medium text-red-500 mb-2\">Needs Rest:</h3>\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {restingMuscles.length > 0 ? (\r\n                restingMuscles.map((muscle) => (\r\n                  <div key={muscle} className=\"inline-flex items-center gap-1.5 px-2 py-1.5 rounded-lg text-xs font-medium bg-red-500/10 text-red-500 border border-red-500/20\">\r\n                    <img \r\n                      src={getMuscleIcon(muscle)} \r\n                      alt={muscle}\r\n                      className=\"w-12 h-12 object-contain opacity-75\"\r\n                    />\r\n                    <span>{muscle}</span>\r\n                  </div>\r\n                ))\r\n              ) : (\r\n                <span className=\"text-xs text-muted-foreground\">No muscle groups need rest</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n      <CardFooter className=\"pt-0\">\r\n        <Button \r\n          variant=\"outline\" \r\n          size=\"sm\" \r\n          onClick={() => setCurrentView('muscleFatigue')}\r\n          className=\"w-full text-xs text-primary hover:text-primary hover:bg-primary/5 border-primary/20\"\r\n        >\r\n          View detailed fatigue data\r\n          <ArrowRight className=\"ml-2 h-3 w-3\" />\r\n        </Button>\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Card, CardContent, CardFooter, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { useWorkoutTemplates } from '@/hooks/useConsolidatedApp';\r\nimport { Clock, CheckCircle, X, PlayCircle, Dumbbell } from 'lucide-react';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useRouter } from '@/lib/utils';\r\n\r\nexport const ActiveWorkoutCard: React.FC = () => {\r\n  const router = useRouter();\r\n  const { activeWorkout, completeWorkout, cancelWorkout } = useWorkoutTemplates();\r\n  \r\n  if (!activeWorkout) {\r\n    return null;\r\n  }\r\n  \r\n  // Calculate overall progress based on completed sets\r\n  const calculateOverallProgress = () => {\r\n    if (!activeWorkout || !activeWorkout.exercises) return 0;\r\n    \r\n    const exercises = activeWorkout.exercises;\r\n    let totalSets = 0;\r\n    let completedSets = 0;\r\n    \r\n    exercises.forEach(exercise => {\r\n      totalSets += exercise.sets;\r\n      completedSets += exercise.setsCompleted || 0;\r\n    });\r\n    \r\n    return totalSets === 0 ? 0 : Math.round((completedSets / totalSets) * 100);\r\n  };\r\n  \r\n  // Format time since workout started\r\n  const formatWorkoutTime = () => {\r\n    const startTime = new Date(activeWorkout.startTime);\r\n    const now = new Date();\r\n    const diffMs = now.getTime() - startTime.getTime();\r\n    \r\n    const minutes = Math.floor(diffMs / 60000);\r\n    const hours = Math.floor(minutes / 60);\r\n    \r\n    if (hours > 0) {\r\n      return `${hours}h ${minutes % 60}m`;\r\n    }\r\n    \r\n    return `${minutes}m`;\r\n  };\r\n  \r\n  // Get next exercise that's not completed\r\n  const getNextExercise = () => {\r\n    const nextExercise = activeWorkout.exercises.find(\r\n      ex => (ex.setsCompleted || 0) < ex.sets\r\n    );\r\n    \r\n    return nextExercise;\r\n  };\r\n    // Handle continue workout\r\n  const handleContinueWorkout = () => {\r\n    router.push('/workout');\r\n  };\r\n  \r\n  // Handle complete workout\r\n  const handleCompleteWorkout = async () => {\r\n    const result = await completeWorkout();\r\n    if (result.success) {\r\n      // Could show a notification here\r\n    }\r\n  };\r\n  \r\n  // Handle cancel workout\r\n  const handleCancelWorkout = () => {\r\n    if (window.confirm(\"Are you sure you want to cancel this workout? All progress will be lost.\")) {\r\n      cancelWorkout();\r\n    }\r\n  };\r\n  \r\n  const nextExercise = getNextExercise();\r\n  const overallProgress = calculateOverallProgress();\r\n  \r\n  return (\r\n    <Card className=\"border border-primary/20 shadow-sm hover:shadow-md transition-shadow\">\r\n      <CardHeader className=\"bg-primary/5 pb-2\">\r\n        <div className=\"flex justify-between items-center\">\r\n          <CardTitle className=\"text-lg font-medium flex items-center\">\r\n            <Dumbbell className=\"h-5 w-5 mr-2 text-primary\" />\r\n            Active Workout\r\n          </CardTitle>\r\n          <Badge variant=\"outline\" className=\"bg-primary/10 text-primary\">\r\n            In Progress\r\n          </Badge>\r\n        </div>\r\n      </CardHeader>\r\n      \r\n      <CardContent className=\"pt-4\">\r\n        <div className=\"flex flex-col space-y-4\">\r\n          <div>\r\n            <h3 className=\"font-semibold text-lg\">{activeWorkout.templateName}</h3>\r\n            <div className=\"text-muted-foreground text-sm\">{activeWorkout.description}</div>\r\n          </div>\r\n          \r\n          <div className=\"flex items-center space-x-1 text-sm text-muted-foreground\">\r\n            <Clock className=\"h-4 w-4\" />\r\n            <span>Started {formatWorkoutTime()} ago</span>\r\n          </div>\r\n          \r\n          <div>\r\n            <div className=\"flex justify-between items-center mb-1\">\r\n              <span className=\"text-sm font-medium\">Overall Progress</span>\r\n              <span className=\"text-sm font-medium\">{overallProgress}%</span>\r\n            </div>\r\n            <Progress value={overallProgress} />\r\n          </div>\r\n          \r\n          {nextExercise ? (\r\n            <div className=\"bg-muted/50 p-3 rounded-md\">\r\n              <div className=\"text-sm font-medium mb-1\">Next Exercise:</div>\r\n              <div className=\"flex justify-between items-center\">\r\n                <div>\r\n                  <div className=\"font-semibold\">{nextExercise.name}</div>\r\n                  <div className=\"text-xs text-muted-foreground\">{nextExercise.sets} sets × {nextExercise.reps} reps</div>\r\n                </div>\r\n                <Badge>{nextExercise.muscleGroup}</Badge>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"bg-primary/10 p-3 rounded-md\">\r\n              <div className=\"text-center text-sm font-medium\">\r\n                All exercises completed! You can finish your workout.\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n      \r\n      <CardFooter className=\"flex flex-col md:flex-row gap-2\">\r\n        <Button \r\n          variant=\"default\" \r\n          className=\"w-full md:w-auto\"\r\n          onClick={handleContinueWorkout}\r\n        >\r\n          <PlayCircle className=\"h-4 w-4 mr-2\" />\r\n          Continue\r\n        </Button>\r\n        \r\n        <div className=\"flex gap-2 w-full md:w-auto\">\r\n          <Button \r\n            variant=\"outline\" \r\n            className=\"flex-1\"\r\n            onClick={handleCompleteWorkout}\r\n          >\r\n            <CheckCircle className=\"h-4 w-4 mr-2\" />\r\n            Finish\r\n          </Button>\r\n          \r\n          <Button \r\n            variant=\"ghost\" \r\n            className=\"flex-1 text-destructive hover:text-destructive\"\r\n            onClick={handleCancelWorkout}\r\n          >\r\n            <X className=\"h-4 w-4 mr-2\" />\r\n            Cancel\r\n          </Button>\r\n        </div>\r\n      </CardFooter>\r\n    </Card>\r\n  );\r\n};\r\n","// Google Drive integration for health documents\r\nimport { gapi } from 'gapi-script';\r\nimport { googleConfig } from '@/config/google.config';\r\nimport { ensureValidToken } from '@/lib/googleApiHelper';\r\n\r\nexport interface DriveFile {\r\n  id: string;\r\n  name: string;\r\n  mimeType: string;\r\n  size: string;\r\n  createdTime: string;\r\n  modifiedTime: string;\r\n  webViewLink: string;\r\n  webContentLink: string;\r\n  parents: string[];\r\n}\r\n\r\nexport interface UploadResult {\r\n  fileId: string;\r\n  fileName: string;\r\n  fileUrl: string;\r\n  mimeType: string;\r\n  size: number;\r\n}\r\n\r\nclass GoogleDriveService {\r\n  private healthFolderId: string;\r\n\r\n  constructor() {\r\n    this.healthFolderId = googleConfig.drive.folderId;\r\n  }\r\n\r\n  /**\r\n   * Set the health folder ID\r\n   */\r\n  setHealthFolderId(folderId: string): void {\r\n    this.healthFolderId = folderId;\r\n  }\r\n\r\n  /**\r\n   * Get the current health folder ID\r\n   */\r\n  getHealthFolderId(): string {\r\n    return this.healthFolderId;\r\n  }\r\n\r\n  /**\r\n   * Ensure the health folder exists in Google Drive\r\n   */\r\n  async ensureHealthFolder(): Promise<string> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      // Ensure Drive API is loaded\r\n      if (!gapi.client.drive) {\r\n        await new Promise<void>((resolve, reject) => {\r\n          gapi.client.load('drive', 'v3').then(resolve).catch(reject);\r\n        });\r\n      }\r\n\r\n      // Check if the folder already exists\r\n      if (this.healthFolderId && this.healthFolderId !== '18oce2L5-EfDo6rY1-zzAdjTXHfZnjtnx') {\r\n        try {\r\n          const response = await gapi.client.drive.files.get({\r\n            fileId: this.healthFolderId,\r\n            fields: 'id, name, mimeType',\r\n          });\r\n          if (response.result && response.result.mimeType === 'application/vnd.google-apps.folder') {\r\n            return this.healthFolderId;\r\n          }\r\n        } catch (error) {\r\n          console.warn('Configured health folder not found, creating new one:', error);\r\n        }\r\n      }\r\n\r\n      // Defensive: Try to find an existing folder first\r\n      try {\r\n        const listResponse = await gapi.client.drive.files.list({\r\n          q: `name='Health Documents' and mimeType='application/vnd.google-apps.folder' and trashed=false`,\r\n          fields: 'files(id, name)',\r\n        });\r\n        if (!listResponse || !listResponse.result || !Array.isArray(listResponse.result.files)) {\r\n          console.error('Drive API folder list response:', listResponse);\r\n          throw new Error('Drive API folder list response is malformed or missing');\r\n        }\r\n        if (listResponse.result.files.length > 0) {\r\n          const foundFolderId = listResponse.result.files[0].id;\r\n          this.healthFolderId = foundFolderId;\r\n          console.log('Found existing health folder with ID:', foundFolderId);\r\n          return foundFolderId;\r\n        }\r\n      } catch (listError) {\r\n        console.error('Error listing health folders:', listError);\r\n        throw new Error('Failed to list health folders: ' + (listError instanceof Error ? listError.message : String(listError)));\r\n      }\r\n\r\n      // Create a new health folder\r\n      const folderMetadata = {\r\n        name: 'Health Documents',\r\n        mimeType: 'application/vnd.google-apps.folder',\r\n        description: 'Health tracking documents and reports',\r\n      };\r\n\r\n      const response = await gapi.client.drive.files.create({\r\n        resource: folderMetadata,\r\n        fields: 'id',\r\n      });\r\n\r\n      if (!response.result?.id) {\r\n        console.error('Drive API create folder response:', response);\r\n        throw new Error('Failed to create health folder');\r\n      }\r\n\r\n      this.healthFolderId = response.result.id;\r\n      console.log('Created health folder with ID:', this.healthFolderId);\r\n\r\n      return this.healthFolderId;\r\n    } catch (error) {\r\n      console.error('Error ensuring health folder:', error);\r\n      throw new Error(\r\n        `Failed to create/access health folder: ${\r\n          error instanceof Error ? error.message : 'Unknown error'\r\n        }`\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Create a subfolder for a family member\r\n   */\r\n  async createFamilyMemberFolder(memberName: string): Promise<string> {\r\n    try {\r\n      const healthFolderId = await this.ensureHealthFolder();\r\n      \r\n      // Check if the subfolder already exists\r\n      const listResponse = await gapi.client.drive.files.list({\r\n        q: `name='${memberName}' and parents in '${healthFolderId}' and mimeType='application/vnd.google-apps.folder' and trashed=false`,\r\n        fields: 'files(id, name)',\r\n      });\r\n\r\n      if (listResponse.result.files && listResponse.result.files.length > 0) {\r\n        return listResponse.result.files[0].id!;\r\n      }\r\n\r\n      // Create the subfolder\r\n      const folderMetadata = {\r\n        name: memberName,\r\n        mimeType: 'application/vnd.google-apps.folder',\r\n        parents: [healthFolderId],\r\n        description: `Health documents for ${memberName}`,\r\n      };\r\n\r\n      const response = await gapi.client.drive.files.create({\r\n        resource: folderMetadata,\r\n        fields: 'id',\r\n      });\r\n\r\n      if (!response.result?.id) {\r\n        throw new Error('Failed to create family member folder');\r\n      }\r\n\r\n      return response.result.id;\r\n    } catch (error) {\r\n      console.error('Error creating family member folder:', error);\r\n      throw new Error(`Failed to create folder for ${memberName}: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Upload a health document to Google Drive\r\n   */\r\n  async uploadHealthDocument(\r\n    file: File,\r\n    fileName: string,\r\n    isForFamilyMember: boolean = false,\r\n    familyMemberName?: string,\r\n    description?: string\r\n  ): Promise<UploadResult> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      // Determine the parent folder\r\n      let parentFolderId: string;\r\n      if (isForFamilyMember && familyMemberName) {\r\n        parentFolderId = await this.createFamilyMemberFolder(familyMemberName);\r\n      } else {\r\n        parentFolderId = await this.ensureHealthFolder();\r\n      }\r\n\r\n      // Prepare file metadata\r\n      const metadata = {\r\n        name: fileName,\r\n        parents: [parentFolderId],\r\n        description: description || 'Health document uploaded via Health Tracker',\r\n      };\r\n\r\n      // Create a multipart upload request\r\n      const form = new FormData();\r\n      form.append('metadata', new Blob([JSON.stringify(metadata)], { type: 'application/json' }));\r\n      form.append('file', file);\r\n\r\n      const response = await fetch('https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart&fields=id,name,webViewLink,webContentLink,mimeType,size', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n        body: form,\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        throw new Error(`Upload failed: ${response.status} ${response.statusText} - ${errorText}`);\r\n      }\r\n\r\n      const result = await response.json();\r\n\r\n      return {\r\n        fileId: result.id,\r\n        fileName: result.name,\r\n        fileUrl: result.webViewLink,\r\n        mimeType: result.mimeType,\r\n        size: parseInt(result.size) || file.size,\r\n      };\r\n    } catch (error) {\r\n      console.error('Error uploading health document:', error);\r\n      throw new Error(`Failed to upload document: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * List health documents in the health folder\r\n   */\r\n  async listHealthDocuments(familyMemberName?: string): Promise<DriveFile[]> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      let parentFolderId: string;\r\n      if (familyMemberName) {\r\n        parentFolderId = await this.createFamilyMemberFolder(familyMemberName);\r\n      } else {\r\n        parentFolderId = await this.ensureHealthFolder();\r\n      }\r\n\r\n      const response = await gapi.client.drive.files.list({\r\n        q: `parents in '${parentFolderId}' and trashed=false`,\r\n        fields: 'files(id, name, mimeType, size, createdTime, modifiedTime, webViewLink, webContentLink, parents)',\r\n        orderBy: 'modifiedTime desc',\r\n      });\r\n\r\n      return response.result.files || [];\r\n    } catch (error) {\r\n      console.error('Error listing health documents:', error);\r\n      throw new Error(`Failed to list documents: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Download a health document from Google Drive\r\n   */\r\n  async downloadHealthDocument(fileId: string, fileName: string): Promise<void> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      // Get file metadata to check if it's a Google Workspace file\r\n      const metadataResponse = await gapi.client.drive.files.get({\r\n        fileId: fileId,\r\n        fields: 'mimeType, name',\r\n      });\r\n\r\n      const mimeType = metadataResponse.result.mimeType;\r\n      const isGoogleWorkspaceFile = mimeType?.includes('application/vnd.google-apps');\r\n\r\n      let downloadUrl: string;\r\n      \r\n      if (isGoogleWorkspaceFile) {\r\n        // For Google Workspace files, we need to export them\r\n        let exportMimeType = 'application/pdf'; // Default export format\r\n        \r\n        if (mimeType?.includes('spreadsheet')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet';\r\n        } else if (mimeType?.includes('document')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.wordprocessingml.document';\r\n        } else if (mimeType?.includes('presentation')) {\r\n          exportMimeType = 'application/vnd.openxmlformats-officedocument.presentationml.presentation';\r\n        }\r\n        \r\n        downloadUrl = `https://www.googleapis.com/drive/v3/files/${fileId}/export?mimeType=${encodeURIComponent(exportMimeType)}`;\r\n      } else {\r\n        // For regular files, use the download endpoint\r\n        downloadUrl = `https://www.googleapis.com/drive/v3/files/${fileId}?alt=media`;\r\n      }\r\n\r\n      const response = await fetch(downloadUrl, {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error(`Download failed: ${response.status} ${response.statusText}`);\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      \r\n      // Create download link\r\n      const url = URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = fileName;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      URL.revokeObjectURL(url);\r\n    } catch (error) {\r\n      console.error('Error downloading health document:', error);\r\n      throw new Error(`Failed to download document: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete a health document from Google Drive\r\n   */\r\n  async deleteHealthDocument(fileId: string): Promise<void> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      await gapi.client.drive.files.delete({\r\n        fileId: fileId,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error deleting health document:', error);\r\n      throw new Error(`Failed to delete document: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update document metadata\r\n   */\r\n  async updateDocumentMetadata(fileId: string, updates: { name?: string; description?: string }): Promise<void> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      await gapi.client.drive.files.update({\r\n        fileId: fileId,\r\n        resource: updates,\r\n      });\r\n    } catch (error) {\r\n      console.error('Error updating document metadata:', error);\r\n      throw new Error(`Failed to update document: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Share a document with specific permissions\r\n   */\r\n  async shareDocument(fileId: string, emailAddress: string, role: 'reader' | 'writer' = 'reader'): Promise<void> {\r\n    try {\r\n      const token = await ensureValidToken();\r\n      if (!token) {\r\n        throw new Error('No valid authentication token available');\r\n      }\r\n\r\n      await gapi.client.drive.permissions.create({\r\n        fileId: fileId,\r\n        resource: {\r\n          role: role,\r\n          type: 'user',\r\n          emailAddress: emailAddress,\r\n        },\r\n      });\r\n    } catch (error) {\r\n      console.error('Error sharing document:', error);\r\n      throw new Error(`Failed to share document: ${error instanceof Error ? error.message : 'Unknown error'}`);\r\n    }\r\n  }\r\n  /**\r\n   * Get the health folder ID (creates if doesn't exist)\r\n   */\r\n  async getHealthFolderIdAsync(): Promise<string> {\r\n    return await this.ensureHealthFolder();\r\n  }\r\n}\r\n\r\nexport const googleDriveService = new GoogleDriveService();\r\n","import type { NutritionEntry, HealthEntry, MeditationEntry, NutritionGoals, HealthSummary } from '@/types/Health';\r\n\r\n// Date utilities\r\nexport const formatDate = (date: Date | string): string => {\r\n  if (typeof date === 'string') {\r\n    date = new Date(date);\r\n  }\r\n  return date.toISOString().split('T')[0];\r\n};\r\n\r\nexport const getWeekDates = (date: Date = new Date()): string[] => {\r\n  const week = [];\r\n  const startOfWeek = new Date(date);\r\n  startOfWeek.setDate(date.getDate() - date.getDay());\r\n  \r\n  for (let i = 0; i < 7; i++) {\r\n    const currentDate = new Date(startOfWeek);\r\n    currentDate.setDate(startOfWeek.getDate() + i);\r\n    week.push(formatDate(currentDate));\r\n  }\r\n  \r\n  return week;\r\n};\r\n\r\n// Nutrition calculations\r\nexport const calculateDailyNutrition = (entries: NutritionEntry[], date: string) => {\r\n  const dayEntries = entries.filter(entry => entry.date === date);\r\n  \r\n  return dayEntries.reduce(\r\n    (totals, entry) => ({\r\n      calories: totals.calories + entry.calories,\r\n      protein: totals.protein + entry.protein,\r\n      carbs: totals.carbs + entry.carbs,\r\n      fat: totals.fat + entry.fat,\r\n      fiber: totals.fiber + entry.fiber,\r\n    }),\r\n    { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0 }\r\n  );\r\n};\r\n\r\nexport const calculateNutritionProgress = (\r\n  current: ReturnType<typeof calculateDailyNutrition>,\r\n  goals: NutritionGoals\r\n) => ({\r\n  calories: goals.dailyCalories > 0 ? (current.calories / goals.dailyCalories) * 100 : 0,\r\n  protein: goals.protein > 0 ? (current.protein / goals.protein) * 100 : 0,\r\n  carbs: goals.carbs > 0 ? (current.carbs / goals.carbs) * 100 : 0,\r\n  fat: goals.fat > 0 ? (current.fat / goals.fat) * 100 : 0,\r\n  fiber: goals.fiber > 0 ? (current.fiber / goals.fiber) * 100 : 0,\r\n});\r\n\r\n// Health metrics calculations\r\nexport const getLatestHealthMetric = (entries: HealthEntry[], type: string): HealthEntry | null => {\r\n  const typeEntries = entries.filter(entry => entry.type === type);\r\n  if (typeEntries.length === 0) return null;\r\n  \r\n  return typeEntries.reduce((latest, current) => \r\n    new Date(current.timestamp) > new Date(latest.timestamp) ? current : latest\r\n  );\r\n};\r\n\r\nexport const calculateHealthTrend = (entries: HealthEntry[], type: string, days: number = 7): number => {\r\n  const typeEntries = entries\r\n    .filter(entry => entry.type === type)\r\n    .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())\r\n    .slice(0, days);\r\n    \r\n  if (typeEntries.length < 2) return 0;\r\n  \r\n  const latest = typeEntries[0].value;\r\n  const oldest = typeEntries[typeEntries.length - 1].value;\r\n  \r\n  return ((latest - oldest) / oldest) * 100;\r\n};\r\n\r\n// Meditation calculations\r\nexport const calculateMeditationStats = (entries: MeditationEntry[], days: number = 7) => {\r\n  const cutoffDate = new Date();\r\n  cutoffDate.setDate(cutoffDate.getDate() - days);\r\n  \r\n  const recentEntries = entries.filter(entry => \r\n    new Date(entry.timestamp) >= cutoffDate\r\n  );\r\n  \r\n  if (recentEntries.length === 0) {\r\n    return {\r\n      totalSessions: 0,\r\n      totalMinutes: 0,\r\n      averageDuration: 0,\r\n      averageMoodImprovement: 0,\r\n      averageStressReduction: 0,\r\n      streak: 0\r\n    };\r\n  }\r\n  \r\n  const totalMinutes = recentEntries.reduce((sum, entry) => sum + entry.duration, 0);\r\n  const moodImprovements = recentEntries.map(entry => entry.moodAfter - entry.moodBefore);\r\n  const stressReductions = recentEntries.map(entry => entry.stressBefore - entry.stressAfter);\r\n  \r\n  return {\r\n    totalSessions: recentEntries.length,\r\n    totalMinutes,\r\n    averageDuration: totalMinutes / recentEntries.length,\r\n    averageMoodImprovement: moodImprovements.reduce((sum, val) => sum + val, 0) / moodImprovements.length,\r\n    averageStressReduction: stressReductions.reduce((sum, val) => sum + val, 0) / stressReductions.length,\r\n    streak: calculateMeditationStreak(entries)\r\n  };\r\n};\r\n\r\nexport const calculateMeditationStreak = (entries: MeditationEntry[]): number => {\r\n  if (entries.length === 0) return 0;\r\n  \r\n  const sortedEntries = entries\r\n    .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\r\n    .map(entry => entry.date);\r\n    \r\n  const uniqueDates = [...new Set(sortedEntries)];\r\n  \r\n  let streak = 0;\r\n  const today = formatDate(new Date());\r\n  let checkDate = today;\r\n  \r\n  for (const date of uniqueDates) {\r\n    if (date === checkDate) {\r\n      streak++;\r\n      const prevDate = new Date(checkDate);\r\n      prevDate.setDate(prevDate.getDate() - 1);\r\n      checkDate = formatDate(prevDate);\r\n    } else {\r\n      break;\r\n    }\r\n  }\r\n  \r\n  return streak;\r\n};\r\n\r\n// Weekly health summary\r\nexport const generateWeeklyHealthSummary = (\r\n  nutritionEntries: NutritionEntry[],\r\n  healthEntries: HealthEntry[],\r\n  meditationEntries: MeditationEntry[],\r\n  weekDates: string[]\r\n): HealthSummary[] => {\r\n  return weekDates.map(date => {\r\n    const nutrition = calculateDailyNutrition(nutritionEntries, date);\r\n    const dayHealthEntries = healthEntries.filter(entry => entry.date === date);\r\n    const dayMeditationEntries = meditationEntries.filter(entry => entry.date === date);\r\n    \r\n    const getHealthValue = (type: string) => {\r\n      const entry = dayHealthEntries.find(e => e.type === type);\r\n      return entry ? entry.value : undefined;\r\n    };\r\n    \r\n    const totalMeditationMinutes = dayMeditationEntries.reduce(\r\n      (sum, entry) => sum + entry.duration, 0\r\n    );\r\n    \r\n    return {\r\n      date,\r\n      weight: getHealthValue('weight'),\r\n      bodyFat: getHealthValue('body_fat'),\r\n      muscleMass: getHealthValue('muscle_mass'),\r\n      waterIntake: getHealthValue('water_intake'),\r\n      steps: getHealthValue('steps'),\r\n      sleepHours: getHealthValue('sleep_hours'),\r\n      meditationMinutes: totalMeditationMinutes || undefined,\r\n      calories: nutrition.calories || undefined,\r\n      protein: nutrition.protein || undefined,\r\n      carbs: nutrition.carbs || undefined,\r\n      fat: nutrition.fat || undefined,\r\n    };\r\n  });\r\n};\r\n\r\n// Error handling utilities\r\nexport const handleHealthApiError = (error: any): string => {\r\n  if (error?.message) {\r\n    return error.message;\r\n  }\r\n  \r\n  if (typeof error === 'string') {\r\n    return error;\r\n  }\r\n  \r\n  return 'An unexpected error occurred. Please try again.';\r\n};\r\n\r\n// Validation utilities\r\nexport const validateNutritionEntry = (entry: Partial<NutritionEntry>): string[] => {\r\n  const errors: string[] = [];\r\n  \r\n  if (!entry.date) errors.push('Date is required');\r\n  if (!entry.meal) errors.push('Meal type is required');\r\n  if (!entry.food) errors.push('Food name is required');\r\n  if (!entry.calories || entry.calories < 0) errors.push('Valid calories amount is required');\r\n  if (entry.protein && entry.protein < 0) errors.push('Protein cannot be negative');\r\n  if (entry.carbs && entry.carbs < 0) errors.push('Carbs cannot be negative');\r\n  if (entry.fat && entry.fat < 0) errors.push('Fat cannot be negative');\r\n  if (entry.fiber && entry.fiber < 0) errors.push('Fiber cannot be negative');\r\n  \r\n  return errors;\r\n};\r\n\r\nexport const validateHealthEntry = (entry: Partial<HealthEntry>): string[] => {\r\n  const errors: string[] = [];\r\n  \r\n  if (!entry.date) errors.push('Date is required');\r\n  if (!entry.type) errors.push('Health metric type is required');\r\n  if (!entry.value || entry.value < 0) errors.push('Valid value is required');\r\n  \r\n  return errors;\r\n};\r\n\r\nexport const validateMeditationEntry = (entry: Partial<MeditationEntry>): string[] => {\r\n  const errors: string[] = [];\r\n  \r\n  if (!entry.date) errors.push('Date is required');\r\n  if (!entry.type) errors.push('Meditation type is required');\r\n  if (!entry.duration || entry.duration <= 0) errors.push('Valid duration is required');\r\n  if (entry.moodBefore !== undefined && (entry.moodBefore < 1 || entry.moodBefore > 10)) {\r\n    errors.push('Mood before must be between 1-10');\r\n  }\r\n  if (entry.moodAfter !== undefined && (entry.moodAfter < 1 || entry.moodAfter > 10)) {\r\n    errors.push('Mood after must be between 1-10');\r\n  }\r\n  if (entry.stressBefore !== undefined && (entry.stressBefore < 1 || entry.stressBefore > 10)) {\r\n    errors.push('Stress before must be between 1-10');\r\n  }\r\n  if (entry.stressAfter !== undefined && (entry.stressAfter < 1 || entry.stressAfter > 10)) {\r\n    errors.push('Stress after must be between 1-10');\r\n  }\r\n  \r\n  return errors;\r\n};\r\n","import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\nimport type { \r\n  NutritionEntry, \r\n  MealPlan, \r\n  HealthEntry, \r\n  MeditationEntry, \r\n  NutritionGoals,\r\n  HealthSummary,\r\n  Person,\r\n  HealthDocument,\r\n  HealthConfig,\r\n  VitalSigns,\r\n  BodyMeasurement\r\n} from '@/types/Health';\r\nimport {\r\n  readSpreadsheetData,\r\n  createSpreadsheetRow,\r\n  updateSpreadsheetRow,\r\n  deleteSpreadsheetRow,\r\n  type GenericSheetRowData\r\n} from '@/lib/spreadsheetAPI';\r\nimport { googleDriveService } from '@/lib/googleDriveService';\r\nimport { \r\n  calculateDailyNutrition,\r\n  calculateNutritionProgress,\r\n  calculateHealthTrend,\r\n  calculateMeditationStats,\r\n  generateWeeklyHealthSummary,\r\n  getWeekDates,\r\n  handleHealthApiError,\r\n  validateNutritionEntry,\r\n  validateHealthEntry,\r\n  validateMeditationEntry\r\n} from '@/utils/healthUtils';\r\n\r\n// Data transformation functions to convert GenericSheetRowData to typed interfaces\r\n// NOTE: Some transforms are defined for future features and intentionally unused for now\r\n\r\n// @ts-expect-error - Future use for multi-person features\r\nconst transformToPerson = (data: GenericSheetRowData): Person => ({\r\n  id: String(data.ID || data.id || ''),\r\n  name: String(data.Name || data.name || ''),\r\n  relationship: String(data.Relationship || data.relationship || 'self') as 'self' | 'family' | 'friend',\r\n  email: data.Email || data.email ? String(data.Email || data.email) : undefined,\r\n  phone: data.Phone || data.phone ? String(data.Phone || data.phone) : undefined,\r\n  dateOfBirth: data.DateOfBirth || data.dateOfBirth ? String(data.DateOfBirth || data.dateOfBirth) : undefined,\r\n  emergencyContact: Boolean(data.EmergencyContact || data.emergencyContact || false),\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  avatar: data.Avatar || data.avatar ? String(data.Avatar || data.avatar) : undefined,\r\n  createdAt: String(data.CreatedAt || data.createdAt || new Date().toISOString()),\r\n  updatedAt: String(data.UpdatedAt || data.updatedAt || new Date().toISOString())\r\n});\r\n\r\n// @ts-expect-error - Future use for document management features\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst transformToHealthDocument = (data: GenericSheetRowData): HealthDocument => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  title: String(data.Title || data.title || ''),\r\n  description: data.Description || data.description ? String(data.Description || data.description) : undefined,\r\n  fileName: String(data.FileName || data.fileName || ''),\r\n  fileType: String(data.FileType || data.fileType || ''),\r\n  fileSize: Number(data.FileSize || data.fileSize || 0),\r\n  category: String(data.Category || data.category || 'other') as HealthDocument['category'],\r\n  uploadDate: String(data.UploadDate || data.uploadDate || new Date().toISOString()),\r\n  driveFileId: data.DriveFileID || data.driveFileId ? String(data.DriveFileID || data.driveFileId) : undefined,\r\n  driveUrl: data.DriveURL || data.driveUrl ? String(data.DriveURL || data.driveUrl) : undefined,\r\n  tags: data.Tags || data.tags ? String(data.Tags || data.tags).split(',').map(tag => tag.trim()).filter(Boolean) : undefined,\r\n  isConfidential: Boolean(data.IsConfidential || data.isConfidential || false)\r\n});\r\n\r\n// @ts-expect-error - Future use for configuration features  \r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nconst transformToHealthConfig = (data: GenericSheetRowData): HealthConfig => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  driveSettings: {\r\n    folderId: String(data.DriveFolderID || data.driveFolderId || ''),\r\n    autoUpload: Boolean(data.DriveAutoUpload || data.driveAutoUpload || false),\r\n    maxFileSize: Number(data.DriveMaxFileSize || data.driveMaxFileSize || 10),\r\n    allowedFileTypes: data.DriveAllowedFileTypes || data.driveAllowedFileTypes \r\n      ? String(data.DriveAllowedFileTypes || data.driveAllowedFileTypes).split(',').map(type => type.trim()).filter(Boolean)\r\n      : ['application/pdf', 'image/jpeg', 'image/png']\r\n  },\r\n  spreadsheetSettings: {\r\n    spreadsheetId: String(data.SpreadsheetID || data.spreadsheetId || ''),\r\n    autoSync: Boolean(data.SpreadsheetAutoSync || data.spreadsheetAutoSync || true),\r\n    syncInterval: Number(data.SpreadsheetSyncInterval || data.spreadsheetSyncInterval || 15)\r\n  },\r\n  notificationSettings: {\r\n    emailReminders: Boolean(data.NotificationEmailReminders || data.notificationEmailReminders || false),\r\n    reminderFrequency: String(data.NotificationReminderFrequency || data.notificationReminderFrequency || 'weekly') as 'daily' | 'weekly' | 'monthly',\r\n    healthGoalAlerts: Boolean(data.NotificationHealthGoalAlerts || data.notificationHealthGoalAlerts || true)\r\n  },\r\n  createdAt: String(data.CreatedAt || data.createdAt || new Date().toISOString()),\r\n  updatedAt: String(data.UpdatedAt || data.updatedAt || new Date().toISOString())\r\n});\r\n\r\nconst transformToNutritionEntry = (data: GenericSheetRowData): NutritionEntry => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  date: String(data.Date || data.date || ''),\r\n  meal: String(data.Meal || data.meal || '') as 'breakfast' | 'lunch' | 'dinner' | 'snack',\r\n  food: String(data.Food || data.food || ''),\r\n  calories: Number(data.Calories || data.calories || 0),\r\n  protein: Number(data.Protein || data.protein || 0),\r\n  carbs: Number(data.Carbs || data.carbs || 0),\r\n  fat: Number(data.Fat || data.fat || 0),\r\n  fiber: Number(data.Fiber || data.fiber || 0),\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  timestamp: String(data.Timestamp || data.timestamp || new Date().toISOString())\r\n});\r\n\r\nconst transformToMealPlan = (data: GenericSheetRowData): MealPlan => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  date: String(data.Date || data.date || ''),\r\n  meal: String(data.Meal || data.meal || '') as 'breakfast' | 'lunch' | 'dinner' | 'snack',\r\n  recipeName: String(data.RecipeName || data.recipeName || ''),\r\n  ingredients: String(data.Ingredients || data.ingredients || ''),\r\n  instructions: String(data.Instructions || data.instructions || ''),\r\n  prepTime: Number(data.PrepTime || data.prepTime || 0),\r\n  cookTime: Number(data.CookTime || data.cookTime || 0),\r\n  servings: Number(data.Servings || data.servings || 0),\r\n  calories: Number(data.Calories || data.calories || 0),\r\n  protein: Number(data.Protein || data.protein || 0),\r\n  carbs: Number(data.Carbs || data.carbs || 0),\r\n  fat: Number(data.Fat || data.fat || 0),\r\n  tags: data.Tags ? String(data.Tags).split(',').map(tag => tag.trim()) : [],\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  timestamp: String(data.Timestamp || data.timestamp || new Date().toISOString())\r\n});\r\n\r\nconst transformToHealthEntry = (data: GenericSheetRowData): HealthEntry => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  date: String(data.Date || data.date || ''),\r\n  type: String(data.Type || data.type || '') as 'weight' | 'body_fat' | 'muscle_mass' | 'blood_pressure' | 'heart_rate' | 'temperature' | 'sleep_hours' | 'water_intake' | 'steps' | 'custom',\r\n  value: Number(data.Value || data.value || 0),\r\n  unit: String(data.Unit || data.unit || ''),\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  timestamp: String(data.Timestamp || data.timestamp || new Date().toISOString())\r\n});\r\n\r\nconst transformToMeditationEntry = (data: GenericSheetRowData): MeditationEntry => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  date: String(data.Date || data.date || ''),\r\n  type: String(data.Type || data.type || '') as 'mindfulness' | 'breathing' | 'body-scan' | 'loving-kindness' | 'walking' | 'visualization' | 'mantra' | 'custom',\r\n  duration: Number(data.Duration || data.duration || 0),\r\n  moodBefore: Number(data.MoodBefore || data.moodBefore || 0),\r\n  moodAfter: Number(data.MoodAfter || data.moodAfter || 0),\r\n  stressBefore: Number(data.StressBefore || data.stressBefore || 0),\r\n  stressAfter: Number(data.StressAfter || data.stressAfter || 0),\r\n  guided: Boolean(data.Guided || data.guided || false),\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  timestamp: String(data.Timestamp || data.timestamp || new Date().toISOString())\r\n});\r\n\r\n// Used for vital signs features\r\nconst transformToVitalSigns = (data: GenericSheetRowData): VitalSigns => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  date: String(data.Date || data.date || ''),\r\n  time: String(data.Time || data.time || ''),\r\n  bloodPressureSystolic: data.BloodPressureSystolic || data.bloodPressureSystolic ? Number(data.BloodPressureSystolic || data.bloodPressureSystolic) : undefined,\r\n  bloodPressureDiastolic: data.BloodPressureDiastolic || data.bloodPressureDiastolic ? Number(data.BloodPressureDiastolic || data.bloodPressureDiastolic) : undefined,\r\n  heartRate: data.HeartRate || data.heartRate ? Number(data.HeartRate || data.heartRate) : undefined,\r\n  temperature: data.Temperature || data.temperature ? Number(data.Temperature || data.temperature) : undefined,\r\n  respiratoryRate: data.RespiratoryRate || data.respiratoryRate ? Number(data.RespiratoryRate || data.respiratoryRate) : undefined,\r\n  oxygenSaturation: data.OxygenSaturation || data.oxygenSaturation ? Number(data.OxygenSaturation || data.oxygenSaturation) : undefined,\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  timestamp: String(data.Timestamp || data.timestamp || new Date().toISOString())\r\n});\r\n\r\n// Used for body measurement features\r\nconst transformToBodyMeasurement = (data: GenericSheetRowData): BodyMeasurement => ({\r\n  id: String(data.ID || data.id || ''),\r\n  personId: String(data.PersonID || data.personId || ''),\r\n  date: String(data.Date || data.date || ''),\r\n  time: String(data.Time || data.time || ''),\r\n  weight: data.Weight || data.weight ? Number(data.Weight || data.weight) : undefined,\r\n  height: data.Height || data.height ? Number(data.Height || data.height) : undefined,\r\n  bodyFat: data.BodyFat || data.bodyFat ? Number(data.BodyFat || data.bodyFat) : undefined,\r\n  muscleMass: data.MuscleMass || data.muscleMass ? Number(data.MuscleMass || data.muscleMass) : undefined,\r\n  bmi: data.BMI || data.bmi ? Number(data.BMI || data.bmi) : undefined,\r\n  waist: data.Waist || data.waist ? Number(data.Waist || data.waist) : undefined,\r\n  chest: data.Chest || data.chest ? Number(data.Chest || data.chest) : undefined,\r\n  hips: data.Hips || data.hips ? Number(data.Hips || data.hips) : undefined,\r\n  neck: data.Neck || data.neck ? Number(data.Neck || data.neck) : undefined,\r\n  notes: data.Notes || data.notes ? String(data.Notes || data.notes) : undefined,\r\n  timestamp: String(data.Timestamp || data.timestamp || new Date().toISOString())\r\n});\r\n\r\n// Note: Person, HealthDocument, and HealthConfig transforms will be used when implementing\r\n// multi-person support, document management, and configuration features\r\n\r\ninterface HealthState {\r\n  // Data\r\n  nutritionEntries: NutritionEntry[];\r\n  mealPlans: MealPlan[];\r\n  healthEntries: HealthEntry[];\r\n  meditationEntries: MeditationEntry[];\r\n  vitalSigns: VitalSigns[];\r\n  bodyMeasurements: BodyMeasurement[];\r\n  \r\n  // Multi-person support\r\n  people: Person[];\r\n  healthDocuments: HealthDocument[];\r\n  healthConfigs: HealthConfig[];\r\n  currentPersonId: string;\r\n  \r\n  // Goals and settings\r\n  nutritionGoals: NutritionGoals;\r\n  \r\n  // UI state and caching\r\n  isLoading: boolean;\r\n  error: string | null;\r\n  lastSyncTime: number | null;\r\n  isInitialized: boolean;\r\n  dataCache: {\r\n    lastFetch: number | null;\r\n    isValid: boolean;\r\n  };\r\n    // Offline queue\r\n  pendingActions: Array<{\r\n    id: string;\r\n    type: 'create' | 'update' | 'delete';\r\n    category: 'nutrition' | 'meal' | 'health' | 'meditation' | 'vitals' | 'measurements';\r\n    data: unknown;\r\n    timestamp: number;\r\n  }>;\r\n    // Actions\r\n  setNutritionGoals: (goals: NutritionGoals) => void;\r\n  setCurrentPersonId: (personId: string) => void;\r\n  \r\n  // Person management actions\r\n  addPerson: (person: Omit<Person, 'id' | 'createdAt' | 'updatedAt'>) => Promise<boolean>;\r\n  updatePerson: (id: string, person: Partial<Person>) => Promise<boolean>;\r\n  deletePerson: (id: string) => Promise<boolean>;\r\n  \r\n  // Document management actions\r\n  uploadDocument: (document: Omit<HealthDocument, 'id' | 'uploadDate' | 'driveFileId' | 'driveUrl'>, file: File) => Promise<boolean>;\r\n  deleteDocument: (id: string) => Promise<boolean>;\r\n  getPersonDocuments: (personId?: string) => HealthDocument[];\r\n  refreshDocuments: () => Promise<void>;\r\n  downloadDocument: (documentId: string) => Promise<void>;\r\n  \r\n  // Configuration management actions\r\n  saveHealthConfig: (config: Omit<HealthConfig, 'id' | 'createdAt' | 'updatedAt'>) => Promise<boolean>;\r\n  updateHealthConfig: (id: string, config: Partial<HealthConfig>) => Promise<boolean>;\r\n  getPersonConfig: (personId?: string) => HealthConfig | undefined;\r\n  \r\n  // Nutrition actions\r\n  addNutritionEntry: (entry: Omit<NutritionEntry, 'id' | 'timestamp'>) => Promise<boolean>;\r\n  updateNutritionEntryAction: (id: string, entry: Partial<NutritionEntry>) => Promise<boolean>;\r\n  deleteNutritionEntryAction: (id: string) => Promise<boolean>;\r\n  \r\n  // Meal planning actions\r\n  addMealPlan: (plan: Omit<MealPlan, 'id' | 'timestamp'>) => Promise<boolean>;\r\n  updateMealPlanAction: (id: string, plan: Partial<MealPlan>) => Promise<boolean>;\r\n  deleteMealPlanAction: (id: string) => Promise<boolean>;\r\n  \r\n  // Health tracking actions\r\n  addHealthEntry: (entry: Omit<HealthEntry, 'id' | 'timestamp'>) => Promise<boolean>;\r\n  updateHealthEntryAction: (id: string, entry: Partial<HealthEntry>) => Promise<boolean>;\r\n  deleteHealthEntryAction: (id: string) => Promise<boolean>;\r\n    // Meditation actions\r\n  addMeditationEntry: (entry: Omit<MeditationEntry, 'id' | 'timestamp'>) => Promise<boolean>;\r\n  updateMeditationEntryAction: (id: string, entry: Partial<MeditationEntry>) => Promise<boolean>;\r\n  deleteMeditationEntryAction: (id: string) => Promise<boolean>;\r\n  \r\n  // Vital signs actions\r\n  addVitalSigns: (entry: Omit<VitalSigns, 'id' | 'timestamp'>) => Promise<boolean>;\r\n  updateVitalSignsAction: (id: string, entry: Partial<VitalSigns>) => Promise<boolean>;\r\n  deleteVitalSignsAction: (id: string) => Promise<boolean>;\r\n  \r\n  // Body measurements actions\r\n  addBodyMeasurement: (entry: Omit<BodyMeasurement, 'id' | 'timestamp'>) => Promise<boolean>;\r\n  updateBodyMeasurementAction: (id: string, entry: Partial<BodyMeasurement>) => Promise<boolean>;\r\n  deleteBodyMeasurementAction: (id: string) => Promise<boolean>;\r\n    // Data fetching\r\n  fetchAllHealthData: () => Promise<void>;\r\n  forceRefreshData: () => Promise<void>;\r\n  invalidateCache: () => void;\r\n  syncPendingActions: () => Promise<void>;\r\n  \r\n  // Computed data getters\r\n  getDailyNutrition: (date: string) => ReturnType<typeof calculateDailyNutrition>;\r\n  getNutritionProgress: (date: string) => ReturnType<typeof calculateNutritionProgress>;\r\n  getHealthTrend: (type: string, days?: number) => number;\r\n  getMeditationStats: (days?: number) => ReturnType<typeof calculateMeditationStats>;\r\n  getWeeklyHealthSummary: (weekStart?: Date) => HealthSummary[];\r\n  \r\n  // Utility actions\r\n  clearError: () => void;\r\n  setError: (error: string) => void;\r\n}\r\n\r\nexport const useHealthStore = create<HealthState>()(\r\n  persist(\r\n    (set, get) => ({      // Initial state\r\n      nutritionEntries: [],\r\n      mealPlans: [],\r\n      healthEntries: [],\r\n      meditationEntries: [],\r\n      vitalSigns: [],\r\n      bodyMeasurements: [],\r\n      people: [],\r\n      healthDocuments: [],\r\n      healthConfigs: [],\r\n      currentPersonId: 'self', // Default to self\r\n      nutritionGoals: {\r\n        personId: 'self',\r\n        dailyCalories: 2000,\r\n        protein: 150,\r\n        carbs: 250,\r\n        fat: 65,\r\n        fiber: 25,\r\n        water: 8\r\n      },\r\n      isLoading: false,\r\n      error: null,\r\n      lastSyncTime: null,\r\n      isInitialized: false,\r\n      dataCache: {\r\n        lastFetch: null,\r\n        isValid: false,\r\n      },\r\n      pendingActions: [],      // Actions\r\n      setNutritionGoals: (goals) => set({ nutritionGoals: goals }),\r\n      setCurrentPersonId: (personId) => {\r\n        set({ currentPersonId: personId });\r\n        // Update nutrition goals for the new person if they have custom goals\r\n        const { people, nutritionGoals } = get();\r\n        const newPerson = people.find(p => p.id === personId);\r\n        if (newPerson && nutritionGoals.personId !== personId) {\r\n          // Set default goals for the new person if not already set\r\n          set({ \r\n            nutritionGoals: {\r\n              ...nutritionGoals,\r\n              personId: personId\r\n            }\r\n          });\r\n        }\r\n      },      // Person management actions\r\n      addPerson: async (personData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newPerson: Person = {\r\n            ...personData,\r\n            id: `person-${Date.now()}`,\r\n            createdAt: new Date().toISOString(),\r\n            updatedAt: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns for family_members sheet\r\n          const rowData = {\r\n            ID: newPerson.id,\r\n            Name: newPerson.name,\r\n            Relationship: newPerson.relationship,\r\n            Email: newPerson.email || '',\r\n            Phone: newPerson.phone || '',\r\n            DateOfBirth: newPerson.dateOfBirth || '',\r\n            EmergencyContact: newPerson.emergencyContact || false,\r\n            Notes: newPerson.notes || '',\r\n            Avatar: newPerson.avatar || '',\r\n            CreatedAt: newPerson.createdAt,\r\n            UpdatedAt: newPerson.updatedAt\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('family_members', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              people: [...state.people, newPerson],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save person', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      updatePerson: async (id, personData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const people = get().people;\r\n          const personIndex = people.findIndex(p => p.id === id);\r\n          \r\n          if (personIndex === -1) {\r\n            set({ error: 'Person not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingPerson = people[personIndex];\r\n          const updatedPerson = { \r\n            ...existingPerson, \r\n            ...personData, \r\n            updatedAt: new Date().toISOString() \r\n          };\r\n\r\n          // Map data to spreadsheet columns for family_members sheet\r\n          const rowData = {\r\n            ID: updatedPerson.id,\r\n            Name: updatedPerson.name,\r\n            Relationship: updatedPerson.relationship,\r\n            Email: updatedPerson.email || '',\r\n            Phone: updatedPerson.phone || '',\r\n            DateOfBirth: updatedPerson.dateOfBirth || '',\r\n            EmergencyContact: updatedPerson.emergencyContact || false,\r\n            Notes: updatedPerson.notes || '',\r\n            Avatar: updatedPerson.avatar || '',\r\n            CreatedAt: updatedPerson.createdAt,\r\n            UpdatedAt: updatedPerson.updatedAt\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('family_members', personIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              people: state.people.map(person =>\r\n                person.id === id ? updatedPerson : person\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update person', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deletePerson: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const people = get().people;\r\n          const personIndex = people.findIndex(p => p.id === id);\r\n          \r\n          if (personIndex === -1) {\r\n            set({ error: 'Person not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('family_members', personIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              people: state.people.filter(person => person.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete person', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      // Document management actions\r\n      uploadDocument: async (documentData, file) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          // First, get the folder ID for the current person\r\n          const { currentPersonId, healthConfigs, people } = get();\r\n          let folderId = googleDriveService.getHealthFolderId(); // Default folder\r\n          \r\n          // Check if there's a specific folder configuration for this person\r\n          const personConfig = healthConfigs.find(config => config.personId === currentPersonId);\r\n          if (personConfig && personConfig.driveSettings.folderId) {\r\n            folderId = personConfig.driveSettings.folderId;\r\n            googleDriveService.setHealthFolderId(folderId);\r\n          } else {\r\n            // Check if this is for a family member and create a folder\r\n            const person = people.find(p => p.id === currentPersonId);\r\n            if (person && person.relationship !== 'self') {\r\n              folderId = await googleDriveService.createFamilyMemberFolder(person.name);\r\n            }\r\n          }\r\n          \r\n          // Upload the file to Google Drive\r\n          const uploadResult = await googleDriveService.uploadHealthDocument(\r\n            file,\r\n            documentData.fileName,\r\n            currentPersonId !== 'self',\r\n            people.find(p => p.id === currentPersonId)?.name,\r\n            documentData.description\r\n          );\r\n          \r\n          const newDocument: HealthDocument = {\r\n            ...documentData,\r\n            id: `doc-${Date.now()}`,\r\n            uploadDate: new Date().toISOString(),\r\n            driveFileId: uploadResult.fileId,\r\n            driveUrl: uploadResult.fileUrl,\r\n            fileSize: uploadResult.size\r\n          };\r\n          \r\n          // Save document metadata to spreadsheet\r\n          const rowData = {\r\n            ID: newDocument.id,\r\n            PersonID: newDocument.personId,\r\n            Title: newDocument.title,\r\n            Description: newDocument.description || '',\r\n            FileName: newDocument.fileName,\r\n            FileType: newDocument.fileType,\r\n            FileSize: newDocument.fileSize,\r\n            Category: newDocument.category,\r\n            UploadDate: newDocument.uploadDate,\r\n            DriveFileID: newDocument.driveFileId || '',\r\n            DriveURL: newDocument.driveUrl || '',\r\n            Tags: newDocument.tags ? newDocument.tags.join(',') : '',\r\n            IsConfidential: newDocument.isConfidential\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('health_documents', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthDocuments: [...state.healthDocuments, newDocument],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            // If spreadsheet save fails, still keep the document locally\r\n            set(state => ({\r\n              healthDocuments: [...state.healthDocuments, newDocument],\r\n              error: 'Document uploaded but metadata save failed. Document is still accessible.',\r\n              isLoading: false\r\n            }));\r\n            return true;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteDocument: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const documents = get().healthDocuments;\r\n          const docIndex = documents.findIndex(d => d.id === id);\r\n          \r\n          if (docIndex === -1) {\r\n            set({ error: 'Document not found', isLoading: false });\r\n            return false;\r\n          }\r\n          \r\n          const document = documents[docIndex];\r\n          \r\n          // Delete from Google Drive if it has a drive ID\r\n          if (document.driveFileId) {\r\n            try {\r\n              await googleDriveService.deleteHealthDocument(document.driveFileId);\r\n            } catch (driveError) {\r\n              console.error('Error deleting from Drive:', driveError);\r\n              // Continue with spreadsheet deletion even if Drive deletion fails\r\n            }\r\n          }\r\n          \r\n          // Delete from spreadsheet\r\n          const result = await deleteSpreadsheetRow('health_documents', docIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthDocuments: state.healthDocuments.filter(doc => doc.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete document', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      // Configuration management actions\r\n      saveHealthConfig: async (configData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newConfig: HealthConfig = {\r\n            ...configData,\r\n            id: `config-${Date.now()}`,\r\n            createdAt: new Date().toISOString(),\r\n            updatedAt: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns for health_configs sheet\r\n          const rowData = {\r\n            ID: newConfig.id,\r\n            PersonID: newConfig.personId,\r\n            DriveFolderID: newConfig.driveSettings.folderId,\r\n            DriveAutoUpload: newConfig.driveSettings.autoUpload,\r\n            DriveMaxFileSize: newConfig.driveSettings.maxFileSize,\r\n            DriveAllowedFileTypes: newConfig.driveSettings.allowedFileTypes.join(','),\r\n            SpreadsheetID: newConfig.spreadsheetSettings.spreadsheetId,\r\n            SpreadsheetAutoSync: newConfig.spreadsheetSettings.autoSync,\r\n            SpreadsheetSyncInterval: newConfig.spreadsheetSettings.syncInterval,\r\n            NotificationEmailReminders: newConfig.notificationSettings.emailReminders,\r\n            NotificationReminderFrequency: newConfig.notificationSettings.reminderFrequency,\r\n            NotificationHealthGoalAlerts: newConfig.notificationSettings.healthGoalAlerts,\r\n            CreatedAt: newConfig.createdAt,\r\n            UpdatedAt: newConfig.updatedAt\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('health_configs', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthConfigs: [...state.healthConfigs, newConfig],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save health configuration', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      updateHealthConfig: async (id, configData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const configs = get().healthConfigs;\r\n          const configIndex = configs.findIndex(c => c.id === id);\r\n          \r\n          if (configIndex === -1) {\r\n            set({ error: 'Configuration not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingConfig = configs[configIndex];\r\n          const updatedConfig = { \r\n            ...existingConfig, \r\n            ...configData,\r\n            driveSettings: {\r\n              ...existingConfig.driveSettings,\r\n              ...(configData.driveSettings || {})\r\n            },\r\n            spreadsheetSettings: {\r\n              ...existingConfig.spreadsheetSettings,\r\n              ...(configData.spreadsheetSettings || {})\r\n            },\r\n            notificationSettings: {\r\n              ...existingConfig.notificationSettings,\r\n              ...(configData.notificationSettings || {})\r\n            },\r\n            updatedAt: new Date().toISOString() \r\n          };\r\n\r\n          // Map data to spreadsheet columns for health_configs sheet\r\n          const rowData = {\r\n            ID: updatedConfig.id,\r\n            PersonID: updatedConfig.personId,\r\n            DriveFolderID: updatedConfig.driveSettings.folderId,\r\n            DriveAutoUpload: updatedConfig.driveSettings.autoUpload,\r\n            DriveMaxFileSize: updatedConfig.driveSettings.maxFileSize,\r\n            DriveAllowedFileTypes: updatedConfig.driveSettings.allowedFileTypes.join(','),\r\n            SpreadsheetID: updatedConfig.spreadsheetSettings.spreadsheetId,\r\n            SpreadsheetAutoSync: updatedConfig.spreadsheetSettings.autoSync,\r\n            SpreadsheetSyncInterval: updatedConfig.spreadsheetSettings.syncInterval,\r\n            NotificationEmailReminders: updatedConfig.notificationSettings.emailReminders,\r\n            NotificationReminderFrequency: updatedConfig.notificationSettings.reminderFrequency,\r\n            NotificationHealthGoalAlerts: updatedConfig.notificationSettings.healthGoalAlerts,\r\n            CreatedAt: updatedConfig.createdAt,\r\n            UpdatedAt: updatedConfig.updatedAt\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('health_configs', configIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthConfigs: state.healthConfigs.map(config =>\r\n                config.id === id ? updatedConfig : config\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update health configuration', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      // Nutrition actions\r\n      addNutritionEntry: async (entryData) => {\r\n        const validationErrors = validateNutritionEntry(entryData);\r\n        if (validationErrors.length > 0) {\r\n          set({ error: validationErrors.join(', ') });\r\n          return false;\r\n        }\r\n\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newEntry: NutritionEntry = {\r\n            ...entryData,\r\n            id: `nutrition-${Date.now()}`,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('Nutrition_Log', {\r\n            ID: newEntry.id,\r\n            PersonID: newEntry.personId,\r\n            Date: newEntry.date,\r\n            Meal: newEntry.meal,\r\n            Food: newEntry.food,\r\n            Calories: newEntry.calories,\r\n            Protein: newEntry.protein,\r\n            Carbs: newEntry.carbs,\r\n            Fat: newEntry.fat,\r\n            Fiber: newEntry.fiber,\r\n            Notes: newEntry.notes || '',\r\n            Timestamp: newEntry.timestamp\r\n          });\r\n\r\n          if (result.success) {\r\n            set(state => ({\r\n              nutritionEntries: [...state.nutritionEntries, newEntry],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            // Add to pending actions for offline support\r\n            const pendingAction = {\r\n              id: `pending-${Date.now()}`,\r\n              type: 'create' as const,\r\n              category: 'nutrition' as const,\r\n              data: entryData,\r\n              timestamp: Date.now()\r\n            };\r\n            \r\n            set(state => ({\r\n              pendingActions: [...state.pendingActions, pendingAction],\r\n              error: result.error || 'Failed to save nutrition entry. Will retry when online.',\r\n              isLoading: false\r\n            }));\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      updateNutritionEntryAction: async (id, entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          // Find the entry index\r\n          const entries = get().nutritionEntries;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingEntry = entries[entryIndex];\r\n          const updatedEntry = { ...existingEntry, ...entryData, timestamp: new Date().toISOString() };\r\n\r\n          // Use row index (1-based) for Google Sheets\r\n          const result = await updateSpreadsheetRow('Nutrition_Log', entryIndex + 2, {\r\n            ID: updatedEntry.id,\r\n            PersonID: updatedEntry.personId,\r\n            Date: updatedEntry.date,\r\n            Meal: updatedEntry.meal,\r\n            Food: updatedEntry.food,\r\n            Calories: updatedEntry.calories,\r\n            Protein: updatedEntry.protein,\r\n            Carbs: updatedEntry.carbs,\r\n            Fat: updatedEntry.fat,\r\n            Fiber: updatedEntry.fiber,\r\n            Notes: updatedEntry.notes || '',\r\n            Timestamp: updatedEntry.timestamp\r\n          });\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              nutritionEntries: state.nutritionEntries.map(entry =>\r\n                entry.id === id ? updatedEntry : entry\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update nutrition entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteNutritionEntryAction: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().nutritionEntries;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('Nutrition_Log', entryIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              nutritionEntries: state.nutritionEntries.filter(entry => entry.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete nutrition entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      // Meal plan actions using generic spreadsheet API\r\n      addMealPlan: async (planData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newPlan: MealPlan = {\r\n            ...planData,\r\n            id: `meal-${Date.now()}`,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: newPlan.id,\r\n            PersonID: newPlan.personId,\r\n            Date: newPlan.date,\r\n            Meal: newPlan.meal,\r\n            RecipeName: newPlan.recipeName,\r\n            Ingredients: newPlan.ingredients,\r\n            Instructions: newPlan.instructions,\r\n            PrepTime: newPlan.prepTime,\r\n            CookTime: newPlan.cookTime,\r\n            Servings: newPlan.servings,\r\n            Calories: newPlan.calories,\r\n            Protein: newPlan.protein,\r\n            Carbs: newPlan.carbs,\r\n            Fat: newPlan.fat,\r\n            Tags: newPlan.tags ? newPlan.tags.join(',') : '',\r\n            Notes: newPlan.notes || '',\r\n            Timestamp: newPlan.timestamp\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('Meal_Plans', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              mealPlans: [...state.mealPlans, newPlan],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save meal plan', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      updateMealPlanAction: async (id, planData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const plans = get().mealPlans;\r\n          const planIndex = plans.findIndex(p => p.id === id);\r\n          \r\n          if (planIndex === -1) {\r\n            set({ error: 'Meal plan not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingPlan = plans[planIndex];\r\n          const updatedPlan = { ...existingPlan, ...planData, timestamp: new Date().toISOString() };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: updatedPlan.id,\r\n            PersonID: updatedPlan.personId,\r\n            Date: updatedPlan.date,\r\n            Meal: updatedPlan.meal,\r\n            RecipeName: updatedPlan.recipeName,\r\n            Ingredients: updatedPlan.ingredients,\r\n            Instructions: updatedPlan.instructions,\r\n            PrepTime: updatedPlan.prepTime,\r\n            CookTime: updatedPlan.cookTime,\r\n            Servings: updatedPlan.servings,\r\n            Calories: updatedPlan.calories,\r\n            Protein: updatedPlan.protein,\r\n            Carbs: updatedPlan.carbs,\r\n            Fat: updatedPlan.fat,\r\n            Tags: updatedPlan.tags ? updatedPlan.tags.join(',') : '',\r\n            Notes: updatedPlan.notes || '',\r\n            Timestamp: updatedPlan.timestamp\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('Meal_Plans', planIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              mealPlans: state.mealPlans.map(plan =>\r\n                plan.id === id ? updatedPlan : plan\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update meal plan', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteMealPlanAction: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const plans = get().mealPlans;\r\n          const planIndex = plans.findIndex(p => p.id === id);\r\n          \r\n          if (planIndex === -1) {\r\n            set({ error: 'Meal plan not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('Meal_Plans', planIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              mealPlans: state.mealPlans.filter(plan => plan.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete meal plan', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      addHealthEntry: async (entryData) => {\r\n        const validationErrors = validateHealthEntry(entryData);\r\n        if (validationErrors.length > 0) {\r\n          set({ error: validationErrors.join(', ') });\r\n          return false;\r\n        }\r\n\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newEntry: HealthEntry = {\r\n            ...entryData,\r\n            id: `health-${Date.now()}`,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: newEntry.id,\r\n            PersonID: newEntry.personId,\r\n            Date: newEntry.date,\r\n            Type: newEntry.type,\r\n            Value: newEntry.value,\r\n            Unit: newEntry.unit,\r\n            Notes: newEntry.notes || '',\r\n            Timestamp: newEntry.timestamp\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('Health_Tracking', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthEntries: [...state.healthEntries, newEntry],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save health entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      updateHealthEntryAction: async (id, entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().healthEntries;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Health entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingEntry = entries[entryIndex];\r\n          const updatedEntry = { ...existingEntry, ...entryData, timestamp: new Date().toISOString() };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: updatedEntry.id,\r\n            PersonID: updatedEntry.personId,\r\n            Date: updatedEntry.date,\r\n            Type: updatedEntry.type,\r\n            Value: updatedEntry.value,\r\n            Unit: updatedEntry.unit,\r\n            Notes: updatedEntry.notes || '',\r\n            Timestamp: updatedEntry.timestamp\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('Health_Tracking', entryIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthEntries: state.healthEntries.map(entry =>\r\n                entry.id === id ? updatedEntry : entry\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update health entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteHealthEntryAction: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().healthEntries;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Health entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('Health_Tracking', entryIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              healthEntries: state.healthEntries.filter(entry => entry.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete health entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },      addMeditationEntry: async (entryData) => {\r\n        const validationErrors = validateMeditationEntry(entryData);\r\n        if (validationErrors.length > 0) {\r\n          set({ error: validationErrors.join(', ') });\r\n          return false;\r\n        }\r\n\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newEntry: MeditationEntry = {\r\n            ...entryData,\r\n            id: `meditation-${Date.now()}`,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: newEntry.id,\r\n            PersonID: newEntry.personId,\r\n            Date: newEntry.date,\r\n            Type: newEntry.type,\r\n            Duration: newEntry.duration,\r\n            MoodBefore: newEntry.moodBefore,\r\n            MoodAfter: newEntry.moodAfter,\r\n            StressBefore: newEntry.stressBefore,\r\n            StressAfter: newEntry.stressAfter,\r\n            Guided: newEntry.guided,\r\n            Notes: newEntry.notes || '',\r\n            Timestamp: newEntry.timestamp\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('Meditation_Log', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              meditationEntries: [...state.meditationEntries, newEntry],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save meditation entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      updateMeditationEntryAction: async (id, entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().meditationEntries;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Meditation entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingEntry = entries[entryIndex];\r\n          const updatedEntry = { ...existingEntry, ...entryData, timestamp: new Date().toISOString() };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: updatedEntry.id,\r\n            PersonID: updatedEntry.personId,\r\n            Date: updatedEntry.date,\r\n            Type: updatedEntry.type,\r\n            Duration: updatedEntry.duration,\r\n            MoodBefore: updatedEntry.moodBefore,\r\n            MoodAfter: updatedEntry.moodAfter,\r\n            StressBefore: updatedEntry.stressBefore,\r\n            StressAfter: updatedEntry.stressAfter,\r\n            Guided: updatedEntry.guided,\r\n            Notes: updatedEntry.notes || '',\r\n            Timestamp: updatedEntry.timestamp\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('Meditation_Log', entryIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              meditationEntries: state.meditationEntries.map(entry =>\r\n                entry.id === id ? updatedEntry : entry\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update meditation entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteMeditationEntryAction: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().meditationEntries;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Meditation entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('Meditation_Log', entryIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              meditationEntries: state.meditationEntries.filter(entry => entry.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete meditation entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }      },\r\n\r\n      // Vital Signs actions\r\n      addVitalSigns: async (entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newEntry: VitalSigns = {\r\n            ...entryData,\r\n            id: `vitals-${Date.now()}`,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: newEntry.id,\r\n            PersonID: newEntry.personId,\r\n            Date: newEntry.date,\r\n            Time: newEntry.time,\r\n            BloodPressureSystolic: newEntry.bloodPressureSystolic || '',\r\n            BloodPressureDiastolic: newEntry.bloodPressureDiastolic || '',\r\n            HeartRate: newEntry.heartRate || '',\r\n            Temperature: newEntry.temperature || '',\r\n            RespiratoryRate: newEntry.respiratoryRate || '',\r\n            OxygenSaturation: newEntry.oxygenSaturation || '',\r\n            Notes: newEntry.notes || '',\r\n            Timestamp: newEntry.timestamp\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('Vital_Signs', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              vitalSigns: [...state.vitalSigns, newEntry],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save vital signs entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      updateVitalSignsAction: async (id, entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().vitalSigns;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Vital signs entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingEntry = entries[entryIndex];\r\n          const updatedEntry = { ...existingEntry, ...entryData, timestamp: new Date().toISOString() };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: updatedEntry.id,\r\n            PersonID: updatedEntry.personId,\r\n            Date: updatedEntry.date,\r\n            Time: updatedEntry.time,\r\n            BloodPressureSystolic: updatedEntry.bloodPressureSystolic || '',\r\n            BloodPressureDiastolic: updatedEntry.bloodPressureDiastolic || '',\r\n            HeartRate: updatedEntry.heartRate || '',\r\n            Temperature: updatedEntry.temperature || '',\r\n            RespiratoryRate: updatedEntry.respiratoryRate || '',\r\n            OxygenSaturation: updatedEntry.oxygenSaturation || '',\r\n            Notes: updatedEntry.notes || '',\r\n            Timestamp: updatedEntry.timestamp\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('Vital_Signs', entryIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              vitalSigns: state.vitalSigns.map(entry =>\r\n                entry.id === id ? updatedEntry : entry\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update vital signs entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteVitalSignsAction: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().vitalSigns;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Vital signs entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('Vital_Signs', entryIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              vitalSigns: state.vitalSigns.filter(entry => entry.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete vital signs entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      // Body Measurements actions\r\n      addBodyMeasurement: async (entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const newEntry: BodyMeasurement = {\r\n            ...entryData,\r\n            id: `measurement-${Date.now()}`,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: newEntry.id,\r\n            PersonID: newEntry.personId,\r\n            Date: newEntry.date,\r\n            Time: newEntry.time,\r\n            Weight: newEntry.weight || '',\r\n            Height: newEntry.height || '',\r\n            BodyFat: newEntry.bodyFat || '',\r\n            MuscleMass: newEntry.muscleMass || '',\r\n            BMI: newEntry.bmi || '',\r\n            Waist: newEntry.waist || '',\r\n            Chest: newEntry.chest || '',\r\n            Hips: newEntry.hips || '',\r\n            Neck: newEntry.neck || '',\r\n            Notes: newEntry.notes || '',\r\n            Timestamp: newEntry.timestamp\r\n          };\r\n\r\n          const result = await createSpreadsheetRow('Body_Measurements', rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              bodyMeasurements: [...state.bodyMeasurements, newEntry],\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to save body measurement entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      updateBodyMeasurementAction: async (id, entryData) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().bodyMeasurements;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Body measurement entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const existingEntry = entries[entryIndex];\r\n          const updatedEntry = { ...existingEntry, ...entryData, timestamp: new Date().toISOString() };\r\n\r\n          // Map data to spreadsheet columns\r\n          const rowData = {\r\n            ID: updatedEntry.id,\r\n            PersonID: updatedEntry.personId,\r\n            Date: updatedEntry.date,\r\n            Time: updatedEntry.time,\r\n            Weight: updatedEntry.weight || '',\r\n            Height: updatedEntry.height || '',\r\n            BodyFat: updatedEntry.bodyFat || '',\r\n            MuscleMass: updatedEntry.muscleMass || '',\r\n            BMI: updatedEntry.bmi || '',\r\n            Waist: updatedEntry.waist || '',\r\n            Chest: updatedEntry.chest || '',\r\n            Hips: updatedEntry.hips || '',\r\n            Neck: updatedEntry.neck || '',\r\n            Notes: updatedEntry.notes || '',\r\n            Timestamp: updatedEntry.timestamp\r\n          };\r\n\r\n          const result = await updateSpreadsheetRow('Body_Measurements', entryIndex + 2, rowData);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              bodyMeasurements: state.bodyMeasurements.map(entry =>\r\n                entry.id === id ? updatedEntry : entry\r\n              ),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to update body measurement entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      deleteBodyMeasurementAction: async (id) => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const entries = get().bodyMeasurements;\r\n          const entryIndex = entries.findIndex(e => e.id === id);\r\n          \r\n          if (entryIndex === -1) {\r\n            set({ error: 'Body measurement entry not found', isLoading: false });\r\n            return false;\r\n          }\r\n\r\n          const result = await deleteSpreadsheetRow('Body_Measurements', entryIndex + 2);\r\n          \r\n          if (result.success) {\r\n            set(state => ({\r\n              bodyMeasurements: state.bodyMeasurements.filter(entry => entry.id !== id),\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            }));\r\n            return true;\r\n          } else {\r\n            set({ error: result.error || 'Failed to delete body measurement entry', isLoading: false });\r\n            return false;\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n          return false;\r\n        }\r\n      },\r\n\r\n      // Data fetching with caching\r\n      fetchAllHealthData: async () => {\r\n        const { dataCache, isLoading, isInitialized } = get();\r\n        \r\n        // Prevent multiple simultaneous fetches\r\n        if (isLoading) return;\r\n        \r\n        // Check cache validity (5 minutes)\r\n        const CACHE_DURATION = 5 * 60 * 1000; // 5 minutes\r\n        const now = Date.now();\r\n        \r\n        if (dataCache.isValid && \r\n            dataCache.lastFetch && \r\n            (now - dataCache.lastFetch < CACHE_DURATION) &&\r\n            isInitialized) {\r\n          return; // Data is still fresh\r\n        }\r\n\r\n        set({ isLoading: true, error: null });        try {\r\n          const [nutritionResult, mealResult, healthResult, meditationResult, peopleResult, vitalSignsResult, bodyMeasurementsResult, documentsResult, configsResult] = await Promise.allSettled([\r\n            readSpreadsheetData('Nutrition_Log'),\r\n            readSpreadsheetData('Meal_Plans'),\r\n            readSpreadsheetData('Health_Tracking'),\r\n            readSpreadsheetData('Meditation_Log'),\r\n            readSpreadsheetData('family_members'),\r\n            readSpreadsheetData('Vital_Signs'),\r\n            readSpreadsheetData('Body_Measurements'),\r\n            readSpreadsheetData('health_documents'),\r\n            readSpreadsheetData('health_configs')\r\n          ]);\r\n\r\n          const updates: Partial<HealthState> = { \r\n            isLoading: false, \r\n            lastSyncTime: now,\r\n            isInitialized: true,\r\n            dataCache: {\r\n              lastFetch: now,\r\n              isValid: true\r\n            }\r\n          };\r\n\r\n          if (nutritionResult.status === 'fulfilled' && nutritionResult.value.success && nutritionResult.value.data) {\r\n            updates.nutritionEntries = nutritionResult.value.data.map(transformToNutritionEntry);\r\n          }\r\n          if (mealResult.status === 'fulfilled' && mealResult.value.success && mealResult.value.data) {\r\n            updates.mealPlans = mealResult.value.data.map(transformToMealPlan);\r\n          }\r\n          if (healthResult.status === 'fulfilled' && healthResult.value.success && healthResult.value.data) {\r\n            updates.healthEntries = healthResult.value.data.map(transformToHealthEntry);\r\n          }\r\n          if (meditationResult.status === 'fulfilled' && meditationResult.value.success && meditationResult.value.data) {\r\n            updates.meditationEntries = meditationResult.value.data.map(transformToMeditationEntry);\r\n          }          if (peopleResult.status === 'fulfilled' && peopleResult.value.success && peopleResult.value.data) {\r\n            updates.people = peopleResult.value.data.map(transformToPerson);\r\n          }\r\n          if (vitalSignsResult.status === 'fulfilled' && vitalSignsResult.value.success && vitalSignsResult.value.data) {\r\n            updates.vitalSigns = vitalSignsResult.value.data.map(transformToVitalSigns);\r\n          }\r\n          if (bodyMeasurementsResult.status === 'fulfilled' && bodyMeasurementsResult.value.success && bodyMeasurementsResult.value.data) {\r\n            updates.bodyMeasurements = bodyMeasurementsResult.value.data.map(transformToBodyMeasurement);\r\n          }          if (documentsResult.status === 'fulfilled' && documentsResult.value.success && documentsResult.value.data) {\r\n            updates.healthDocuments = documentsResult.value.data.map(transformToHealthDocument);\r\n          }\r\n          if (configsResult.status === 'fulfilled' && configsResult.value.success && configsResult.value.data) {\r\n            updates.healthConfigs = configsResult.value.data.map(transformToHealthConfig);\r\n          }          // Check for any failures\r\n          const failures = [nutritionResult, mealResult, healthResult, meditationResult, peopleResult, vitalSignsResult, bodyMeasurementsResult, documentsResult, configsResult]\r\n            .filter(result => result.status === 'rejected');\r\n            \r\n          if (failures.length > 0) {\r\n            updates.error = `Failed to fetch some health data: ${failures.length} failed requests`;\r\n            updates.dataCache = { lastFetch: now, isValid: false };\r\n          }          set(updates);\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ \r\n            error: errorMessage, \r\n            isLoading: false,\r\n            dataCache: { lastFetch: now, isValid: false }\r\n          });\r\n        }\r\n      },      // Force refresh ignoring cache\r\n      forceRefreshData: async () => {\r\n        set({\r\n          dataCache: { lastFetch: null, isValid: false }\r\n        });\r\n        await get().fetchAllHealthData();\r\n      },\r\n\r\n      // Invalidate cache to force next fetch\r\n      invalidateCache: () => {\r\n        set({\r\n          dataCache: { lastFetch: null, isValid: false }\r\n        });\r\n      },syncPendingActions: async () => {\r\n        const { pendingActions } = get();\r\n        if (pendingActions.length === 0) return;\r\n\r\n        set({ isLoading: true });\r\n        \r\n        const completedActions: string[] = [];\r\n        \r\n        for (const action of pendingActions) {\r\n          try {\r\n            let success = false;\r\n            \r\n            switch (action.category) {\r\n              case 'nutrition':\r\n                if (action.type === 'create') {\r\n                  success = await get().addNutritionEntry(action.data as Omit<NutritionEntry, 'id' | 'timestamp'>);\r\n                }\r\n                break;\r\n              case 'meal':\r\n                if (action.type === 'create') {\r\n                  success = await get().addMealPlan(action.data as Omit<MealPlan, 'id' | 'timestamp'>);\r\n                }\r\n                break;\r\n              case 'health':\r\n                if (action.type === 'create') {\r\n                  success = await get().addHealthEntry(action.data as Omit<HealthEntry, 'id' | 'timestamp'>);\r\n                }\r\n                break;              case 'meditation':\r\n                if (action.type === 'create') {\r\n                  success = await get().addMeditationEntry(action.data as Omit<MeditationEntry, 'id' | 'timestamp'>);\r\n                }\r\n                break;\r\n              case 'vitals':\r\n                if (action.type === 'create') {\r\n                  success = await get().addVitalSigns(action.data as Omit<VitalSigns, 'id' | 'timestamp'>);\r\n                }\r\n                break;\r\n              case 'measurements':\r\n                if (action.type === 'create') {\r\n                  success = await get().addBodyMeasurement(action.data as Omit<BodyMeasurement, 'id' | 'timestamp'>);\r\n                }\r\n                break;\r\n            }\r\n            \r\n            if (success) {\r\n              completedActions.push(action.id);\r\n            }\r\n          } catch (error) {\r\n            console.error('Failed to sync pending action:', action, error);\r\n          }\r\n        }\r\n        \r\n        // Remove completed actions\r\n        set(state => ({\r\n          pendingActions: state.pendingActions.filter(action => !completedActions.includes(action.id)),\r\n          isLoading: false\r\n        }));\r\n        \r\n        // Refresh data after sync\r\n        if (completedActions.length > 0) {\r\n          get().fetchAllHealthData();\r\n        }\r\n      },\r\n\r\n      // Computed data getters\r\n      getDailyNutrition: (date) => {\r\n        const { nutritionEntries } = get();\r\n        return calculateDailyNutrition(nutritionEntries, date);\r\n      },\r\n\r\n      getNutritionProgress: (date) => {\r\n        const { nutritionGoals } = get();\r\n        const dailyNutrition = get().getDailyNutrition(date);\r\n        return calculateNutritionProgress(dailyNutrition, nutritionGoals);\r\n      },\r\n\r\n      getHealthTrend: (type, days = 7) => {\r\n        const { healthEntries } = get();\r\n        return calculateHealthTrend(healthEntries, type, days);\r\n      },\r\n\r\n      getMeditationStats: (days = 7) => {\r\n        const { meditationEntries } = get();\r\n        return calculateMeditationStats(meditationEntries, days);\r\n      },\r\n\r\n      getWeeklyHealthSummary: (weekStart) => {\r\n        const { nutritionEntries, healthEntries, meditationEntries } = get();\r\n        const weekDates = getWeekDates(weekStart);\r\n        return generateWeeklyHealthSummary(nutritionEntries, healthEntries, meditationEntries, weekDates);\r\n      },\r\n\r\n      // Utility actions\r\n      clearError: () => set({ error: null }),\r\n      setError: (error) => set({ error }),\r\n      \r\n      // Document getter methods\r\n      getPersonDocuments: (personId) => {\r\n        const { healthDocuments, currentPersonId } = get();\r\n        const targetPersonId = personId || currentPersonId;\r\n        return healthDocuments.filter(doc => doc.personId === targetPersonId);\r\n      },\r\n      \r\n      refreshDocuments: async () => {\r\n        set({ isLoading: true, error: null });\r\n        \r\n        try {\r\n          const result = await readSpreadsheetData('health_documents');\r\n          \r\n          if (result.success && result.data) {\r\n            const documents = result.data.map(transformToHealthDocument);\r\n            set({\r\n              healthDocuments: documents,\r\n              isLoading: false,\r\n              lastSyncTime: Date.now()\r\n            });\r\n          } else {\r\n            set({ \r\n              error: result.error || 'Failed to fetch documents', \r\n              isLoading: false \r\n            });\r\n          }\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: errorMessage, isLoading: false });\r\n        }\r\n      },\r\n      \r\n      downloadDocument: async (documentId) => {\r\n        const { healthDocuments } = get();\r\n        const document = healthDocuments.find(doc => doc.id === documentId);\r\n        \r\n        if (!document || !document.driveFileId) {\r\n          set({ error: 'Document not found or no file ID available' });\r\n          return;\r\n        }\r\n        \r\n        try {\r\n          await googleDriveService.downloadHealthDocument(document.driveFileId, document.fileName);\r\n        } catch (error) {\r\n          const errorMessage = handleHealthApiError(error);\r\n          set({ error: `Failed to download document: ${errorMessage}` });\r\n        }\r\n      },\r\n      \r\n      // Configuration getter methods\r\n      getPersonConfig: (personId) => {\r\n        const { healthConfigs, currentPersonId } = get();\r\n        const targetPersonId = personId || currentPersonId;\r\n        return healthConfigs.find(config => config.personId === targetPersonId);\r\n      }\r\n    }),    {\r\n      name: 'health-store',      partialize: (state) => ({\r\n        nutritionEntries: state.nutritionEntries,\r\n        mealPlans: state.mealPlans,\r\n        healthEntries: state.healthEntries,\r\n        meditationEntries: state.meditationEntries,\r\n        vitalSigns: state.vitalSigns,\r\n        bodyMeasurements: state.bodyMeasurements,\r\n        people: state.people,\r\n        nutritionGoals: state.nutritionGoals,\r\n        currentPersonId: state.currentPersonId,\r\n        pendingActions: state.pendingActions,\r\n        lastSyncTime: state.lastSyncTime,\r\n        isInitialized: state.isInitialized\r\n      })\r\n    }\r\n  )\r\n);\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Progress } from '@/components/ui/progress';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Button } from '@/components/ui/button';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { useNavigation } from '@/hooks/useConsolidatedApp';\r\nimport { formatDate } from '@/utils/healthUtils';\r\nimport { \r\n  Heart, \r\n  Apple, \r\n  Brain, \r\n  TrendingUp, \r\n  TrendingDown, \r\n  Minus,\r\n  Weight,\r\n  Activity\r\n} from 'lucide-react';\r\n\r\nexport const HealthDashboardWidget: React.FC = () => {\r\n  const { setCurrentView } = useNavigation();  const {\r\n    nutritionGoals,\r\n    getDailyNutrition,\r\n    getNutritionProgress,\r\n    getHealthTrend,\r\n    getMeditationStats,\r\n    fetchAllHealthData,\r\n    isLoading,\r\n    error,\r\n    clearError\r\n  } = useHealthStore();const today = formatDate(new Date());  const hasInitialized = useRef(false);\r\n  const lastFetchTime = useRef(0);\r\n  \r\n  // Use a more controlled approach to prevent infinite calls\r\n  useEffect(() => {\r\n    const now = Date.now();\r\n    const fiveMinutesAgo = now - 5 * 60 * 1000;\r\n    const shouldFetch = !hasInitialized.current || \r\n                       (lastFetchTime.current < fiveMinutesAgo);\r\n    \r\n    if (shouldFetch) {\r\n      hasInitialized.current = true;\r\n      lastFetchTime.current = now;\r\n      fetchAllHealthData();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []); // Empty dependency array to prevent loops\r\n\r\n  // Get today's nutrition data\r\n  const todayNutrition = getDailyNutrition(today);\r\n  const nutritionProgress = getNutritionProgress(today);\r\n\r\n  // Get health trends\r\n  const weightTrend = getHealthTrend('weight');\r\n  const heartRateTrend = getHealthTrend('heart_rate');\r\n\r\n  // Get meditation stats\r\n  const meditationStats = getMeditationStats(7);\r\n  const getTrendIcon = (trend: number) => {\r\n    if (trend > 2) return <TrendingUp className=\"h-4 w-4 text-green-500\" />;\r\n    if (trend < -2) return <TrendingDown className=\"h-4 w-4 text-red-500\" />;\r\n    return <Minus className=\"h-4 w-4 text-gray-500\" />;\r\n  };\r\n\r\n  if (error) {\r\n    return (\r\n      <Card>\r\n        <CardHeader className=\"flex flex-row items-center justify-between\">\r\n          <CardTitle className=\"text-lg font-semibold flex items-center gap-2\">\r\n            <Heart className=\"h-5 w-5 text-red-500\" />\r\n            Health Overview\r\n          </CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"text-center py-4\">\r\n            <p className=\"text-red-500 mb-2\">{error}</p>\r\n            <Button onClick={() => { clearError(); fetchAllHealthData(); }} size=\"sm\">\r\n              Retry\r\n            </Button>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader className=\"flex flex-row items-center justify-between\">\r\n        <CardTitle className=\"text-lg font-semibold flex items-center gap-2\">\r\n          <Heart className=\"h-5 w-5 text-red-500\" />\r\n          Health Overview\r\n        </CardTitle>\r\n        {isLoading && (\r\n          <div className=\"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent\" />\r\n        )}\r\n      </CardHeader>\r\n      <CardContent className=\"space-y-4\">\r\n        {/* Quick Stats */}\r\n        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n          <div className=\"text-center p-2 bg-blue-50 rounded-lg\">\r\n            <Apple className=\"h-5 w-5 mx-auto mb-1 text-blue-600\" />\r\n            <div className=\"text-lg font-semibold text-blue-700\">\r\n              {todayNutrition.calories}\r\n            </div>\r\n            <div className=\"text-xs text-blue-600\">Calories</div>\r\n          </div>\r\n          \r\n          <div className=\"text-center p-2 bg-green-50 rounded-lg\">\r\n            <Weight className=\"h-5 w-5 mx-auto mb-1 text-green-600\" />\r\n            <div className=\"text-lg font-semibold text-green-700 flex items-center justify-center gap-1\">\r\n              {Math.abs(weightTrend).toFixed(1)}%\r\n              {getTrendIcon(weightTrend)}\r\n            </div>\r\n            <div className=\"text-xs text-green-600\">Weight</div>\r\n          </div>\r\n          \r\n          <div className=\"text-center p-2 bg-purple-50 rounded-lg\">\r\n            <Brain className=\"h-5 w-5 mx-auto mb-1 text-purple-600\" />\r\n            <div className=\"text-lg font-semibold text-purple-700\">\r\n              {meditationStats.totalSessions}\r\n            </div>\r\n            <div className=\"text-xs text-purple-600\">Sessions</div>\r\n          </div>\r\n          \r\n          <div className=\"text-center p-2 bg-orange-50 rounded-lg\">\r\n            <Activity className=\"h-5 w-5 mx-auto mb-1 text-orange-600\" />\r\n            <div className=\"text-lg font-semibold text-orange-700 flex items-center justify-center gap-1\">\r\n              {Math.abs(heartRateTrend).toFixed(1)}%\r\n              {getTrendIcon(heartRateTrend)}\r\n            </div>\r\n            <div className=\"text-xs text-orange-600\">Heart Rate</div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Today's Nutrition Progress */}\r\n        <div className=\"space-y-2\">\r\n          <h4 className=\"font-medium text-sm\">Today's Nutrition</h4>\r\n          \r\n          <div className=\"space-y-2\">\r\n            <div className=\"flex justify-between items-center text-sm\">\r\n              <span>Calories</span>\r\n              <span className=\"text-xs text-gray-500\">\r\n                {todayNutrition.calories} / {nutritionGoals.dailyCalories}\r\n              </span>\r\n            </div>\r\n            <Progress value={Math.min(nutritionProgress.calories, 100)} className=\"h-2\" />\r\n          </div>\r\n          \r\n          <div className=\"grid grid-cols-3 gap-2 text-xs\">\r\n            <div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Protein</span>\r\n                <span>{todayNutrition.protein}g</span>\r\n              </div>\r\n              <Progress value={Math.min(nutritionProgress.protein, 100)} className=\"h-1 mt-1\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Carbs</span>\r\n                <span>{todayNutrition.carbs}g</span>\r\n              </div>\r\n              <Progress value={Math.min(nutritionProgress.carbs, 100)} className=\"h-1 mt-1\" />\r\n            </div>\r\n            <div>\r\n              <div className=\"flex justify-between\">\r\n                <span>Fat</span>\r\n                <span>{todayNutrition.fat}g</span>\r\n              </div>\r\n              <Progress value={Math.min(nutritionProgress.fat, 100)} className=\"h-1 mt-1\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Meditation Streak */}\r\n        {meditationStats.totalSessions > 0 && (\r\n          <div className=\"flex items-center justify-between p-2 bg-indigo-50 rounded-lg\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <Brain className=\"h-4 w-4 text-indigo-600\" />\r\n              <span className=\"text-sm font-medium\">Meditation Streak</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Badge variant=\"secondary\">{meditationStats.streak} days</Badge>\r\n              <span className=\"text-xs text-gray-500\">\r\n                {meditationStats.totalMinutes}min this week\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}        {/* Quick Actions */}\r\n        <div className=\"grid grid-cols-2 gap-2 pt-2 border-t\">\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setCurrentView('nutrition')}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <Apple className=\"h-4 w-4\" />\r\n            Log Food\r\n          </Button>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => setCurrentView('health-tracking')}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <Activity className=\"h-4 w-4\" />\r\n            Log Health\r\n          </Button>\r\n        </div>\r\n        \r\n        <Button\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => setCurrentView('meditation')}\r\n          className=\"w-full flex items-center gap-2\"\r\n        >\r\n          <Brain className=\"h-4 w-4\" />\r\n          Start Meditation\r\n        </Button>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","import React, { useMemo } from 'react';\nimport { useDashboardCustomization } from '@/store/dashboardCustomizationStore';\nimport { useWorkoutTemplates, useWorkoutLogs } from '@/hooks/useConsolidatedApp';\nimport { \n  TotalWorkoutsCard,\n  WeeklyAverageCard,\n  WeightLiftedCard,\n  PersonalRecordsCard,\n  ProgressionByMuscleCard,\n  MuscleGroupVolumeCard,\n  FatigueProgressionCard,\n  NewWorkoutActionCard,\n  AnalyticsActionCard,\n  SetGoalsActionCard,\n  WorkoutLogTableCard,\n  WorkoutSummaryCard,\n  ProgressCard,\n  TodoCard\n} from './cards';\nimport { MuscleFatigueCard } from './MuscleFatigueCard';\nimport { ActiveWorkoutCard } from './ActiveWorkoutCard';\nimport { RecentWorkouts } from './RecentWorkouts';\nimport { HealthDashboardWidget } from '@/components/health/HealthDashboardWidget';\n\nexport const CustomizableDashboardGrid: React.FC = () => {\n  const { cards } = useDashboardCustomization();\n  const { activeWorkout } = useWorkoutTemplates();\n  const { workoutLogs } = useWorkoutLogs();\n\n  // Component mapping\n  const componentMap = useMemo(() => ({\n    MuscleFatigueCard: () => <MuscleFatigueCard logs={workoutLogs} />,\n    ActiveWorkoutCard: () => activeWorkout ? <ActiveWorkoutCard /> : null,\n    TotalWorkoutsCard: () => <TotalWorkoutsCard />,\n    WeeklyAverageCard: () => <WeeklyAverageCard />,\n    WeightLiftedCard: () => <WeightLiftedCard />,\n    PersonalRecordsCard: () => <PersonalRecordsCard />,\n    ProgressCard: () => <ProgressCard />,\n    HealthDashboardWidget: () => <HealthDashboardWidget />,\n    TodoCard: () => <TodoCard />,\n    NewWorkoutActionCard: () => <NewWorkoutActionCard />,\n    AnalyticsActionCard: () => <AnalyticsActionCard />,\n    SetGoalsActionCard: () => <SetGoalsActionCard />,\n    ProgressionByMuscleCard: () => <ProgressionByMuscleCard />,\n    MuscleGroupVolumeCard: () => <MuscleGroupVolumeCard />,\n    FatigueProgressionCard: () => <FatigueProgressionCard />,\n    WorkoutLogTableCard: () => <WorkoutLogTableCard />,\n    WorkoutSummaryCard: () => <WorkoutSummaryCard />\n  }), [workoutLogs, activeWorkout]);\n\n  // Filter visible cards and organize by category\n  const visibleCards = useMemo(() => {\n    return cards.filter(card => {\n      // Special case for ActiveWorkoutCard - only show if there's an active workout\n      if (card.component === 'ActiveWorkoutCard' && !activeWorkout) {\n        return false;\n      }\n      return card.isVisible;\n    });\n  }, [cards, activeWorkout]);\n\n  // Group cards by category for better layout\n  const cardsByCategory = useMemo(() => {\n    const grouped = visibleCards.reduce((acc, card) => {\n      if (!acc[card.category]) {\n        acc[card.category] = [];\n      }\n      acc[card.category].push(card);\n      return acc;\n    }, {} as Record<string, typeof cards>);\n\n    return grouped;\n  }, [visibleCards]);\n\n  const renderCard = (cardConfig: { id: string; component: string; name: string; isVisible: boolean; category: string }) => {\n    const ComponentToRender = componentMap[cardConfig.component as keyof typeof componentMap];\n    \n    if (!ComponentToRender) {\n      console.warn(`Component ${cardConfig.component} not found in componentMap`);\n      return null;\n    }\n\n    const renderedComponent = ComponentToRender();\n    \n    // Skip rendering if component returns null\n    if (!renderedComponent) {\n      return null;\n    }\n\n    return (\n      <div key={cardConfig.id} className=\"w-full\">\n        {renderedComponent}\n      </div>\n    );\n  };\n\n  const getCategoryGridClass = (category: string, cards: { id: string; component: string; name: string; isVisible: boolean; category: string }[]) => {\n    // Check if this category contains the workout summary table - if so, give it special treatment\n    const hasWorkoutSummary = cards.some(card => card.component === 'WorkoutSummaryCard');\n    const hasWorkoutLogTable = cards.some(card => card.component === 'WorkoutLogTableCard');\n    \n    // Special case: When both tables are present, display them side by side\n    if (hasWorkoutSummary && hasWorkoutLogTable) {\n      return 'grid-cols-1 lg:grid-cols-2';\n    }\n    \n    // Special case: Single table gets full width\n    if (hasWorkoutSummary || hasWorkoutLogTable) {\n      return 'grid-cols-1';\n    }\n    \n    const cardCount = cards.length;\n    \n    switch (category) {\n      case 'stat':\n        // Stats cards in a 2x2 or 4x1 grid\n        return cardCount <= 2 ? 'grid-cols-1 md:grid-cols-2' : 'grid-cols-2 md:grid-cols-4';\n      case 'action':\n        // Action cards in a row\n        return 'grid-cols-1 md:grid-cols-3';\n      case 'chart':\n        // Charts get more space\n        return 'grid-cols-1 lg:grid-cols-2';\n      case 'content':\n        // Content cards in flexible layout\n        return cardCount === 1 ? 'grid-cols-1' : 'grid-cols-1 md:grid-cols-2';\n      case 'health':\n        // Health cards get full width initially\n        return 'grid-cols-1';\n      default:\n        return 'grid-cols-1 md:grid-cols-2 lg:grid-cols-3';\n    }\n  };\n\n  if (visibleCards.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-64 text-muted-foreground\">\n        <div className=\"text-center\">\n          <p className=\"text-lg font-medium mb-2\">No visible cards</p>\n          <p className=\"text-sm\">Use the \"Manage Cards\" button above to show cards</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-4\">\n      {Object.entries(cardsByCategory).map(([category, categoryCards]) => (\n        <div key={category} className=\"space-y-3\">\n          <h3 className=\"text-sm font-medium text-muted-foreground uppercase tracking-wide\">\n            {category} ({categoryCards.length})\n          </h3>\n          \n          <div className={`grid gap-4 ${getCategoryGridClass(category, categoryCards)} ${\n            // Add equal height class when both tables are present\n            categoryCards.some(card => card.component === 'WorkoutSummaryCard') && \n            categoryCards.some(card => card.component === 'WorkoutLogTableCard')\n              ? 'grid-rows-1 min-h-[600px]'\n              : ''\n          }`}>\n            {categoryCards.map(renderCard).filter(Boolean)}\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}; ","import React from 'react';\r\nimport { DashboardCustomizationToolbar } from './DashboardCustomizationToolbar';\r\nimport { CustomizableDashboardGrid } from './CustomizableDashboardGrid';\r\nimport { AddWorkoutButton } from './cards';\r\nimport { StaggerContainer, StaggerItem, SlideUp } from '@/components/ui/animations';\r\n\r\nexport const DashboardMainContent: React.FC = () => {\r\n  return (\r\n    <StaggerContainer className=\"flex flex-col gap-2 sm:gap-4 md:gap-6 px-2 sm:px-0\">\r\n      {/* Dashboard Header */}\r\n      <StaggerItem>\r\n        <SlideUp>\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2 sm:gap-3 p-2 sm:p-3 md:p-4\">\r\n            <h1 className=\"text-xl sm:text-2xl font-semibold text-foreground\">Dashboard</h1>\r\n            <AddWorkoutButton />\r\n          </div>\r\n        </SlideUp>\r\n      </StaggerItem>\r\n\r\n      {/* Dashboard Customization Toolbar */}\r\n      <StaggerItem>\r\n        <SlideUp delay={0.05}>\r\n          <DashboardCustomizationToolbar />\r\n        </SlideUp>\r\n      </StaggerItem>\r\n\r\n      {/* Customizable Dashboard Grid */}\r\n      <StaggerItem>\r\n        <SlideUp delay={0.1}>\r\n          <div className=\"relative\">\r\n            <CustomizableDashboardGrid />\r\n          </div>\r\n        </SlideUp>\r\n      </StaggerItem>\r\n    </StaggerContainer>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { WorkoutLogTable } from './WorkoutLogTable';\r\n\r\nexport const WorkoutsContent: React.FC = () => {\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-3xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">Workouts</h2>\r\n      <p className=\"text-muted-foreground\">Track and manage your workout history</p>\r\n      <WorkoutLogTable />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\n\r\nexport const ScheduleContent: React.FC = () => (\r\n  <div className=\"space-y-6\">\r\n    <h2 className=\"text-3xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">Schedule</h2>\r\n    <p className=\"text-muted-foreground\">Plan your upcoming workout sessions</p>\r\n    <Card>\r\n      <CardContent className=\"p-6\">\r\n        <p>Schedule feature coming soon...</p>\r\n      </CardContent>\r\n    </Card>\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { WorkoutCharts } from '@/components/charts';\r\nimport { useWorkoutLogs } from '@/hooks/useConsolidatedApp';\r\n\r\nexport const StatsContent: React.FC = () => {\r\n  const { workoutLogs } = useWorkoutLogs();\r\n  \r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-3xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">Statistics</h2>\r\n      <p className=\"text-muted-foreground\">View detailed analytics of your progress</p>\r\n      <WorkoutCharts workoutLogs={workoutLogs} />\r\n    </div>\r\n  );\r\n};\r\n","import React from 'react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\n\r\nexport const ProfileContent: React.FC = () => (\r\n  <div className=\"space-y-6\">\r\n    <h2 className=\"text-3xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">Profile</h2>\r\n    <p className=\"text-muted-foreground\">Manage your user profile and preferences</p>\r\n    <Card>\r\n      <CardContent className=\"p-6\">\r\n        <p>Profile feature coming soon...</p>\r\n      </CardContent>\r\n    </Card>\r\n  </div>\r\n);\r\n","import React from 'react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\n\r\nexport const SettingsContent: React.FC = () => (\r\n  <div className=\"space-y-6\">\r\n    <h2 className=\"text-3xl font-bold tracking-tight mb-2 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent\">Settings</h2>\r\n    <p className=\"text-muted-foreground\">Configure your app settings</p>\r\n    <Card>\r\n      <CardContent className=\"p-6\">\r\n        <p>Settings feature content goes here...</p>\r\n      </CardContent>\r\n    </Card>\r\n  </div>\r\n);\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Plus, Utensils, TrendingUp, Calendar, Search, Edit2, Trash2 } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { NutritionEntry as StoreNutritionEntry } from '@/types/Health';\r\nimport { format } from 'date-fns';\r\nimport { PageHeader } from '@/components/ui/PageHeader';\r\n\r\n// Use store type directly\r\ntype NutritionEntry = StoreNutritionEntry;\r\n\r\ninterface DailyTotals {\r\n  calories: number;\r\n  protein: number;\r\n  carbs: number;\r\n  fat: number;\r\n  fiber: number;\r\n}\r\n\r\nconst NutritionPage: React.FC = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);  const [editingEntry, setEditingEntry] = useState<NutritionEntry | null>(null);\r\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [formData, setFormData] = useState<NutritionEntry>({\r\n    id: '',\r\n    personId: 'self',\r\n    date: selectedDate,\r\n    meal: 'breakfast',\r\n    food: '',\r\n    calories: 0,\r\n    protein: 0,\r\n    carbs: 0,\r\n    fat: 0,\r\n    fiber: 0,\r\n    notes: '',\r\n    timestamp: new Date().toISOString()\r\n  });\r\n  const dailyGoals = {\r\n    calories: 2000,\r\n    protein: 150,\r\n    carbs: 250,\r\n    fat: 65,\r\n    fiber: 25\r\n  };\r\n  // Use health store instead of direct API calls\r\n  const { \r\n    nutritionEntries, \r\n    isLoading: storeLoading, \r\n    isInitialized, \r\n    fetchAllHealthData,\r\n    addNutritionEntry,\r\n    updateNutritionEntryAction,\r\n    deleteNutritionEntryAction\r\n  } = useHealthStore();\r\n  // Filter entries for selected date using memoized computed value\r\n  const entries = useMemo(() => \r\n    nutritionEntries.filter(entry => entry.date === selectedDate),\r\n    [nutritionEntries, selectedDate]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isInitialized) {\r\n      fetchAllHealthData();\r\n    }\r\n  }, [isInitialized, fetchAllHealthData]);\r\n\r\n  // Update local loading state based on store loading\r\n  useEffect(() => {\r\n    setIsLoading(storeLoading);\r\n  }, [storeLoading]);\r\n\r\n  const calculateDailyTotals = (): DailyTotals => {\r\n    return entries.reduce(\r\n      (totals, entry) => ({\r\n        calories: totals.calories + entry.calories,\r\n        protein: totals.protein + entry.protein,\r\n        carbs: totals.carbs + entry.carbs,\r\n        fat: totals.fat + entry.fat,\r\n        fiber: totals.fiber + entry.fiber,\r\n      }),\r\n      { calories: 0, protein: 0, carbs: 0, fat: 0, fiber: 0 }\r\n    );\r\n  };\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);    try {      if (editingEntry?.id) {\r\n        await updateNutritionEntryAction(editingEntry.id, formData);\r\n        toast.success(\"Nutrition entry updated successfully!\");\r\n      } else {\r\n        await addNutritionEntry(formData);\r\n        toast.success(\"Nutrition entry added successfully!\");\r\n      }\r\n        resetForm();\r\n      // Data will be automatically updated in the store\r\n    } catch (error) {\r\n      console.error('Error saving nutrition entry:', error);\r\n      toast.error(\"Failed to save nutrition entry. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (entry: NutritionEntry) => {\r\n    setEditingEntry(entry);\r\n    setFormData(entry);\r\n    setShowAddForm(true);\r\n  };  const handleDelete = async (entry: NutritionEntry) => {\r\n    if (!confirm('Are you sure you want to delete this entry?')) return;\r\n\r\n    setIsLoading(true);\r\n    try {      if (entry.id) {\r\n        await deleteNutritionEntryAction(entry.id);\r\n        toast.success(\"Nutrition entry deleted successfully!\");\r\n        // Data will be automatically updated in the store\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting nutrition entry:', error);\r\n      toast.error(\"Failed to delete nutrition entry. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {    setFormData({\r\n      id: '',\r\n      personId: 'self',\r\n      date: selectedDate,\r\n      meal: 'breakfast',\r\n      food: '',\r\n      calories: 0,\r\n      protein: 0,\r\n      carbs: 0,\r\n      fat: 0,\r\n      fiber: 0,\r\n      notes: '',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    setEditingEntry(null);\r\n    setShowAddForm(false);  };\r\n\r\n  const searchFilteredEntries = entries.filter(entry =>\r\n    entry.food.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const dailyTotals = calculateDailyTotals();\r\n\r\n  const getMealColor = (meal: string) => {\r\n    switch (meal) {\r\n      case 'breakfast': return 'bg-orange-100 text-orange-800';\r\n      case 'lunch': return 'bg-green-100 text-green-800';\r\n      case 'dinner': return 'bg-blue-100 text-blue-800';\r\n      case 'snack': return 'bg-purple-100 text-purple-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getProgressPercentage = (current: number, goal: number) => {\r\n    return Math.min((current / goal) * 100, 100);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-2 sm:p-4 md:p-6 space-y-4 md:space-y-6 min-h-[80vh]\">\r\n      <PageHeader\r\n        icon={Utensils}\r\n        title=\"Nutrition Tracking\"\r\n        date={selectedDate}\r\n        onDateChange={setSelectedDate}\r\n        action={\r\n          <Button onClick={() => setShowAddForm(true)} aria-label=\"Add Food Entry\">\r\n            <Plus className=\"h-4 w-4\" /> Add Food Entry\r\n          </Button>\r\n        }\r\n      />\r\n\r\n      <Tabs defaultValue=\"overview\" className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-3\">\r\n          <TabsTrigger value=\"overview\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"entries\">Food Entries</TabsTrigger>\r\n          <TabsTrigger value=\"analytics\">Analytics</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"overview\" className=\"space-y-6\">\r\n          {/* Daily Totals */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <TrendingUp className=\"h-5 w-5\" />\r\n                Daily Nutrition Summary\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-5 gap-4\">\r\n                {Object.entries(dailyTotals).map(([key, value]) => {\r\n                  const goal = dailyGoals[key as keyof DailyTotals];\r\n                  const percentage = getProgressPercentage(value, goal);\r\n                  \r\n                  return (\r\n                    <div key={key} className=\"space-y-2\">\r\n                      <div className=\"flex justify-between text-sm\">\r\n                        <span className=\"capitalize font-medium\">{key}</span>\r\n                        <span className=\"text-gray-600\">\r\n                          {Math.round(value)}/{goal}{key === 'calories' ? '' : 'g'}\r\n                        </span>\r\n                      </div>\r\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\r\n                        <div\r\n                          className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\r\n                          style={{ width: `${percentage}%` }}\r\n                        />\r\n                      </div>\r\n                      <div className=\"text-xs text-gray-500\">\r\n                        {Math.round(percentage)}% of goal\r\n                      </div>\r\n                    </div>\r\n                  );\r\n                })}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Recent Entries */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Today's Food Entries</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {searchFilteredEntries.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <Utensils className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                  <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No food entries</h3>\r\n                  <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Start tracking your nutrition by adding your first food entry.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {searchFilteredEntries.map((entry, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <Badge className={getMealColor(entry.meal)}>\r\n                            {entry.meal.charAt(0).toUpperCase() + entry.meal.slice(1)}\r\n                          </Badge>\r\n                          <h3 className=\"font-medium\">{entry.food}</h3>\r\n                        </div>\r\n                        <div className=\"mt-2 text-sm text-gray-600 grid grid-cols-2 md:grid-cols-5 gap-2\">\r\n                          <span>{entry.calories} cal</span>\r\n                          <span>{entry.protein}g protein</span>\r\n                          <span>{entry.carbs}g carbs</span>\r\n                          <span>{entry.fat}g fat</span>\r\n                          <span>{entry.fiber}g fiber</span>\r\n                        </div>\r\n                        {entry.notes && (\r\n                          <p className=\"mt-1 text-sm text-gray-500\">{entry.notes}</p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleEdit(entry)}\r\n                        >\r\n                          <Edit2 className=\"h-4 w-4\" />\r\n                        </Button>                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleDelete(entry)}\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"entries\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>All Food Entries</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {/* Food entries list would go here */}\r\n              <div className=\"text-center py-8\">\r\n                <Calendar className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Food Entries</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  View and manage all your food entries across different dates.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"analytics\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Nutrition Analytics</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {/* Analytics charts would go here */}\r\n              <div className=\"text-center py-8\">\r\n                <TrendingUp className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nutrition Analytics</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  Track your nutrition trends and patterns over time.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Add/Edit Form Modal */}\r\n      {showAddForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <Card className=\"w-full max-w-md max-h-[90vh] overflow-y-auto\">\r\n            <CardHeader>\r\n              <CardTitle>\r\n                {editingEntry ? 'Edit Food Entry' : 'Add Food Entry'}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div>\r\n                  <Label htmlFor=\"meal\">Meal</Label>                  <Select \r\n                    value={formData.meal} \r\n                    onValueChange={(value: 'breakfast' | 'lunch' | 'dinner' | 'snack') => setFormData({ ...formData, meal: value })}\r\n                  >\r\n                    <SelectTrigger>\r\n                      <SelectValue placeholder=\"Select meal\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"breakfast\">Breakfast</SelectItem>\r\n                      <SelectItem value=\"lunch\">Lunch</SelectItem>\r\n                      <SelectItem value=\"dinner\">Dinner</SelectItem>\r\n                      <SelectItem value=\"snack\">Snack</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"food\">Food</Label>\r\n                  <Input\r\n                    id=\"food\"\r\n                    value={formData.food}\r\n                    onChange={(e) => setFormData({ ...formData, food: e.target.value })}\r\n                    placeholder=\"e.g., Grilled Chicken Breast\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"calories\">Calories</Label>\r\n                    <Input\r\n                      id=\"calories\"\r\n                      type=\"number\"\r\n                      value={formData.calories}\r\n                      onChange={(e) => setFormData({ ...formData, calories: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"protein\">Protein (g)</Label>\r\n                    <Input\r\n                      id=\"protein\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.protein}\r\n                      onChange={(e) => setFormData({ ...formData, protein: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"carbs\">Carbs (g)</Label>\r\n                    <Input\r\n                      id=\"carbs\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.carbs}\r\n                      onChange={(e) => setFormData({ ...formData, carbs: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"fat\">Fat (g)</Label>\r\n                    <Input\r\n                      id=\"fat\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.fat}\r\n                      onChange={(e) => setFormData({ ...formData, fat: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"fiber\">Fiber (g)</Label>\r\n                    <Input\r\n                      id=\"fiber\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.fiber}\r\n                      onChange={(e) => setFormData({ ...formData, fiber: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"notes\">Notes (optional)</Label>\r\n                  <Textarea\r\n                    id=\"notes\"\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                    placeholder=\"Any additional notes about this food...\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-4\">\r\n                  <Button type=\"submit\" disabled={isLoading} className=\"flex-1\">\r\n                    {isLoading ? 'Saving...' : editingEntry ? 'Update Entry' : 'Add Entry'}\r\n                  </Button>\r\n                  <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NutritionPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Plus, ChefHat, Clock, Users, BookOpen, Edit2, Trash2, Copy } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { createMealPlan, getMealPlans, updateMealPlan, deleteMealPlan } from '@/lib/spreadsheetAPI';\r\nimport { format, addDays, startOfWeek } from 'date-fns';\r\n\r\ninterface MealPlan {\r\n  id?: string;\r\n  rowIndex?: number;\r\n  date: string;\r\n  meal: 'breakfast' | 'lunch' | 'dinner' | 'snack';\r\n  recipeName: string;\r\n  ingredients: string;\r\n  instructions: string;\r\n  prepTime: number;\r\n  cookTime: number;\r\n  servings: number;\r\n  calories: number;\r\n  protein: number;\r\n  carbs: number;\r\n  fat: number;\r\n  tags: string[];\r\n  notes?: string;\r\n}\r\n\r\ninterface MealTemplate {\r\n  id: string;\r\n  name: string;\r\n  ingredients: string;\r\n  instructions: string;\r\n  prepTime: number;\r\n  cookTime: number;\r\n  servings: number;\r\n  calories: number;\r\n  protein: number;\r\n  carbs: number;\r\n  fat: number;\r\n  tags: string[];\r\n  category: 'breakfast' | 'lunch' | 'dinner' | 'snack';\r\n}\r\n\r\nconst MealPlanningPage: React.FC = () => {  const [mealPlans, setMealPlans] = useState<MealPlan[]>([]);\r\n  const [templates, setTemplates] = useState<MealTemplate[]>([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);  const [editingPlan, setEditingPlan] = useState<MealPlan | null>(null);\r\n  const [selectedWeek, setSelectedWeek] = useState(startOfWeek(new Date()));\r\n  const [activeTab, setActiveTab] = useState('planner');\r\n\r\n  const [formData, setFormData] = useState<MealPlan>({\r\n    date: format(new Date(), 'yyyy-MM-dd'),\r\n    meal: 'breakfast',\r\n    recipeName: '',\r\n    ingredients: '',\r\n    instructions: '',\r\n    prepTime: 0,\r\n    cookTime: 0,\r\n    servings: 1,\r\n    calories: 0,\r\n    protein: 0,\r\n    carbs: 0,\r\n    fat: 0,\r\n    tags: [],\r\n    notes: ''\r\n  });\r\n  const weekDays = Array.from({ length: 7 }, (_, i) => addDays(selectedWeek, i));\r\n  const mealTypes = ['breakfast', 'lunch', 'dinner', 'snack'] as const;  useEffect(() => {    const loadData = async () => {\r\n      setIsLoading(true);\r\n      try {\r\n        const data = await getMealPlans();\r\n        const weekStart = format(selectedWeek, 'yyyy-MM-dd');\r\n        const weekEnd = format(addDays(selectedWeek, 6), 'yyyy-MM-dd');\r\n        \r\n        const filteredPlans = data\r\n          .map((plan: Record<string, unknown>, index: number) => ({ ...plan, rowIndex: index + 2 }))\r\n          .filter((plan: Record<string, unknown>) => \r\n            (plan.date as string) >= weekStart && (plan.date as string) <= weekEnd\r\n          ) as MealPlan[];\r\n        setMealPlans(filteredPlans);      } catch (error) {\r\n        console.error('Error loading meal plans:', error);\r\n        toast.error(\"Failed to load meal plans. Please try again.\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n      loadData();\r\n    loadTemplates();\r\n  }, [selectedWeek]);const loadMealPlans = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      const data = await getMealPlans();\r\n      const weekStart = format(selectedWeek, 'yyyy-MM-dd');\r\n      const weekEnd = format(addDays(selectedWeek, 6), 'yyyy-MM-dd');\r\n        const filteredPlans = data\r\n        .map((plan: Record<string, unknown>, index: number) => ({ ...plan, rowIndex: index + 2 }))\r\n        .filter((plan: Record<string, unknown>) => \r\n          (plan.date as string) >= weekStart && (plan.date as string) <= weekEnd        ) as MealPlan[];\r\n      setMealPlans(filteredPlans);\r\n    } catch (error) {\r\n      console.error('Error loading meal plans:', error);\r\n      toast.error(\"Failed to load meal plans. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadTemplates = async () => {\r\n    try {\r\n      // In a real implementation, this would load from a templates API\r\n      // For now, we'll use some sample templates\r\n      const sampleTemplates: MealTemplate[] = [\r\n        {\r\n          id: '1',\r\n          name: 'Overnight Oats',\r\n          ingredients: '1 cup rolled oats, 1 cup milk, 1 tbsp chia seeds, 1 tbsp honey, 1/2 cup berries',\r\n          instructions: 'Mix all ingredients in a jar. Refrigerate overnight. Enjoy cold in the morning.',\r\n          prepTime: 5,\r\n          cookTime: 0,\r\n          servings: 1,\r\n          calories: 350,\r\n          protein: 15,\r\n          carbs: 55,\r\n          fat: 8,\r\n          tags: ['healthy', 'quick', 'meal-prep'],\r\n          category: 'breakfast'\r\n        },\r\n        {\r\n          id: '2',\r\n          name: 'Grilled Chicken Salad',\r\n          ingredients: '6oz chicken breast, 2 cups mixed greens, 1/4 cup cherry tomatoes, 1/4 avocado, 2 tbsp olive oil vinaigrette',\r\n          instructions: 'Grill chicken breast. Assemble salad with greens, tomatoes, and avocado. Top with sliced chicken and dressing.',\r\n          prepTime: 10,\r\n          cookTime: 15,\r\n          servings: 1,\r\n          calories: 450,\r\n          protein: 40,\r\n          carbs: 12,\r\n          fat: 25,\r\n          tags: ['healthy', 'high-protein', 'gluten-free'],\r\n          category: 'lunch'\r\n        }\r\n      ];\r\n      setTemplates(sampleTemplates);\r\n    } catch (error) {\r\n      console.error('Error loading templates:', error);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);    try {\r\n      if (editingPlan?.rowIndex) {\r\n        await updateMealPlan(editingPlan.rowIndex, formData);\r\n        toast.success(\"Meal plan updated successfully!\");\r\n      } else {\r\n        await createMealPlan(formData);\r\n        toast.success(\"Meal plan added successfully!\");\r\n      }\r\n      \r\n      resetForm();\r\n      loadMealPlans();\r\n    } catch (error) {\r\n      console.error('Error saving meal plan:', error);\r\n      toast.error(\"Failed to save meal plan. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (plan: MealPlan) => {\r\n    setEditingPlan(plan);\r\n    setFormData(plan);\r\n    setShowAddForm(true);\r\n  };\r\n  const handleDelete = async (rowIndex: number) => {\r\n    if (!confirm('Are you sure you want to delete this meal plan?')) return;\r\n\r\n    setIsLoading(true);    try {\r\n      await deleteMealPlan(rowIndex);\r\n      toast.success(\"Meal plan deleted successfully!\");\r\n      loadMealPlans();\r\n    } catch (error) {\r\n      console.error('Error deleting meal plan:', error);\r\n      toast.error(\"Failed to delete meal plan. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleUseTemplate = (template: MealTemplate) => {\r\n    setFormData({\r\n      date: format(new Date(), 'yyyy-MM-dd'),\r\n      meal: template.category,\r\n      recipeName: template.name,\r\n      ingredients: template.ingredients,\r\n      instructions: template.instructions,\r\n      prepTime: template.prepTime,\r\n      cookTime: template.cookTime,\r\n      servings: template.servings,\r\n      calories: template.calories,\r\n      protein: template.protein,\r\n      carbs: template.carbs,\r\n      fat: template.fat,\r\n      tags: template.tags,\r\n      notes: ''\r\n    });\r\n    setShowAddForm(true);\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      date: format(new Date(), 'yyyy-MM-dd'),\r\n      meal: 'breakfast',\r\n      recipeName: '',\r\n      ingredients: '',\r\n      instructions: '',\r\n      prepTime: 0,\r\n      cookTime: 0,\r\n      servings: 1,\r\n      calories: 0,\r\n      protein: 0,\r\n      carbs: 0,\r\n      fat: 0,\r\n      tags: [],\r\n      notes: ''\r\n    });\r\n    setEditingPlan(null);\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  const getMealForDateAndType = (date: Date, mealType: string) => {\r\n    const dateStr = format(date, 'yyyy-MM-dd');\r\n    return mealPlans.find(plan => plan.date === dateStr && plan.meal === mealType);\r\n  };\r\n\r\n  const getMealTypeColor = (meal: string) => {\r\n    switch (meal) {\r\n      case 'breakfast': return 'bg-orange-100 text-orange-800 border-orange-200';\r\n      case 'lunch': return 'bg-green-100 text-green-800 border-green-200';\r\n      case 'dinner': return 'bg-blue-100 text-blue-800 border-blue-200';\r\n      case 'snack': return 'bg-purple-100 text-purple-800 border-purple-200';\r\n      default: return 'bg-gray-100 text-gray-800 border-gray-200';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-primary\">Meal Planning</h1>\r\n          <p className=\"text-gray-600\">Plan your meals and track your recipes</p>\r\n        </div>        <div className=\"flex gap-2\">          <Button\r\n            variant=\"outline\"\r\n            onClick={() => toast.info(\"Template feature coming soon!\")}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <BookOpen className=\"h-4 w-4\" />\r\n            Templates\r\n          </Button>\r\n          <Button\r\n            onClick={() => setShowAddForm(true)}\r\n            className=\"flex items-center gap-2\"\r\n          >\r\n            <Plus className=\"h-4 w-4\" />\r\n            Add Meal\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-3\">\r\n          <TabsTrigger value=\"planner\">Weekly Planner</TabsTrigger>\r\n          <TabsTrigger value=\"templates\">Recipe Templates</TabsTrigger>\r\n          <TabsTrigger value=\"shopping\">Shopping List</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"planner\" className=\"space-y-6\">\r\n          {/* Week Navigation */}\r\n          <div className=\"flex items-center justify-between\">\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setSelectedWeek(addDays(selectedWeek, -7))}\r\n            >\r\n              Previous Week\r\n            </Button>\r\n            <h2 className=\"text-xl font-semibold\">\r\n              Week of {format(selectedWeek, 'MMM d')} - {format(addDays(selectedWeek, 6), 'MMM d, yyyy')}\r\n            </h2>\r\n            <Button\r\n              variant=\"outline\"\r\n              onClick={() => setSelectedWeek(addDays(selectedWeek, 7))}\r\n            >\r\n              Next Week\r\n            </Button>\r\n          </div>\r\n\r\n          {/* Weekly Meal Grid */}\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-7 gap-4\">\r\n            {weekDays.map((day) => (\r\n              <Card key={format(day, 'yyyy-MM-dd')} className=\"min-h-[400px]\">\r\n                <CardHeader className=\"pb-2\">\r\n                  <CardTitle className=\"text-center text-sm\">\r\n                    {format(day, 'EEE')}\r\n                    <br />\r\n                    <span className=\"text-lg\">{format(day, 'd')}</span>\r\n                  </CardTitle>\r\n                </CardHeader>\r\n                <CardContent className=\"space-y-2\">\r\n                  {mealTypes.map((mealType) => {\r\n                    const meal = getMealForDateAndType(day, mealType);\r\n                    return (\r\n                      <div key={mealType} className=\"space-y-1\">\r\n                        <div className=\"text-xs font-medium text-gray-600 uppercase tracking-wide\">\r\n                          {mealType}\r\n                        </div>\r\n                        {meal ? (\r\n                          <div className={`p-2 rounded-lg border ${getMealTypeColor(mealType)}`}>\r\n                            <div className=\"font-medium text-xs truncate\">{meal.recipeName}</div>\r\n                            <div className=\"text-xs text-gray-600 flex items-center gap-1\">\r\n                              <Clock className=\"h-3 w-3\" />\r\n                              {meal.prepTime + meal.cookTime}min\r\n                            </div>\r\n                            <div className=\"text-xs text-gray-600\">\r\n                              {meal.calories} cal\r\n                            </div>\r\n                            <div className=\"flex gap-1 mt-1\">\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"h-6 w-6 p-0\"\r\n                                onClick={() => handleEdit(meal)}\r\n                              >\r\n                                <Edit2 className=\"h-3 w-3\" />\r\n                              </Button>\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"h-6 w-6 p-0\"\r\n                                onClick={() => meal.rowIndex && handleDelete(meal.rowIndex)}\r\n                              >\r\n                                <Trash2 className=\"h-3 w-3\" />\r\n                              </Button>\r\n                            </div>\r\n                          </div>\r\n                        ) : (\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            className=\"w-full h-12 border-2 border-dashed border-gray-300 text-gray-500 hover:border-gray-400\"\r\n                            onClick={() => {\r\n                              setFormData({\r\n                                ...formData,\r\n                                date: format(day, 'yyyy-MM-dd'),\r\n                                meal: mealType\r\n                              });\r\n                              setShowAddForm(true);\r\n                            }}\r\n                          >\r\n                            <Plus className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"templates\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {templates.map((template) => (\r\n              <Card key={template.id} className=\"hover:shadow-md transition-shadow\">\r\n                <CardHeader>\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div>\r\n                      <CardTitle className=\"text-lg\">{template.name}</CardTitle>\r\n                      <Badge className={getMealTypeColor(template.category)} variant=\"outline\">\r\n                        {template.category}\r\n                      </Badge>\r\n                    </div>\r\n                    <Button\r\n                      variant=\"outline\"\r\n                      size=\"sm\"\r\n                      onClick={() => handleUseTemplate(template)}\r\n                    >\r\n                      <Copy className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div className=\"flex items-center gap-4 text-gray-600\">\r\n                      <span className=\"flex items-center gap-1\">\r\n                        <Clock className=\"h-4 w-4\" />\r\n                        {template.prepTime + template.cookTime}min\r\n                      </span>\r\n                      <span className=\"flex items-center gap-1\">\r\n                        <Users className=\"h-4 w-4\" />\r\n                        {template.servings} serving{template.servings > 1 ? 's' : ''}\r\n                      </span>\r\n                    </div>\r\n                    <div className=\"text-gray-600\">\r\n                      {template.calories} calories | {template.protein}g protein\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-1\">\r\n                      {template.tags.map((tag) => (\r\n                        <Badge key={tag} variant=\"secondary\" className=\"text-xs\">\r\n                          {tag}\r\n                        </Badge>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                </CardContent>\r\n              </Card>\r\n            ))}\r\n          </div>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"shopping\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Shopping List</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center py-8\">\r\n                <ChefHat className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Shopping List</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  Generate shopping lists based on your weekly meal plans.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Add/Edit Meal Form Modal */}\r\n      {showAddForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <CardHeader>\r\n              <CardTitle>\r\n                {editingPlan ? 'Edit Meal Plan' : 'Add Meal Plan'}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"date\">Date</Label>\r\n                    <Input\r\n                      id=\"date\"\r\n                      type=\"date\"\r\n                      value={formData.date}\r\n                      onChange={(e) => setFormData({ ...formData, date: e.target.value })}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"meal\">Meal</Label>\r\n                    <Select \r\n                      value={formData.meal} \r\n                      onValueChange={(value: 'breakfast' | 'lunch' | 'dinner' | 'snack') => setFormData({ ...formData, meal: value })}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"breakfast\">Breakfast</SelectItem>\r\n                        <SelectItem value=\"lunch\">Lunch</SelectItem>\r\n                        <SelectItem value=\"dinner\">Dinner</SelectItem>\r\n                        <SelectItem value=\"snack\">Snack</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"recipeName\">Recipe Name</Label>\r\n                  <Input\r\n                    id=\"recipeName\"\r\n                    value={formData.recipeName}\r\n                    onChange={(e) => setFormData({ ...formData, recipeName: e.target.value })}\r\n                    placeholder=\"e.g., Grilled Chicken with Vegetables\"\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"ingredients\">Ingredients</Label>\r\n                  <Textarea\r\n                    id=\"ingredients\"\r\n                    value={formData.ingredients}\r\n                    onChange={(e) => setFormData({ ...formData, ingredients: e.target.value })}\r\n                    placeholder=\"List all ingredients with quantities...\"\r\n                    rows={3}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"instructions\">Instructions</Label>\r\n                  <Textarea\r\n                    id=\"instructions\"\r\n                    value={formData.instructions}\r\n                    onChange={(e) => setFormData({ ...formData, instructions: e.target.value })}\r\n                    placeholder=\"Step-by-step cooking instructions...\"\r\n                    rows={4}\r\n                    required\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-3 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"prepTime\">Prep Time (min)</Label>\r\n                    <Input\r\n                      id=\"prepTime\"\r\n                      type=\"number\"\r\n                      value={formData.prepTime}\r\n                      onChange={(e) => setFormData({ ...formData, prepTime: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"cookTime\">Cook Time (min)</Label>\r\n                    <Input\r\n                      id=\"cookTime\"\r\n                      type=\"number\"\r\n                      value={formData.cookTime}\r\n                      onChange={(e) => setFormData({ ...formData, cookTime: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"servings\">Servings</Label>\r\n                    <Input\r\n                      id=\"servings\"\r\n                      type=\"number\"\r\n                      value={formData.servings}\r\n                      onChange={(e) => setFormData({ ...formData, servings: Number(e.target.value) })}\r\n                      min=\"1\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-4 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"calories\">Calories</Label>\r\n                    <Input\r\n                      id=\"calories\"\r\n                      type=\"number\"\r\n                      value={formData.calories}\r\n                      onChange={(e) => setFormData({ ...formData, calories: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"protein\">Protein (g)</Label>\r\n                    <Input\r\n                      id=\"protein\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.protein}\r\n                      onChange={(e) => setFormData({ ...formData, protein: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"carbs\">Carbs (g)</Label>\r\n                    <Input\r\n                      id=\"carbs\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.carbs}\r\n                      onChange={(e) => setFormData({ ...formData, carbs: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <Label htmlFor=\"fat\">Fat (g)</Label>\r\n                    <Input\r\n                      id=\"fat\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={formData.fat}\r\n                      onChange={(e) => setFormData({ ...formData, fat: Number(e.target.value) })}\r\n                      min=\"0\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"notes\">Notes (optional)</Label>\r\n                  <Textarea\r\n                    id=\"notes\"\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                    placeholder=\"Any additional notes...\"\r\n                    rows={2}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-4\">\r\n                  <Button type=\"submit\" disabled={isLoading} className=\"flex-1\">\r\n                    {isLoading ? 'Saving...' : editingPlan ? 'Update Meal' : 'Add Meal'}\r\n                  </Button>\r\n                  <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MealPlanningPage;\r\n","import React from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { Plus, Users } from 'lucide-react';\r\n\r\n// Simple Avatar component replacement\r\nconst Avatar: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = '' }) => (\r\n  <div className={`flex items-center justify-center rounded-full bg-gray-200 ${className}`}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst AvatarFallback: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = '' }) => (\r\n  <span className={`text-sm font-medium text-gray-600 ${className}`}>{children}</span>\r\n);\r\n\r\nconst AvatarImage: React.FC<{ src?: string | undefined; alt?: string }> = ({ src, alt }) => {\r\n  if (!src) return null;\r\n  return <img src={src} alt={alt} className=\"h-full w-full rounded-full object-cover\" />;\r\n};\r\n\r\ninterface PersonSelectorProps {\r\n  onAddPerson?: () => void;\r\n  showAddButton?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const PersonSelector: React.FC<PersonSelectorProps> = ({\r\n  onAddPerson,\r\n  showAddButton = true,\r\n  className = ''\r\n}) => {\r\n  const { people, currentPersonId, setCurrentPersonId } = useHealthStore();\r\n  const currentPerson = people.find(p => p.id === currentPersonId) || {\r\n    id: 'self',\r\n    name: 'Self',\r\n    relationship: 'self' as const,\r\n    avatar: undefined\r\n  };\r\n\r\n  const getPersonInitials = (name: string) => {\r\n    return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\r\n  };\r\n\r\n  const getRelationshipColor = (relationship: string) => {\r\n    switch (relationship) {\r\n      case 'self': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';\r\n      case 'family': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';\r\n      case 'friend': return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300';\r\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`flex items-center gap-3 ${className}`}>\r\n      <div className=\"flex items-center gap-2\">\r\n        <Users className=\"h-4 w-4 text-muted-foreground\" />\r\n        <span className=\"text-sm font-medium text-muted-foreground\">Tracking for:</span>\r\n      </div>\r\n      \r\n      <Select value={currentPersonId} onValueChange={setCurrentPersonId}>\r\n        <SelectTrigger className=\"w-48\">\r\n          <SelectValue>\r\n            <div className=\"flex items-center gap-2\">\r\n              <Avatar className=\"h-6 w-6\">\r\n                <AvatarImage src={currentPerson.avatar} />\r\n                <AvatarFallback className=\"text-xs\">\r\n                  {getPersonInitials(currentPerson.name)}\r\n                </AvatarFallback>\r\n              </Avatar>\r\n              <span>{currentPerson.name}</span>\r\n              <Badge \r\n                variant=\"secondary\" \r\n                className={`text-xs ${getRelationshipColor(currentPerson.relationship)}`}\r\n              >\r\n                {currentPerson.relationship}\r\n              </Badge>\r\n            </div>\r\n          </SelectValue>\r\n        </SelectTrigger>\r\n        <SelectContent>\r\n          {/* Default Self option if not in people array */}\r\n          {!people.find(p => p.id === 'self') && (\r\n            <SelectItem value=\"self\">\r\n              <div className=\"flex items-center gap-2\">\r\n                <Avatar className=\"h-6 w-6\">\r\n                  <AvatarFallback className=\"text-xs\">SE</AvatarFallback>\r\n                </Avatar>\r\n                <span>Self</span>\r\n                <Badge variant=\"secondary\" className=\"text-xs bg-blue-100 text-blue-800\">\r\n                  self\r\n                </Badge>\r\n              </div>\r\n            </SelectItem>\r\n          )}\r\n            {people\r\n            .filter(person => person.id && person.id.trim() !== '')\r\n            .map((person) => (\r\n            <SelectItem key={person.id} value={person.id}>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Avatar className=\"h-6 w-6\">\r\n                  <AvatarImage src={person.avatar} />\r\n                  <AvatarFallback className=\"text-xs\">\r\n                    {getPersonInitials(person.name)}\r\n                  </AvatarFallback>\r\n                </Avatar>\r\n                <span>{person.name}</span>\r\n                <Badge \r\n                  variant=\"secondary\" \r\n                  className={`text-xs ${getRelationshipColor(person.relationship)}`}\r\n                >\r\n                  {person.relationship}\r\n                </Badge>\r\n              </div>\r\n            </SelectItem>\r\n          ))}\r\n        </SelectContent>\r\n      </Select>\r\n\r\n      {showAddButton && (\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"sm\"\r\n          onClick={onAddPerson}\r\n          className=\"flex items-center gap-1\"\r\n        >\r\n          <Plus className=\"h-4 w-4\" />\r\n          Add Person\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from '@/components/ui/select';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogFooter,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport {\r\n  Card,\r\n  CardContent,\r\n  CardHeader,\r\n  CardTitle,\r\n} from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { type Person } from '@/types/Health';\r\nimport { Trash2, Edit, Users, Phone, Mail, Calendar, AlertCircle } from 'lucide-react';\r\n\r\n// Simple Avatar component replacement\r\nconst Avatar: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = '' }) => (\r\n  <div className={`flex items-center justify-center rounded-full bg-gray-200 ${className}`}>\r\n    {children}\r\n  </div>\r\n);\r\n\r\nconst AvatarFallback: React.FC<{ children: React.ReactNode; className?: string }> = ({ children, className = '' }) => (\r\n  <span className={`text-sm font-medium text-gray-600 ${className}`}>{children}</span>\r\n);\r\n\r\nconst AvatarImage: React.FC<{ src?: string | undefined; alt?: string }> = ({ src, alt }) => {\r\n  if (!src) return null;\r\n  return <img src={src} alt={alt} className=\"h-full w-full rounded-full object-cover\" />;\r\n};\r\n\r\ninterface PersonManagerProps {\r\n  people: Person[];\r\n  onPersonAdd: (person: Omit<Person, 'id' | 'createdAt' | 'updatedAt'>) => Promise<boolean>;\r\n  onPersonUpdate: (id: string, person: Partial<Person>) => Promise<boolean>;\r\n  onPersonDelete: (id: string) => Promise<boolean>;\r\n}\r\n\r\nexport const PersonManager: React.FC<PersonManagerProps> = ({ \r\n  people, \r\n  onPersonAdd, \r\n  onPersonUpdate, \r\n  onPersonDelete \r\n}) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [isAddingPerson, setIsAddingPerson] = useState(false);\r\n  const [editingPerson, setEditingPerson] = useState<Person | null>(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    relationship: 'family' as 'self' | 'family' | 'friend',\r\n    email: '',\r\n    phone: '',\r\n    dateOfBirth: '',\r\n    emergencyContact: false,\r\n    notes: '',\r\n    avatar: ''\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFormData({\r\n      name: '',\r\n      relationship: 'family',\r\n      email: '',\r\n      phone: '',\r\n      dateOfBirth: '',\r\n      emergencyContact: false,\r\n      notes: '',\r\n      avatar: ''\r\n    });\r\n  };\r\n\r\n  const handleStartAdd = () => {\r\n    resetForm();\r\n    setEditingPerson(null);\r\n    setIsAddingPerson(true);\r\n  };\r\n\r\n  const handleStartEdit = (person: Person) => {\r\n    setFormData({\r\n      name: person.name,\r\n      relationship: person.relationship,\r\n      email: person.email || '',\r\n      phone: person.phone || '',\r\n      dateOfBirth: person.dateOfBirth || '',\r\n      emergencyContact: person.emergencyContact || false,\r\n      notes: person.notes || '',\r\n      avatar: person.avatar || ''\r\n    });\r\n    setEditingPerson(person);\r\n    setIsAddingPerson(true);\r\n  };  const handleSubmit = async () => {\r\n    if (!formData.name.trim()) return;\r\n\r\n    const personData = {\r\n      name: formData.name,\r\n      relationship: formData.relationship,\r\n      ...(formData.email && { email: formData.email }),\r\n      ...(formData.phone && { phone: formData.phone }),\r\n      ...(formData.dateOfBirth && { dateOfBirth: formData.dateOfBirth }),\r\n      ...(formData.notes && { notes: formData.notes }),\r\n      ...(formData.avatar && { avatar: formData.avatar }),\r\n      ...(formData.emergencyContact && { emergencyContact: formData.emergencyContact })\r\n    };\r\n\r\n    let success = false;\r\n    if (editingPerson) {\r\n      success = await onPersonUpdate(editingPerson.id, personData);\r\n    } else {\r\n      success = await onPersonAdd(personData);\r\n    }\r\n\r\n    if (success) {\r\n      setIsAddingPerson(false);\r\n      setEditingPerson(null);\r\n      resetForm();\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (id: string) => {\r\n    if (confirm('Are you sure you want to remove this person? This cannot be undone.')) {\r\n      await onPersonDelete(id);\r\n    }\r\n  };\r\n\r\n  const getPersonInitials = (name: string) => {\r\n    return name.split(' ').map(n => n[0]).join('').toUpperCase().slice(0, 2);\r\n  };\r\n\r\n  const getRelationshipColor = (relationship: string) => {\r\n    switch (relationship) {\r\n      case 'self': return 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300';\r\n      case 'family': return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300';\r\n      case 'friend': return 'bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300';\r\n      default: return 'bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300';\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Button onClick={() => setIsOpen(true)}>\r\n        <Users className=\"h-4 w-4 mr-2\" />\r\n        Manage People\r\n      </Button>\r\n\r\n      <Dialog open={isOpen} onOpenChange={setIsOpen}>\r\n        <DialogContent className=\"max-w-4xl max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"flex items-center gap-2\">\r\n              <Users className=\"h-5 w-5\" />\r\n              Manage People\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              Add and manage family members and friends for health tracking.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-6\">\r\n            {/* Add Person Button */}\r\n            <div className=\"flex justify-between items-center\">\r\n              <h3 className=\"text-lg font-semibold\">People ({people.length})</h3>\r\n              <Button onClick={handleStartAdd} className=\"flex items-center gap-2\">\r\n                <Users className=\"h-4 w-4\" />\r\n                Add Person\r\n              </Button>\r\n            </div>\r\n\r\n            {/* People List */}\r\n            <div className=\"grid gap-4 md:grid-cols-2\">\r\n              {people.map((person) => (\r\n                <Card key={person.id}>\r\n                  <CardHeader className=\"pb-3\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <Avatar className=\"h-10 w-10\">\r\n                          <AvatarImage src={person.avatar} />\r\n                          <AvatarFallback>\r\n                            {getPersonInitials(person.name)}\r\n                          </AvatarFallback>\r\n                        </Avatar>\r\n                        <div>\r\n                          <CardTitle className=\"text-base\">{person.name}</CardTitle>\r\n                          <div className=\"flex items-center gap-2 mt-1\">\r\n                            <Badge \r\n                              variant=\"secondary\" \r\n                              className={`text-xs ${getRelationshipColor(person.relationship)}`}\r\n                            >\r\n                              {person.relationship}\r\n                            </Badge>\r\n                            {person.emergencyContact && (\r\n                              <Badge variant=\"destructive\" className=\"text-xs\">\r\n                                <AlertCircle className=\"h-3 w-3 mr-1\" />\r\n                                Emergency\r\n                              </Badge>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex gap-1\">\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleStartEdit(person)}\r\n                        >\r\n                          <Edit className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"ghost\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleDelete(person.id)}\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  </CardHeader>\r\n                  <CardContent className=\"pt-0\">\r\n                    <div className=\"space-y-2 text-sm text-muted-foreground\">\r\n                      {person.email && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Mail className=\"h-4 w-4\" />\r\n                          {person.email}\r\n                        </div>\r\n                      )}\r\n                      {person.phone && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Phone className=\"h-4 w-4\" />\r\n                          {person.phone}\r\n                        </div>\r\n                      )}\r\n                      {person.dateOfBirth && (\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Calendar className=\"h-4 w-4\" />\r\n                          {person.dateOfBirth}\r\n                        </div>\r\n                      )}\r\n                      {person.notes && (\r\n                        <p className=\"text-xs mt-2 line-clamp-2\">{person.notes}</p>\r\n                      )}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n\r\n            {people.length === 0 && (\r\n              <div className=\"text-center py-8 text-muted-foreground\">\r\n                <Users className=\"h-12 w-12 mx-auto mb-4 opacity-50\" />\r\n                <p>No people added yet</p>\r\n                <p className=\"text-sm\">Add family members and friends to track their health data</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <DialogFooter>            <Button variant=\"outline\" onClick={() => setIsOpen(false)}>\r\n              Close\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Add/Edit Person Dialog */}\r\n      <Dialog open={isAddingPerson} onOpenChange={setIsAddingPerson}>\r\n        <DialogContent>\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {editingPerson ? 'Edit Person' : 'Add New Person'}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {editingPerson \r\n                ? 'Update the person\\'s information' \r\n                : 'Add a family member or friend to track their health data'\r\n              }\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"name\">Name *</Label>\r\n              <Input\r\n                id=\"name\"\r\n                value={formData.name}\r\n                onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n                placeholder=\"Enter name\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"relationship\">Relationship</Label>\r\n              <Select\r\n                value={formData.relationship}\r\n                onValueChange={(value: 'self' | 'family' | 'friend') => \r\n                  setFormData({ ...formData, relationship: value })\r\n                }\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"family\">Family</SelectItem>\r\n                  <SelectItem value=\"friend\">Friend</SelectItem>\r\n                  <SelectItem value=\"self\">Self</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\">Email</Label>\r\n                <Input\r\n                  id=\"email\"\r\n                  type=\"email\"\r\n                  value={formData.email}\r\n                  onChange={(e) => setFormData({ ...formData, email: e.target.value })}\r\n                  placeholder=\"email@example.com\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"phone\">Phone</Label>\r\n                <Input\r\n                  id=\"phone\"\r\n                  value={formData.phone}\r\n                  onChange={(e) => setFormData({ ...formData, phone: e.target.value })}\r\n                  placeholder=\"Phone number\"\r\n                />\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"dateOfBirth\">Date of Birth</Label>\r\n              <Input\r\n                id=\"dateOfBirth\"\r\n                type=\"date\"\r\n                value={formData.dateOfBirth}\r\n                onChange={(e) => setFormData({ ...formData, dateOfBirth: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"notes\">Notes</Label>\r\n              <Textarea\r\n                id=\"notes\"\r\n                value={formData.notes}\r\n                onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                placeholder=\"Additional notes...\"\r\n                rows={3}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id=\"emergencyContact\"\r\n                checked={formData.emergencyContact}\r\n                onChange={(e) => setFormData({ ...formData, emergencyContact: e.target.checked })}\r\n                className=\"rounded\"\r\n              />\r\n              <Label htmlFor=\"emergencyContact\">Emergency Contact</Label>\r\n            </div>\r\n          </div>\r\n\r\n          <DialogFooter>\r\n            <Button \r\n              variant=\"outline\" \r\n              onClick={() => {\r\n                setIsAddingPerson(false);\r\n                setEditingPerson(null);\r\n                resetForm();\r\n              }}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleSubmit} disabled={!formData.name.trim()}>\r\n              {editingPerson ? 'Update' : 'Add'} Person\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Button } from '@/components/ui/button';\r\nimport { FolderOpen, Save, Settings } from 'lucide-react';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { toast } from 'sonner';\r\n\r\nexport const FolderConfiguration: React.FC = () => {\r\n  const { \r\n    currentPersonId, \r\n    getPersonConfig, \r\n    saveHealthConfig, \r\n    updateHealthConfig,\r\n    people \r\n  } = useHealthStore();\r\n  \r\n  const currentPerson = people.find(p => p.id === currentPersonId);\r\n  const existingConfig = getPersonConfig();\r\n  \r\n  const [folderId, setFolderId] = useState(existingConfig?.driveSettings.folderId || '');\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [isSaving, setIsSaving] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const config = getPersonConfig();\r\n    setFolderId(config?.driveSettings.folderId || '');\r\n  }, [currentPersonId, getPersonConfig]);\r\n\r\n  const handleSave = async () => {\r\n    if (!folderId.trim()) {\r\n      toast.error('Please enter a valid folder ID');\r\n      return;\r\n    }\r\n\r\n    setIsSaving(true);\r\n    \r\n    try {\r\n      let success = false;\r\n      \r\n      if (existingConfig) {\r\n        // Update existing config\r\n        success = await updateHealthConfig(existingConfig.id, {\r\n          driveSettings: {\r\n            ...existingConfig.driveSettings,\r\n            folderId: folderId.trim()\r\n          }\r\n        });\r\n      } else {\r\n        // Create new config\r\n        success = await saveHealthConfig({\r\n          personId: currentPersonId,\r\n          driveSettings: {\r\n            folderId: folderId.trim(),\r\n            autoUpload: false,\r\n            maxFileSize: 10,\r\n            allowedFileTypes: ['application/pdf', 'image/jpeg', 'image/png', 'image/gif', 'application/msword', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document']\r\n          },\r\n          spreadsheetSettings: {\r\n            spreadsheetId: '',\r\n            autoSync: true,\r\n            syncInterval: 15\r\n          },\r\n          notificationSettings: {\r\n            emailReminders: false,\r\n            reminderFrequency: 'weekly',\r\n            healthGoalAlerts: true\r\n          }\r\n        });\r\n      }\r\n      \r\n      if (success) {\r\n        toast.success('Folder configuration saved successfully!');\r\n        setIsEditing(false);\r\n      } else {\r\n        toast.error('Failed to save folder configuration');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Error saving configuration');\r\n      console.error('Error saving folder configuration:', error);\r\n    } finally {\r\n      setIsSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setFolderId(existingConfig?.driveSettings.folderId || '');\r\n    setIsEditing(false);\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <Settings className=\"h-5 w-5\" />\r\n          Document Storage Configuration\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-2\">\r\n              <FolderOpen className=\"h-4 w-4 text-gray-500\" />\r\n              <span className=\"text-sm font-medium\">\r\n                {currentPerson?.name || 'Self'}'s Documents Folder\r\n              </span>\r\n            </div>\r\n            {!isEditing && (\r\n              <Button\r\n                variant=\"outline\"\r\n                size=\"sm\"\r\n                onClick={() => setIsEditing(true)}\r\n              >\r\n                Configure\r\n              </Button>\r\n            )}\r\n          </div>\r\n          \r\n          {isEditing && (\r\n            <div className=\"space-y-4 pt-2\">\r\n              <div>\r\n                <Label htmlFor=\"folderId\">Google Drive Folder ID</Label>\r\n                <Input\r\n                  id=\"folderId\"\r\n                  value={folderId}\r\n                  onChange={(e) => setFolderId(e.target.value)}\r\n                  placeholder=\"Enter the Google Drive folder ID\"\r\n                  className=\"mt-1\"\r\n                />\r\n                <p className=\"text-xs text-gray-500 mt-2\">\r\n                  This folder will be used to store all health documents for {currentPerson?.name || 'you'}.\r\n                </p>\r\n              </div>\r\n              \r\n              <div className=\"flex gap-2\">\r\n                <Button\r\n                  onClick={handleSave}\r\n                  disabled={isSaving}\r\n                  size=\"sm\"\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  <Save className=\"h-4 w-4\" />\r\n                  {isSaving ? 'Saving...' : 'Save'}\r\n                </Button>\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={handleCancel}\r\n                  disabled={isSaving}\r\n                  size=\"sm\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          {!isEditing && folderId && (\r\n            <div className=\"text-sm text-gray-600\">\r\n              <span className=\"font-medium\">Folder ID:</span> \r\n              <code className=\"ml-2 px-2 py-1 bg-gray-100 rounded text-xs\">{folderId}</code>\r\n            </div>\r\n          )}\r\n          \r\n          {!isEditing && !folderId && (\r\n            <div className=\"text-sm text-gray-500 italic\">\r\n              No folder configured. Documents will be stored in the default health folder.\r\n            </div>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","import React, { useState, useRef } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Upload, File, X, Loader2 } from 'lucide-react';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { HealthDocument } from '@/types/Health';\r\nimport { toast } from 'sonner';\r\n\r\nconst MAX_FILE_SIZE = 10 * 1024 * 1024; // 10MB\r\nconst ALLOWED_FILE_TYPES = [\r\n  'application/pdf',\r\n  'image/jpeg',\r\n  'image/png',\r\n  'image/gif',\r\n  'application/msword',\r\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n  'application/vnd.ms-excel',\r\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n  'text/plain'\r\n];\r\n\r\nconst FILE_CATEGORIES = [\r\n  { value: 'medical-record', label: 'Medical Record' },\r\n  { value: 'lab-result', label: 'Lab Result' },\r\n  { value: 'prescription', label: 'Prescription' },\r\n  { value: 'insurance', label: 'Insurance' },\r\n  { value: 'report', label: 'Report' },\r\n  { value: 'other', label: 'Other' }\r\n];\r\n\r\nexport const DocumentUpload: React.FC = () => {\r\n  const { currentPersonId, uploadDocument, people } = useHealthStore() as any;\r\n  const currentPerson = people.find((p: any) => p.id === currentPersonId);\r\n  \r\n  const fileInputRef = useRef<HTMLInputElement>(null);\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [category, setCategory] = useState<string>('other');\r\n  const [tags, setTags] = useState('');\r\n  const [isConfidential, setIsConfidential] = useState(false);\r\n  const [isUploading, setIsUploading] = useState(false);\r\n\r\n  const handleFileSelect = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (!file) return;\r\n\r\n    // Validate file size\r\n    if (file.size > MAX_FILE_SIZE) {\r\n      toast.error(`File size must be less than ${MAX_FILE_SIZE / (1024 * 1024)}MB`);\r\n      return;\r\n    }\r\n\r\n    // Validate file type\r\n    if (!ALLOWED_FILE_TYPES.includes(file.type)) {\r\n      toast.error('Invalid file type. Please upload PDF, Word, Excel, images, or text files.');\r\n      return;\r\n    }\r\n\r\n    setSelectedFile(file);\r\n    // Auto-fill title if empty\r\n    if (!title) {\r\n      const fileName = file.name.split('.').slice(0, -1).join('.');\r\n      setTitle(fileName);\r\n    }\r\n  };\r\n\r\n  const handleRemoveFile = () => {\r\n    setSelectedFile(null);\r\n    if (fileInputRef.current) {\r\n      fileInputRef.current.value = '';\r\n    }\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      toast.error('Please select a file to upload');\r\n      return;\r\n    }\r\n\r\n    if (!title.trim()) {\r\n      toast.error('Please enter a title for the document');\r\n      return;\r\n    }\r\n\r\n    setIsUploading(true);\r\n\r\n    try {\r\n      const documentData: Omit<HealthDocument, 'id' | 'uploadDate' | 'driveFileId' | 'driveUrl'> = {\r\n        personId: currentPersonId,\r\n        title: title.trim(),\r\n        fileName: selectedFile.name,\r\n        fileType: selectedFile.type,\r\n        fileSize: selectedFile.size,\r\n        category: category as 'medical-record' | 'lab-result' | 'prescription' | 'insurance' | 'report' | 'other',\r\n        tags: tags.split(',').map(tag => tag.trim()).filter(Boolean),\r\n        isConfidential,\r\n        ...(description.trim() && { description: description.trim() })\r\n      };\r\n\r\n      const success = await uploadDocument(documentData, selectedFile);\r\n      \r\n      if (success) {\r\n        toast.success('Document uploaded successfully!');\r\n        // Reset form\r\n        setSelectedFile(null);\r\n        setTitle('');\r\n        setDescription('');\r\n        setCategory('other');\r\n        setTags('');\r\n        setIsConfidential(false);\r\n        if (fileInputRef.current) {\r\n          fileInputRef.current.value = '';\r\n        }\r\n      } else {\r\n        toast.error('Failed to upload document');\r\n      }\r\n      \r\n      setIsUploading(false);\r\n    } catch (error) {\r\n      console.error('Upload error:', error);\r\n      toast.error('Error uploading document');\r\n      setIsUploading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <CardTitle className=\"flex items-center gap-2\">\r\n          <Upload className=\"h-5 w-5\" />\r\n          Upload Health Document\r\n        </CardTitle>\r\n      </CardHeader>\r\n      <CardContent>\r\n        <div className=\"space-y-4\">\r\n          {/* File Selection */}\r\n          <div>\r\n            <Label htmlFor=\"file\">Select File</Label>\r\n            <div className=\"mt-2\">\r\n              <input\r\n                ref={fileInputRef}\r\n                id=\"file\"\r\n                type=\"file\"\r\n                onChange={handleFileSelect}\r\n                accept=\".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif,.txt\"\r\n                className=\"hidden\"\r\n              />\r\n              \r\n              {!selectedFile ? (\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  onClick={() => fileInputRef.current?.click()}\r\n                  className=\"w-full\"\r\n                >\r\n                  <File className=\"h-4 w-4 mr-2\" />\r\n                  Choose File\r\n                </Button>\r\n              ) : (\r\n                <div className=\"flex items-center justify-between p-3 border rounded-lg bg-gray-50\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <File className=\"h-4 w-4 text-gray-600\" />\r\n                    <span className=\"text-sm font-medium\">{selectedFile.name}</span>\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      ({(selectedFile.size / 1024).toFixed(2)} KB)\r\n                    </span>\r\n                  </div>\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"ghost\"\r\n                    size=\"sm\"\r\n                    onClick={handleRemoveFile}\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </Button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Document Details */}\r\n          <div>\r\n            <Label htmlFor=\"title\">Title *</Label>\r\n            <Input\r\n              id=\"title\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              placeholder=\"Enter document title\"\r\n              className=\"mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"category\">Category</Label>\r\n            <Select value={category} onValueChange={setCategory}>\r\n              <SelectTrigger className=\"mt-1\">\r\n                <SelectValue placeholder=\"Select category\" />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                {FILE_CATEGORIES.map((cat) => (\r\n                  <SelectItem key={cat.value} value={cat.value}>\r\n                    {cat.label}\r\n                  </SelectItem>\r\n                ))}\r\n              </SelectContent>\r\n            </Select>\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"description\">Description</Label>\r\n            <Textarea\r\n              id=\"description\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n              placeholder=\"Add a description (optional)\"\r\n              rows={3}\r\n              className=\"mt-1\"\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <Label htmlFor=\"tags\">Tags</Label>\r\n            <Input\r\n              id=\"tags\"\r\n              value={tags}\r\n              onChange={(e) => setTags(e.target.value)}\r\n              placeholder=\"Enter tags separated by commas\"\r\n              className=\"mt-1\"\r\n            />\r\n            <p className=\"text-xs text-gray-500 mt-1\">\r\n              e.g., blood test, 2024, cholesterol\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"flex items-center gap-2\">\r\n            <input\r\n              id=\"confidential\"\r\n              type=\"checkbox\"\r\n              checked={isConfidential}\r\n              onChange={(e) => setIsConfidential(e.target.checked)}\r\n              className=\"rounded border-gray-300\"\r\n            />\r\n            <Label htmlFor=\"confidential\" className=\"font-normal cursor-pointer\">\r\n              Mark as confidential\r\n            </Label>\r\n          </div>\r\n\r\n          {/* Upload Button */}\r\n          <Button\r\n            onClick={handleUpload}\r\n            disabled={!selectedFile || !title.trim() || isUploading}\r\n            className=\"w-full\"\r\n          >\r\n            {isUploading ? (\r\n              <>\r\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                Uploading...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Upload className=\"h-4 w-4 mr-2\" />\r\n                Upload Document\r\n              </>\r\n            )}\r\n          </Button>\r\n\r\n          {currentPerson && currentPerson.relationship !== 'self' && (\r\n            <p className=\"text-xs text-gray-500 text-center\">\r\n              This document will be uploaded to {currentPerson.name}'s folder\r\n            </p>\r\n          )}\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n","\"use client\";\n\n// src/menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createCollection } from \"@radix-ui/react-collection\";\nimport { useComposedRefs, composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { DismissableLayer } from \"@radix-ui/react-dismissable-layer\";\nimport { useFocusGuards } from \"@radix-ui/react-focus-guards\";\nimport { FocusScope } from \"@radix-ui/react-focus-scope\";\nimport { useId } from \"@radix-ui/react-id\";\nimport * as PopperPrimitive from \"@radix-ui/react-popper\";\nimport { createPopperScope } from \"@radix-ui/react-popper\";\nimport { Portal as PortalPrimitive } from \"@radix-ui/react-portal\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive, dispatchDiscreteCustomEvent } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { createSlot } from \"@radix-ui/react-slot\";\nimport { useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\nimport { hideOthers } from \"aria-hidden\";\nimport { RemoveScroll } from \"react-remove-scroll\";\nimport { jsx } from \"react/jsx-runtime\";\nvar SELECTION_KEYS = [\"Enter\", \" \"];\nvar FIRST_KEYS = [\"ArrowDown\", \"PageUp\", \"Home\"];\nvar LAST_KEYS = [\"ArrowUp\", \"PageDown\", \"End\"];\nvar FIRST_LAST_KEYS = [...FIRST_KEYS, ...LAST_KEYS];\nvar SUB_OPEN_KEYS = {\n  ltr: [...SELECTION_KEYS, \"ArrowRight\"],\n  rtl: [...SELECTION_KEYS, \"ArrowLeft\"]\n};\nvar SUB_CLOSE_KEYS = {\n  ltr: [\"ArrowLeft\"],\n  rtl: [\"ArrowRight\"]\n};\nvar MENU_NAME = \"Menu\";\nvar [Collection, useCollection, createCollectionScope] = createCollection(MENU_NAME);\nvar [createMenuContext, createMenuScope] = createContextScope(MENU_NAME, [\n  createCollectionScope,\n  createPopperScope,\n  createRovingFocusGroupScope\n]);\nvar usePopperScope = createPopperScope();\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [MenuProvider, useMenuContext] = createMenuContext(MENU_NAME);\nvar [MenuRootProvider, useMenuRootContext] = createMenuContext(MENU_NAME);\nvar Menu = (props) => {\n  const { __scopeMenu, open = false, children, dir, onOpenChange, modal = true } = props;\n  const popperScope = usePopperScope(__scopeMenu);\n  const [content, setContent] = React.useState(null);\n  const isUsingKeyboardRef = React.useRef(false);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  const direction = useDirection(dir);\n  React.useEffect(() => {\n    const handleKeyDown = () => {\n      isUsingKeyboardRef.current = true;\n      document.addEventListener(\"pointerdown\", handlePointer, { capture: true, once: true });\n      document.addEventListener(\"pointermove\", handlePointer, { capture: true, once: true });\n    };\n    const handlePointer = () => isUsingKeyboardRef.current = false;\n    document.addEventListener(\"keydown\", handleKeyDown, { capture: true });\n    return () => {\n      document.removeEventListener(\"keydown\", handleKeyDown, { capture: true });\n      document.removeEventListener(\"pointerdown\", handlePointer, { capture: true });\n      document.removeEventListener(\"pointermove\", handlePointer, { capture: true });\n    };\n  }, []);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuRootProvider,\n        {\n          scope: __scopeMenu,\n          onClose: React.useCallback(() => handleOpenChange(false), [handleOpenChange]),\n          isUsingKeyboardRef,\n          dir: direction,\n          modal,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenu.displayName = MENU_NAME;\nvar ANCHOR_NAME = \"MenuAnchor\";\nvar MenuAnchor = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...anchorProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Anchor, { ...popperScope, ...anchorProps, ref: forwardedRef });\n  }\n);\nMenuAnchor.displayName = ANCHOR_NAME;\nvar PORTAL_NAME = \"MenuPortal\";\nvar [PortalProvider, usePortalContext] = createMenuContext(PORTAL_NAME, {\n  forceMount: void 0\n});\nvar MenuPortal = (props) => {\n  const { __scopeMenu, forceMount, children, container } = props;\n  const context = useMenuContext(PORTAL_NAME, __scopeMenu);\n  return /* @__PURE__ */ jsx(PortalProvider, { scope: __scopeMenu, forceMount, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(PortalPrimitive, { asChild: true, container, children }) }) });\n};\nMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"MenuContent\";\nvar [MenuContentProvider, useMenuContentContext] = createMenuContext(CONTENT_NAME);\nvar MenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...contentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: rootContext.modal ? /* @__PURE__ */ jsx(MenuRootContentModal, { ...contentProps, ref: forwardedRef }) : /* @__PURE__ */ jsx(MenuRootContentNonModal, { ...contentProps, ref: forwardedRef }) }) }) });\n  }\n);\nvar MenuRootContentModal = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    React.useEffect(() => {\n      const content = ref.current;\n      if (content) return hideOthers(content);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        ...props,\n        ref: composedRefs,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: context.open,\n        disableOutsideScroll: true,\n        onFocusOutside: composeEventHandlers(\n          props.onFocusOutside,\n          (event) => event.preventDefault(),\n          { checkForDefaultPrevented: false }\n        ),\n        onDismiss: () => context.onOpenChange(false)\n      }\n    );\n  }\n);\nvar MenuRootContentNonModal = React.forwardRef((props, forwardedRef) => {\n  const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n  return /* @__PURE__ */ jsx(\n    MenuContentImpl,\n    {\n      ...props,\n      ref: forwardedRef,\n      trapFocus: false,\n      disableOutsidePointerEvents: false,\n      disableOutsideScroll: false,\n      onDismiss: () => context.onOpenChange(false)\n    }\n  );\n});\nvar Slot = createSlot(\"MenuContent.ScrollLock\");\nvar MenuContentImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeMenu,\n      loop = false,\n      trapFocus,\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      disableOutsidePointerEvents,\n      onEntryFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onFocusOutside,\n      onInteractOutside,\n      onDismiss,\n      disableOutsideScroll,\n      ...contentProps\n    } = props;\n    const context = useMenuContext(CONTENT_NAME, __scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, __scopeMenu);\n    const popperScope = usePopperScope(__scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const getItems = useCollection(__scopeMenu);\n    const [currentItemId, setCurrentItemId] = React.useState(null);\n    const contentRef = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, contentRef, context.onContentChange);\n    const timerRef = React.useRef(0);\n    const searchRef = React.useRef(\"\");\n    const pointerGraceTimerRef = React.useRef(0);\n    const pointerGraceIntentRef = React.useRef(null);\n    const pointerDirRef = React.useRef(\"right\");\n    const lastPointerXRef = React.useRef(0);\n    const ScrollLockWrapper = disableOutsideScroll ? RemoveScroll : React.Fragment;\n    const scrollLockWrapperProps = disableOutsideScroll ? { as: Slot, allowPinchZoom: true } : void 0;\n    const handleTypeaheadSearch = (key) => {\n      const search = searchRef.current + key;\n      const items = getItems().filter((item) => !item.disabled);\n      const currentItem = document.activeElement;\n      const currentMatch = items.find((item) => item.ref.current === currentItem)?.textValue;\n      const values = items.map((item) => item.textValue);\n      const nextMatch = getNextMatch(values, search, currentMatch);\n      const newItem = items.find((item) => item.textValue === nextMatch)?.ref.current;\n      (function updateSearch(value) {\n        searchRef.current = value;\n        window.clearTimeout(timerRef.current);\n        if (value !== \"\") timerRef.current = window.setTimeout(() => updateSearch(\"\"), 1e3);\n      })(search);\n      if (newItem) {\n        setTimeout(() => newItem.focus());\n      }\n    };\n    React.useEffect(() => {\n      return () => window.clearTimeout(timerRef.current);\n    }, []);\n    useFocusGuards();\n    const isPointerMovingToSubmenu = React.useCallback((event) => {\n      const isMovingTowards = pointerDirRef.current === pointerGraceIntentRef.current?.side;\n      return isMovingTowards && isPointerInGraceArea(event, pointerGraceIntentRef.current?.area);\n    }, []);\n    return /* @__PURE__ */ jsx(\n      MenuContentProvider,\n      {\n        scope: __scopeMenu,\n        searchRef,\n        onItemEnter: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onItemLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) return;\n            contentRef.current?.focus();\n            setCurrentItemId(null);\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        onTriggerLeave: React.useCallback(\n          (event) => {\n            if (isPointerMovingToSubmenu(event)) event.preventDefault();\n          },\n          [isPointerMovingToSubmenu]\n        ),\n        pointerGraceTimerRef,\n        onPointerGraceIntentChange: React.useCallback((intent) => {\n          pointerGraceIntentRef.current = intent;\n        }, []),\n        children: /* @__PURE__ */ jsx(ScrollLockWrapper, { ...scrollLockWrapperProps, children: /* @__PURE__ */ jsx(\n          FocusScope,\n          {\n            asChild: true,\n            trapped: trapFocus,\n            onMountAutoFocus: composeEventHandlers(onOpenAutoFocus, (event) => {\n              event.preventDefault();\n              contentRef.current?.focus({ preventScroll: true });\n            }),\n            onUnmountAutoFocus: onCloseAutoFocus,\n            children: /* @__PURE__ */ jsx(\n              DismissableLayer,\n              {\n                asChild: true,\n                disableOutsidePointerEvents,\n                onEscapeKeyDown,\n                onPointerDownOutside,\n                onFocusOutside,\n                onInteractOutside,\n                onDismiss,\n                children: /* @__PURE__ */ jsx(\n                  RovingFocusGroup.Root,\n                  {\n                    asChild: true,\n                    ...rovingFocusGroupScope,\n                    dir: rootContext.dir,\n                    orientation: \"vertical\",\n                    loop,\n                    currentTabStopId: currentItemId,\n                    onCurrentTabStopIdChange: setCurrentItemId,\n                    onEntryFocus: composeEventHandlers(onEntryFocus, (event) => {\n                      if (!rootContext.isUsingKeyboardRef.current) event.preventDefault();\n                    }),\n                    preventScrollOnEntryFocus: true,\n                    children: /* @__PURE__ */ jsx(\n                      PopperPrimitive.Content,\n                      {\n                        role: \"menu\",\n                        \"aria-orientation\": \"vertical\",\n                        \"data-state\": getOpenState(context.open),\n                        \"data-radix-menu-content\": \"\",\n                        dir: rootContext.dir,\n                        ...popperScope,\n                        ...contentProps,\n                        ref: composedRefs,\n                        style: { outline: \"none\", ...contentProps.style },\n                        onKeyDown: composeEventHandlers(contentProps.onKeyDown, (event) => {\n                          const target = event.target;\n                          const isKeyDownInside = target.closest(\"[data-radix-menu-content]\") === event.currentTarget;\n                          const isModifierKey = event.ctrlKey || event.altKey || event.metaKey;\n                          const isCharacterKey = event.key.length === 1;\n                          if (isKeyDownInside) {\n                            if (event.key === \"Tab\") event.preventDefault();\n                            if (!isModifierKey && isCharacterKey) handleTypeaheadSearch(event.key);\n                          }\n                          const content = contentRef.current;\n                          if (event.target !== content) return;\n                          if (!FIRST_LAST_KEYS.includes(event.key)) return;\n                          event.preventDefault();\n                          const items = getItems().filter((item) => !item.disabled);\n                          const candidateNodes = items.map((item) => item.ref.current);\n                          if (LAST_KEYS.includes(event.key)) candidateNodes.reverse();\n                          focusFirst(candidateNodes);\n                        }),\n                        onBlur: composeEventHandlers(props.onBlur, (event) => {\n                          if (!event.currentTarget.contains(event.target)) {\n                            window.clearTimeout(timerRef.current);\n                            searchRef.current = \"\";\n                          }\n                        }),\n                        onPointerMove: composeEventHandlers(\n                          props.onPointerMove,\n                          whenMouse((event) => {\n                            const target = event.target;\n                            const pointerXHasChanged = lastPointerXRef.current !== event.clientX;\n                            if (event.currentTarget.contains(target) && pointerXHasChanged) {\n                              const newDir = event.clientX > lastPointerXRef.current ? \"right\" : \"left\";\n                              pointerDirRef.current = newDir;\n                              lastPointerXRef.current = event.clientX;\n                            }\n                          })\n                        )\n                      }\n                    )\n                  }\n                )\n              }\n            )\n          }\n        ) })\n      }\n    );\n  }\n);\nMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"MenuGroup\";\nvar MenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...groupProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { role: \"group\", ...groupProps, ref: forwardedRef });\n  }\n);\nMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"MenuLabel\";\nvar MenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...labelProps } = props;\n    return /* @__PURE__ */ jsx(Primitive.div, { ...labelProps, ref: forwardedRef });\n  }\n);\nMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"MenuItem\";\nvar ITEM_SELECT = \"menu.itemSelect\";\nvar MenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { disabled = false, onSelect, ...itemProps } = props;\n    const ref = React.useRef(null);\n    const rootContext = useMenuRootContext(ITEM_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(ITEM_NAME, props.__scopeMenu);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const isPointerDownRef = React.useRef(false);\n    const handleSelect = () => {\n      const menuItem = ref.current;\n      if (!disabled && menuItem) {\n        const itemSelectEvent = new CustomEvent(ITEM_SELECT, { bubbles: true, cancelable: true });\n        menuItem.addEventListener(ITEM_SELECT, (event) => onSelect?.(event), { once: true });\n        dispatchDiscreteCustomEvent(menuItem, itemSelectEvent);\n        if (itemSelectEvent.defaultPrevented) {\n          isPointerDownRef.current = false;\n        } else {\n          rootContext.onClose();\n        }\n      }\n    };\n    return /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        ...itemProps,\n        ref: composedRefs,\n        disabled,\n        onClick: composeEventHandlers(props.onClick, handleSelect),\n        onPointerDown: (event) => {\n          props.onPointerDown?.(event);\n          isPointerDownRef.current = true;\n        },\n        onPointerUp: composeEventHandlers(props.onPointerUp, (event) => {\n          if (!isPointerDownRef.current) event.currentTarget?.click();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (disabled || isTypingAhead && event.key === \" \") return;\n          if (SELECTION_KEYS.includes(event.key)) {\n            event.currentTarget.click();\n            event.preventDefault();\n          }\n        })\n      }\n    );\n  }\n);\nMenuItem.displayName = ITEM_NAME;\nvar MenuItemImpl = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, disabled = false, textValue, ...itemProps } = props;\n    const contentContext = useMenuContentContext(ITEM_NAME, __scopeMenu);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    const [isFocused, setIsFocused] = React.useState(false);\n    const [textContent, setTextContent] = React.useState(\"\");\n    React.useEffect(() => {\n      const menuItem = ref.current;\n      if (menuItem) {\n        setTextContent((menuItem.textContent ?? \"\").trim());\n      }\n    }, [itemProps.children]);\n    return /* @__PURE__ */ jsx(\n      Collection.ItemSlot,\n      {\n        scope: __scopeMenu,\n        disabled,\n        textValue: textValue ?? textContent,\n        children: /* @__PURE__ */ jsx(RovingFocusGroup.Item, { asChild: true, ...rovingFocusGroupScope, focusable: !disabled, children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"menuitem\",\n            \"data-highlighted\": isFocused ? \"\" : void 0,\n            \"aria-disabled\": disabled || void 0,\n            \"data-disabled\": disabled ? \"\" : void 0,\n            ...itemProps,\n            ref: composedRefs,\n            onPointerMove: composeEventHandlers(\n              props.onPointerMove,\n              whenMouse((event) => {\n                if (disabled) {\n                  contentContext.onItemLeave(event);\n                } else {\n                  contentContext.onItemEnter(event);\n                  if (!event.defaultPrevented) {\n                    const item = event.currentTarget;\n                    item.focus({ preventScroll: true });\n                  }\n                }\n              })\n            ),\n            onPointerLeave: composeEventHandlers(\n              props.onPointerLeave,\n              whenMouse((event) => contentContext.onItemLeave(event))\n            ),\n            onFocus: composeEventHandlers(props.onFocus, () => setIsFocused(true)),\n            onBlur: composeEventHandlers(props.onBlur, () => setIsFocused(false))\n          }\n        ) })\n      }\n    );\n  }\n);\nvar CHECKBOX_ITEM_NAME = \"MenuCheckboxItem\";\nvar MenuCheckboxItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { checked = false, onCheckedChange, ...checkboxItemProps } = props;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemcheckbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        ...checkboxItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          checkboxItemProps.onSelect,\n          () => onCheckedChange?.(isIndeterminate(checked) ? true : !checked),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"MenuRadioGroup\";\nvar [RadioGroupProvider, useRadioGroupContext] = createMenuContext(\n  RADIO_GROUP_NAME,\n  { value: void 0, onValueChange: () => {\n  } }\n);\nvar MenuRadioGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, onValueChange, ...groupProps } = props;\n    const handleValueChange = useCallbackRef(onValueChange);\n    return /* @__PURE__ */ jsx(RadioGroupProvider, { scope: props.__scopeMenu, value, onValueChange: handleValueChange, children: /* @__PURE__ */ jsx(MenuGroup, { ...groupProps, ref: forwardedRef }) });\n  }\n);\nMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"MenuRadioItem\";\nvar MenuRadioItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { value, ...radioItemProps } = props;\n    const context = useRadioGroupContext(RADIO_ITEM_NAME, props.__scopeMenu);\n    const checked = value === context.value;\n    return /* @__PURE__ */ jsx(ItemIndicatorProvider, { scope: props.__scopeMenu, checked, children: /* @__PURE__ */ jsx(\n      MenuItem,\n      {\n        role: \"menuitemradio\",\n        \"aria-checked\": checked,\n        ...radioItemProps,\n        ref: forwardedRef,\n        \"data-state\": getCheckedState(checked),\n        onSelect: composeEventHandlers(\n          radioItemProps.onSelect,\n          () => context.onValueChange?.(value),\n          { checkForDefaultPrevented: false }\n        )\n      }\n    ) });\n  }\n);\nMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar ITEM_INDICATOR_NAME = \"MenuItemIndicator\";\nvar [ItemIndicatorProvider, useItemIndicatorContext] = createMenuContext(\n  ITEM_INDICATOR_NAME,\n  { checked: false }\n);\nvar MenuItemIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, forceMount, ...itemIndicatorProps } = props;\n    const indicatorContext = useItemIndicatorContext(ITEM_INDICATOR_NAME, __scopeMenu);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(indicatorContext.checked) || indicatorContext.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            ...itemIndicatorProps,\n            ref: forwardedRef,\n            \"data-state\": getCheckedState(indicatorContext.checked)\n          }\n        )\n      }\n    );\n  }\n);\nMenuItemIndicator.displayName = ITEM_INDICATOR_NAME;\nvar SEPARATOR_NAME = \"MenuSeparator\";\nvar MenuSeparator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...separatorProps } = props;\n    return /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        role: \"separator\",\n        \"aria-orientation\": \"horizontal\",\n        ...separatorProps,\n        ref: forwardedRef\n      }\n    );\n  }\n);\nMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"MenuArrow\";\nvar MenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeMenu, ...arrowProps } = props;\n    const popperScope = usePopperScope(__scopeMenu);\n    return /* @__PURE__ */ jsx(PopperPrimitive.Arrow, { ...popperScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nMenuArrow.displayName = ARROW_NAME;\nvar SUB_NAME = \"MenuSub\";\nvar [MenuSubProvider, useMenuSubContext] = createMenuContext(SUB_NAME);\nvar MenuSub = (props) => {\n  const { __scopeMenu, children, open = false, onOpenChange } = props;\n  const parentMenuContext = useMenuContext(SUB_NAME, __scopeMenu);\n  const popperScope = usePopperScope(__scopeMenu);\n  const [trigger, setTrigger] = React.useState(null);\n  const [content, setContent] = React.useState(null);\n  const handleOpenChange = useCallbackRef(onOpenChange);\n  React.useEffect(() => {\n    if (parentMenuContext.open === false) handleOpenChange(false);\n    return () => handleOpenChange(false);\n  }, [parentMenuContext.open, handleOpenChange]);\n  return /* @__PURE__ */ jsx(PopperPrimitive.Root, { ...popperScope, children: /* @__PURE__ */ jsx(\n    MenuProvider,\n    {\n      scope: __scopeMenu,\n      open,\n      onOpenChange: handleOpenChange,\n      content,\n      onContentChange: setContent,\n      children: /* @__PURE__ */ jsx(\n        MenuSubProvider,\n        {\n          scope: __scopeMenu,\n          contentId: useId(),\n          triggerId: useId(),\n          trigger,\n          onTriggerChange: setTrigger,\n          children\n        }\n      )\n    }\n  ) });\n};\nMenuSub.displayName = SUB_NAME;\nvar SUB_TRIGGER_NAME = \"MenuSubTrigger\";\nvar MenuSubTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const context = useMenuContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const contentContext = useMenuContentContext(SUB_TRIGGER_NAME, props.__scopeMenu);\n    const openTimerRef = React.useRef(null);\n    const { pointerGraceTimerRef, onPointerGraceIntentChange } = contentContext;\n    const scope = { __scopeMenu: props.__scopeMenu };\n    const clearOpenTimer = React.useCallback(() => {\n      if (openTimerRef.current) window.clearTimeout(openTimerRef.current);\n      openTimerRef.current = null;\n    }, []);\n    React.useEffect(() => clearOpenTimer, [clearOpenTimer]);\n    React.useEffect(() => {\n      const pointerGraceTimer = pointerGraceTimerRef.current;\n      return () => {\n        window.clearTimeout(pointerGraceTimer);\n        onPointerGraceIntentChange(null);\n      };\n    }, [pointerGraceTimerRef, onPointerGraceIntentChange]);\n    return /* @__PURE__ */ jsx(MenuAnchor, { asChild: true, ...scope, children: /* @__PURE__ */ jsx(\n      MenuItemImpl,\n      {\n        id: subContext.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": subContext.contentId,\n        \"data-state\": getOpenState(context.open),\n        ...props,\n        ref: composeRefs(forwardedRef, subContext.onTriggerChange),\n        onClick: (event) => {\n          props.onClick?.(event);\n          if (props.disabled || event.defaultPrevented) return;\n          event.currentTarget.focus();\n          if (!context.open) context.onOpenChange(true);\n        },\n        onPointerMove: composeEventHandlers(\n          props.onPointerMove,\n          whenMouse((event) => {\n            contentContext.onItemEnter(event);\n            if (event.defaultPrevented) return;\n            if (!props.disabled && !context.open && !openTimerRef.current) {\n              contentContext.onPointerGraceIntentChange(null);\n              openTimerRef.current = window.setTimeout(() => {\n                context.onOpenChange(true);\n                clearOpenTimer();\n              }, 100);\n            }\n          })\n        ),\n        onPointerLeave: composeEventHandlers(\n          props.onPointerLeave,\n          whenMouse((event) => {\n            clearOpenTimer();\n            const contentRect = context.content?.getBoundingClientRect();\n            if (contentRect) {\n              const side = context.content?.dataset.side;\n              const rightSide = side === \"right\";\n              const bleed = rightSide ? -5 : 5;\n              const contentNearEdge = contentRect[rightSide ? \"left\" : \"right\"];\n              const contentFarEdge = contentRect[rightSide ? \"right\" : \"left\"];\n              contentContext.onPointerGraceIntentChange({\n                area: [\n                  // Apply a bleed on clientX to ensure that our exit point is\n                  // consistently within polygon bounds\n                  { x: event.clientX + bleed, y: event.clientY },\n                  { x: contentNearEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.top },\n                  { x: contentFarEdge, y: contentRect.bottom },\n                  { x: contentNearEdge, y: contentRect.bottom }\n                ],\n                side\n              });\n              window.clearTimeout(pointerGraceTimerRef.current);\n              pointerGraceTimerRef.current = window.setTimeout(\n                () => contentContext.onPointerGraceIntentChange(null),\n                300\n              );\n            } else {\n              contentContext.onTriggerLeave(event);\n              if (event.defaultPrevented) return;\n              contentContext.onPointerGraceIntentChange(null);\n            }\n          })\n        ),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isTypingAhead = contentContext.searchRef.current !== \"\";\n          if (props.disabled || isTypingAhead && event.key === \" \") return;\n          if (SUB_OPEN_KEYS[rootContext.dir].includes(event.key)) {\n            context.onOpenChange(true);\n            context.content?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) });\n  }\n);\nMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"MenuSubContent\";\nvar MenuSubContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const portalContext = usePortalContext(CONTENT_NAME, props.__scopeMenu);\n    const { forceMount = portalContext.forceMount, ...subContentProps } = props;\n    const context = useMenuContext(CONTENT_NAME, props.__scopeMenu);\n    const rootContext = useMenuRootContext(CONTENT_NAME, props.__scopeMenu);\n    const subContext = useMenuSubContext(SUB_CONTENT_NAME, props.__scopeMenu);\n    const ref = React.useRef(null);\n    const composedRefs = useComposedRefs(forwardedRef, ref);\n    return /* @__PURE__ */ jsx(Collection.Provider, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(Presence, { present: forceMount || context.open, children: /* @__PURE__ */ jsx(Collection.Slot, { scope: props.__scopeMenu, children: /* @__PURE__ */ jsx(\n      MenuContentImpl,\n      {\n        id: subContext.contentId,\n        \"aria-labelledby\": subContext.triggerId,\n        ...subContentProps,\n        ref: composedRefs,\n        align: \"start\",\n        side: rootContext.dir === \"rtl\" ? \"left\" : \"right\",\n        disableOutsidePointerEvents: false,\n        disableOutsideScroll: false,\n        trapFocus: false,\n        onOpenAutoFocus: (event) => {\n          if (rootContext.isUsingKeyboardRef.current) ref.current?.focus();\n          event.preventDefault();\n        },\n        onCloseAutoFocus: (event) => event.preventDefault(),\n        onFocusOutside: composeEventHandlers(props.onFocusOutside, (event) => {\n          if (event.target !== subContext.trigger) context.onOpenChange(false);\n        }),\n        onEscapeKeyDown: composeEventHandlers(props.onEscapeKeyDown, (event) => {\n          rootContext.onClose();\n          event.preventDefault();\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          const isKeyDownInside = event.currentTarget.contains(event.target);\n          const isCloseKey = SUB_CLOSE_KEYS[rootContext.dir].includes(event.key);\n          if (isKeyDownInside && isCloseKey) {\n            context.onOpenChange(false);\n            subContext.trigger?.focus();\n            event.preventDefault();\n          }\n        })\n      }\n    ) }) }) });\n  }\n);\nMenuSubContent.displayName = SUB_CONTENT_NAME;\nfunction getOpenState(open) {\n  return open ? \"open\" : \"closed\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getCheckedState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nfunction focusFirst(candidates) {\n  const PREVIOUSLY_FOCUSED_ELEMENT = document.activeElement;\n  for (const candidate of candidates) {\n    if (candidate === PREVIOUSLY_FOCUSED_ELEMENT) return;\n    candidate.focus();\n    if (document.activeElement !== PREVIOUSLY_FOCUSED_ELEMENT) return;\n  }\n}\nfunction wrapArray(array, startIndex) {\n  return array.map((_, index) => array[(startIndex + index) % array.length]);\n}\nfunction getNextMatch(values, search, currentMatch) {\n  const isRepeated = search.length > 1 && Array.from(search).every((char) => char === search[0]);\n  const normalizedSearch = isRepeated ? search[0] : search;\n  const currentMatchIndex = currentMatch ? values.indexOf(currentMatch) : -1;\n  let wrappedValues = wrapArray(values, Math.max(currentMatchIndex, 0));\n  const excludeCurrentMatch = normalizedSearch.length === 1;\n  if (excludeCurrentMatch) wrappedValues = wrappedValues.filter((v) => v !== currentMatch);\n  const nextMatch = wrappedValues.find(\n    (value) => value.toLowerCase().startsWith(normalizedSearch.toLowerCase())\n  );\n  return nextMatch !== currentMatch ? nextMatch : void 0;\n}\nfunction isPointInPolygon(point, polygon) {\n  const { x, y } = point;\n  let inside = false;\n  for (let i = 0, j = polygon.length - 1; i < polygon.length; j = i++) {\n    const ii = polygon[i];\n    const jj = polygon[j];\n    const xi = ii.x;\n    const yi = ii.y;\n    const xj = jj.x;\n    const yj = jj.y;\n    const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n    if (intersect) inside = !inside;\n  }\n  return inside;\n}\nfunction isPointerInGraceArea(event, area) {\n  if (!area) return false;\n  const cursorPos = { x: event.clientX, y: event.clientY };\n  return isPointInPolygon(cursorPos, area);\n}\nfunction whenMouse(handler) {\n  return (event) => event.pointerType === \"mouse\" ? handler(event) : void 0;\n}\nvar Root3 = Menu;\nvar Anchor2 = MenuAnchor;\nvar Portal = MenuPortal;\nvar Content2 = MenuContent;\nvar Group = MenuGroup;\nvar Label = MenuLabel;\nvar Item2 = MenuItem;\nvar CheckboxItem = MenuCheckboxItem;\nvar RadioGroup = MenuRadioGroup;\nvar RadioItem = MenuRadioItem;\nvar ItemIndicator = MenuItemIndicator;\nvar Separator = MenuSeparator;\nvar Arrow2 = MenuArrow;\nvar Sub = MenuSub;\nvar SubTrigger = MenuSubTrigger;\nvar SubContent = MenuSubContent;\nexport {\n  Anchor2 as Anchor,\n  Arrow2 as Arrow,\n  CheckboxItem,\n  Content2 as Content,\n  Group,\n  Item2 as Item,\n  ItemIndicator,\n  Label,\n  Menu,\n  MenuAnchor,\n  MenuArrow,\n  MenuCheckboxItem,\n  MenuContent,\n  MenuGroup,\n  MenuItem,\n  MenuItemIndicator,\n  MenuLabel,\n  MenuPortal,\n  MenuRadioGroup,\n  MenuRadioItem,\n  MenuSeparator,\n  MenuSub,\n  MenuSubContent,\n  MenuSubTrigger,\n  Portal,\n  RadioGroup,\n  RadioItem,\n  Root3 as Root,\n  Separator,\n  Sub,\n  SubContent,\n  SubTrigger,\n  createMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\";\n\n// src/dropdown-menu.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { composeRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as MenuPrimitive from \"@radix-ui/react-menu\";\nimport { createMenuScope } from \"@radix-ui/react-menu\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar DROPDOWN_MENU_NAME = \"DropdownMenu\";\nvar [createDropdownMenuContext, createDropdownMenuScope] = createContextScope(\n  DROPDOWN_MENU_NAME,\n  [createMenuScope]\n);\nvar useMenuScope = createMenuScope();\nvar [DropdownMenuProvider, useDropdownMenuContext] = createDropdownMenuContext(DROPDOWN_MENU_NAME);\nvar DropdownMenu = (props) => {\n  const {\n    __scopeDropdownMenu,\n    children,\n    dir,\n    open: openProp,\n    defaultOpen,\n    onOpenChange,\n    modal = true\n  } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const triggerRef = React.useRef(null);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: DROPDOWN_MENU_NAME\n  });\n  return /* @__PURE__ */ jsx(\n    DropdownMenuProvider,\n    {\n      scope: __scopeDropdownMenu,\n      triggerId: useId(),\n      triggerRef,\n      contentId: useId(),\n      open,\n      onOpenChange: setOpen,\n      onOpenToggle: React.useCallback(() => setOpen((prevOpen) => !prevOpen), [setOpen]),\n      modal,\n      children: /* @__PURE__ */ jsx(MenuPrimitive.Root, { ...menuScope, open, onOpenChange: setOpen, dir, modal, children })\n    }\n  );\n};\nDropdownMenu.displayName = DROPDOWN_MENU_NAME;\nvar TRIGGER_NAME = \"DropdownMenuTrigger\";\nvar DropdownMenuTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, disabled = false, ...triggerProps } = props;\n    const context = useDropdownMenuContext(TRIGGER_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Anchor, { asChild: true, ...menuScope, children: /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        id: context.triggerId,\n        \"aria-haspopup\": \"menu\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.open ? context.contentId : void 0,\n        \"data-state\": context.open ? \"open\" : \"closed\",\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        ...triggerProps,\n        ref: composeRefs(forwardedRef, context.triggerRef),\n        onPointerDown: composeEventHandlers(props.onPointerDown, (event) => {\n          if (!disabled && event.button === 0 && event.ctrlKey === false) {\n            context.onOpenToggle();\n            if (!context.open) event.preventDefault();\n          }\n        }),\n        onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n          if (disabled) return;\n          if ([\"Enter\", \" \"].includes(event.key)) context.onOpenToggle();\n          if (event.key === \"ArrowDown\") context.onOpenChange(true);\n          if ([\"Enter\", \" \", \"ArrowDown\"].includes(event.key)) event.preventDefault();\n        })\n      }\n    ) });\n  }\n);\nDropdownMenuTrigger.displayName = TRIGGER_NAME;\nvar PORTAL_NAME = \"DropdownMenuPortal\";\nvar DropdownMenuPortal = (props) => {\n  const { __scopeDropdownMenu, ...portalProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Portal, { ...menuScope, ...portalProps });\n};\nDropdownMenuPortal.displayName = PORTAL_NAME;\nvar CONTENT_NAME = \"DropdownMenuContent\";\nvar DropdownMenuContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...contentProps } = props;\n    const context = useDropdownMenuContext(CONTENT_NAME, __scopeDropdownMenu);\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    const hasInteractedOutsideRef = React.useRef(false);\n    return /* @__PURE__ */ jsx(\n      MenuPrimitive.Content,\n      {\n        id: context.contentId,\n        \"aria-labelledby\": context.triggerId,\n        ...menuScope,\n        ...contentProps,\n        ref: forwardedRef,\n        onCloseAutoFocus: composeEventHandlers(props.onCloseAutoFocus, (event) => {\n          if (!hasInteractedOutsideRef.current) context.triggerRef.current?.focus();\n          hasInteractedOutsideRef.current = false;\n          event.preventDefault();\n        }),\n        onInteractOutside: composeEventHandlers(props.onInteractOutside, (event) => {\n          const originalEvent = event.detail.originalEvent;\n          const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n          const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n          if (!context.modal || isRightClick) hasInteractedOutsideRef.current = true;\n        }),\n        style: {\n          ...props.style,\n          // re-namespace exposed content custom properties\n          ...{\n            \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n            \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n            \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n            \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n            \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n          }\n        }\n      }\n    );\n  }\n);\nDropdownMenuContent.displayName = CONTENT_NAME;\nvar GROUP_NAME = \"DropdownMenuGroup\";\nvar DropdownMenuGroup = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...groupProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Group, { ...menuScope, ...groupProps, ref: forwardedRef });\n  }\n);\nDropdownMenuGroup.displayName = GROUP_NAME;\nvar LABEL_NAME = \"DropdownMenuLabel\";\nvar DropdownMenuLabel = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...labelProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Label, { ...menuScope, ...labelProps, ref: forwardedRef });\n  }\n);\nDropdownMenuLabel.displayName = LABEL_NAME;\nvar ITEM_NAME = \"DropdownMenuItem\";\nvar DropdownMenuItem = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...itemProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Item, { ...menuScope, ...itemProps, ref: forwardedRef });\n  }\n);\nDropdownMenuItem.displayName = ITEM_NAME;\nvar CHECKBOX_ITEM_NAME = \"DropdownMenuCheckboxItem\";\nvar DropdownMenuCheckboxItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...checkboxItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.CheckboxItem, { ...menuScope, ...checkboxItemProps, ref: forwardedRef });\n});\nDropdownMenuCheckboxItem.displayName = CHECKBOX_ITEM_NAME;\nvar RADIO_GROUP_NAME = \"DropdownMenuRadioGroup\";\nvar DropdownMenuRadioGroup = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioGroupProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioGroup, { ...menuScope, ...radioGroupProps, ref: forwardedRef });\n});\nDropdownMenuRadioGroup.displayName = RADIO_GROUP_NAME;\nvar RADIO_ITEM_NAME = \"DropdownMenuRadioItem\";\nvar DropdownMenuRadioItem = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...radioItemProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.RadioItem, { ...menuScope, ...radioItemProps, ref: forwardedRef });\n});\nDropdownMenuRadioItem.displayName = RADIO_ITEM_NAME;\nvar INDICATOR_NAME = \"DropdownMenuItemIndicator\";\nvar DropdownMenuItemIndicator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...itemIndicatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.ItemIndicator, { ...menuScope, ...itemIndicatorProps, ref: forwardedRef });\n});\nDropdownMenuItemIndicator.displayName = INDICATOR_NAME;\nvar SEPARATOR_NAME = \"DropdownMenuSeparator\";\nvar DropdownMenuSeparator = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...separatorProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.Separator, { ...menuScope, ...separatorProps, ref: forwardedRef });\n});\nDropdownMenuSeparator.displayName = SEPARATOR_NAME;\nvar ARROW_NAME = \"DropdownMenuArrow\";\nvar DropdownMenuArrow = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeDropdownMenu, ...arrowProps } = props;\n    const menuScope = useMenuScope(__scopeDropdownMenu);\n    return /* @__PURE__ */ jsx(MenuPrimitive.Arrow, { ...menuScope, ...arrowProps, ref: forwardedRef });\n  }\n);\nDropdownMenuArrow.displayName = ARROW_NAME;\nvar DropdownMenuSub = (props) => {\n  const { __scopeDropdownMenu, children, open: openProp, onOpenChange, defaultOpen } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  const [open, setOpen] = useControllableState({\n    prop: openProp,\n    defaultProp: defaultOpen ?? false,\n    onChange: onOpenChange,\n    caller: \"DropdownMenuSub\"\n  });\n  return /* @__PURE__ */ jsx(MenuPrimitive.Sub, { ...menuScope, open, onOpenChange: setOpen, children });\n};\nvar SUB_TRIGGER_NAME = \"DropdownMenuSubTrigger\";\nvar DropdownMenuSubTrigger = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subTriggerProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(MenuPrimitive.SubTrigger, { ...menuScope, ...subTriggerProps, ref: forwardedRef });\n});\nDropdownMenuSubTrigger.displayName = SUB_TRIGGER_NAME;\nvar SUB_CONTENT_NAME = \"DropdownMenuSubContent\";\nvar DropdownMenuSubContent = React.forwardRef((props, forwardedRef) => {\n  const { __scopeDropdownMenu, ...subContentProps } = props;\n  const menuScope = useMenuScope(__scopeDropdownMenu);\n  return /* @__PURE__ */ jsx(\n    MenuPrimitive.SubContent,\n    {\n      ...menuScope,\n      ...subContentProps,\n      ref: forwardedRef,\n      style: {\n        ...props.style,\n        // re-namespace exposed content custom properties\n        ...{\n          \"--radix-dropdown-menu-content-transform-origin\": \"var(--radix-popper-transform-origin)\",\n          \"--radix-dropdown-menu-content-available-width\": \"var(--radix-popper-available-width)\",\n          \"--radix-dropdown-menu-content-available-height\": \"var(--radix-popper-available-height)\",\n          \"--radix-dropdown-menu-trigger-width\": \"var(--radix-popper-anchor-width)\",\n          \"--radix-dropdown-menu-trigger-height\": \"var(--radix-popper-anchor-height)\"\n        }\n      }\n    }\n  );\n});\nDropdownMenuSubContent.displayName = SUB_CONTENT_NAME;\nvar Root2 = DropdownMenu;\nvar Trigger = DropdownMenuTrigger;\nvar Portal2 = DropdownMenuPortal;\nvar Content2 = DropdownMenuContent;\nvar Group2 = DropdownMenuGroup;\nvar Label2 = DropdownMenuLabel;\nvar Item2 = DropdownMenuItem;\nvar CheckboxItem2 = DropdownMenuCheckboxItem;\nvar RadioGroup2 = DropdownMenuRadioGroup;\nvar RadioItem2 = DropdownMenuRadioItem;\nvar ItemIndicator2 = DropdownMenuItemIndicator;\nvar Separator2 = DropdownMenuSeparator;\nvar Arrow2 = DropdownMenuArrow;\nvar Sub2 = DropdownMenuSub;\nvar SubTrigger2 = DropdownMenuSubTrigger;\nvar SubContent2 = DropdownMenuSubContent;\nexport {\n  Arrow2 as Arrow,\n  CheckboxItem2 as CheckboxItem,\n  Content2 as Content,\n  DropdownMenu,\n  DropdownMenuArrow,\n  DropdownMenuCheckboxItem,\n  DropdownMenuContent,\n  DropdownMenuGroup,\n  DropdownMenuItem,\n  DropdownMenuItemIndicator,\n  DropdownMenuLabel,\n  DropdownMenuPortal,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuSub,\n  DropdownMenuSubContent,\n  DropdownMenuSubTrigger,\n  DropdownMenuTrigger,\n  Group2 as Group,\n  Item2 as Item,\n  ItemIndicator2 as ItemIndicator,\n  Label2 as Label,\n  Portal2 as Portal,\n  RadioGroup2 as RadioGroup,\n  RadioItem2 as RadioItem,\n  Root2 as Root,\n  Separator2 as Separator,\n  Sub2 as Sub,\n  SubContent2 as SubContent,\n  SubTrigger2 as SubTrigger,\n  Trigger,\n  createDropdownMenuScope\n};\n//# sourceMappingURL=index.mjs.map\n","import * as React from \"react\"\r\nimport * as DropdownMenuPrimitive from \"@radix-ui/react-dropdown-menu\"\r\nimport { Check, ChevronRight, Circle } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst DropdownMenu = DropdownMenuPrimitive.Root\r\n\r\nconst DropdownMenuTrigger = DropdownMenuPrimitive.Trigger\r\n\r\nconst DropdownMenuGroup = DropdownMenuPrimitive.Group\r\n\r\nconst DropdownMenuPortal = DropdownMenuPrimitive.Portal\r\n\r\nconst DropdownMenuSub = DropdownMenuPrimitive.Sub\r\n\r\nconst DropdownMenuRadioGroup = DropdownMenuPrimitive.RadioGroup\r\n\r\nconst DropdownMenuSubTrigger = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubTrigger>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubTrigger> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubTrigger\r\n    ref={ref}\r\n    className={cn(\r\n      \"flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-gray-100 data-[state=open]:bg-gray-100\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    {children}\r\n    <ChevronRight className=\"ml-auto h-4 w-4\" />\r\n  </DropdownMenuPrimitive.SubTrigger>\r\n))\r\nDropdownMenuSubTrigger.displayName =\r\n  DropdownMenuPrimitive.SubTrigger.displayName\r\n\r\nconst DropdownMenuSubContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.SubContent>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.SubContent>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.SubContent\r\n    ref={ref}\r\n    className={cn(\r\n      \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSubContent.displayName =\r\n  DropdownMenuPrimitive.SubContent.displayName\r\n\r\nconst DropdownMenuContent = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Content>\r\n>(({ className, sideOffset = 4, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Portal>\r\n    <DropdownMenuPrimitive.Content\r\n      ref={ref}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 min-w-[8rem] overflow-hidden rounded-md border bg-white p-1 text-gray-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </DropdownMenuPrimitive.Portal>\r\n))\r\nDropdownMenuContent.displayName = DropdownMenuPrimitive.Content.displayName\r\n\r\nconst DropdownMenuItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Item>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Item> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Item\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuItem.displayName = DropdownMenuPrimitive.Item.displayName\r\n\r\nconst DropdownMenuCheckboxItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.CheckboxItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.CheckboxItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.CheckboxItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Check className=\"h-4 w-4\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.CheckboxItem>\r\n))\r\nDropdownMenuCheckboxItem.displayName =\r\n  DropdownMenuPrimitive.CheckboxItem.displayName\r\n\r\nconst DropdownMenuRadioItem = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.RadioItem>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.RadioItem>\r\n>(({ className, children, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.RadioItem\r\n    ref={ref}\r\n    className={cn(\r\n      \"relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-gray-100 focus:text-gray-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\r\n      className\r\n    )}\r\n    {...props}\r\n  >\r\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\r\n      <DropdownMenuPrimitive.ItemIndicator>\r\n        <Circle className=\"h-2 w-2 fill-current\" />\r\n      </DropdownMenuPrimitive.ItemIndicator>\r\n    </span>\r\n    {children}\r\n  </DropdownMenuPrimitive.RadioItem>\r\n))\r\nDropdownMenuRadioItem.displayName = DropdownMenuPrimitive.RadioItem.displayName\r\n\r\nconst DropdownMenuLabel = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Label>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Label> & {\r\n    inset?: boolean\r\n  }\r\n>(({ className, inset, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Label\r\n    ref={ref}\r\n    className={cn(\r\n      \"px-2 py-1.5 text-sm font-semibold\",\r\n      inset && \"pl-8\",\r\n      className\r\n    )}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuLabel.displayName = DropdownMenuPrimitive.Label.displayName\r\n\r\nconst DropdownMenuSeparator = React.forwardRef<\r\n  React.ElementRef<typeof DropdownMenuPrimitive.Separator>,\r\n  React.ComponentPropsWithoutRef<typeof DropdownMenuPrimitive.Separator>\r\n>(({ className, ...props }, ref) => (\r\n  <DropdownMenuPrimitive.Separator\r\n    ref={ref}\r\n    className={cn(\"-mx-1 my-1 h-px bg-gray-100\", className)}\r\n    {...props}\r\n  />\r\n))\r\nDropdownMenuSeparator.displayName = DropdownMenuPrimitive.Separator.displayName\r\n\r\nconst DropdownMenuShortcut = ({\r\n  className,\r\n  ...props\r\n}: React.HTMLAttributes<HTMLSpanElement>) => {\r\n  return (\r\n    <span\r\n      className={cn(\"ml-auto text-xs tracking-widest opacity-60\", className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nDropdownMenuShortcut.displayName = \"DropdownMenuShortcut\"\r\n\r\nexport {\r\n  DropdownMenu,\r\n  DropdownMenuTrigger,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuCheckboxItem,\r\n  DropdownMenuRadioItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuShortcut,\r\n  DropdownMenuGroup,\r\n  DropdownMenuPortal,\r\n  DropdownMenuSub,\r\n  DropdownMenuSubContent,\r\n  DropdownMenuSubTrigger,\r\n  DropdownMenuRadioGroup,\r\n} ","import React, { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { \r\n  DropdownMenu,\r\n  DropdownMenuContent,\r\n  DropdownMenuItem,\r\n  DropdownMenuLabel,\r\n  DropdownMenuSeparator,\r\n  DropdownMenuTrigger\r\n} from '@/components/ui/dropdown-menu';\r\nimport { \r\n  FileText, \r\n  Download, \r\n  Eye, \r\n  Trash2, \r\n  MoreVertical, \r\n  Search,\r\n  Filter,\r\n  Calendar,\r\n  Lock,\r\n  FolderOpen,\r\n  Image,\r\n  File\r\n} from 'lucide-react';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { toast } from 'sonner';\r\nimport { format } from 'date-fns';\r\n\r\nconst CATEGORY_LABELS: Record<string, string> = {\r\n  'medical-record': 'Medical Record',\r\n  'lab-result': 'Lab Result',\r\n  'prescription': 'Prescription',\r\n  'insurance': 'Insurance',\r\n  'report': 'Report',\r\n  'other': 'Other'\r\n};\r\n\r\nconst CATEGORY_COLORS: Record<string, string> = {\r\n  'medical-record': 'bg-blue-100 text-blue-800',\r\n  'lab-result': 'bg-purple-100 text-purple-800',\r\n  'prescription': 'bg-green-100 text-green-800',\r\n  'insurance': 'bg-orange-100 text-orange-800',\r\n  'report': 'bg-pink-100 text-pink-800',\r\n  'other': 'bg-gray-100 text-gray-800'\r\n};\r\n\r\nexport const DocumentList: React.FC = () => {\r\n  const { \r\n    currentPersonId, \r\n    getPersonDocuments, \r\n    deleteDocument,\r\n    downloadDocument,\r\n    refreshDocuments,\r\n    people,\r\n    isLoading \r\n  } = useHealthStore();\r\n  \r\n  const currentPerson = people.find(p => p.id === currentPersonId);\r\n  const documents = getPersonDocuments();\r\n  \r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState<string>('all');\r\n  const [showConfidentialOnly, setShowConfidentialOnly] = useState(false);\r\n  const [deletingDocId, setDeletingDocId] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    // Refresh documents when component mounts or person changes\r\n    refreshDocuments();\r\n  }, [currentPersonId, refreshDocuments]);\r\n\r\n  const getFileIcon = (fileType: string) => {\r\n    if (fileType.startsWith('image/')) {\r\n      return <Image className=\"h-4 w-4\" />;\r\n    }\r\n    if (fileType.includes('pdf')) {\r\n      return <FileText className=\"h-4 w-4 text-red-600\" />;\r\n    }\r\n    return <File className=\"h-4 w-4\" />;\r\n  };\r\n\r\n  const formatFileSize = (bytes: number): string => {\r\n    if (bytes === 0) return '0 Bytes';\r\n    const k = 1024;\r\n    const sizes = ['Bytes', 'KB', 'MB', 'GB'];\r\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\r\n    return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\r\n  };\r\n\r\n  const filteredDocuments = documents.filter(doc => {\r\n    // Search filter\r\n    if (searchTerm && !doc.title.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n        !doc.description?.toLowerCase().includes(searchTerm.toLowerCase()) &&\r\n        !doc.tags?.some(tag => tag.toLowerCase().includes(searchTerm.toLowerCase()))) {\r\n      return false;\r\n    }\r\n    \r\n    // Category filter\r\n    if (selectedCategory !== 'all' && doc.category !== selectedCategory) {\r\n      return false;\r\n    }\r\n    \r\n    // Confidential filter\r\n    if (showConfidentialOnly && !doc.isConfidential) {\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  });\r\n\r\n  const handleView = (doc: any) => {\r\n    if (doc.driveUrl) {\r\n      window.open(doc.driveUrl, '_blank');\r\n    } else {\r\n      toast.error('Document URL not available');\r\n    }\r\n  };\r\n\r\n  const handleDownload = async (docId: string) => {\r\n    try {\r\n      await downloadDocument(docId);\r\n    } catch (error) {\r\n      toast.error('Failed to download document');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (docId: string) => {\r\n    if (!confirm('Are you sure you want to delete this document? This action cannot be undone.')) {\r\n      return;\r\n    }\r\n    \r\n    setDeletingDocId(docId);\r\n    \r\n    try {\r\n      const success = await deleteDocument(docId);\r\n      if (success) {\r\n        toast.success('Document deleted successfully');\r\n      } else {\r\n        toast.error('Failed to delete document');\r\n      }\r\n    } catch (error) {\r\n      toast.error('Error deleting document');\r\n    } finally {\r\n      setDeletingDocId(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card>\r\n      <CardHeader>\r\n        <div className=\"flex items-center justify-between\">\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <FolderOpen className=\"h-5 w-5\" />\r\n            {currentPerson?.name || 'Your'} Health Documents ({filteredDocuments.length})\r\n          </CardTitle>\r\n          <Button\r\n            variant=\"outline\"\r\n            size=\"sm\"\r\n            onClick={() => refreshDocuments()}\r\n            disabled={isLoading}\r\n          >\r\n            Refresh\r\n          </Button>\r\n        </div>\r\n      </CardHeader>\r\n      <CardContent>\r\n        {/* Filters */}\r\n        <div className=\"space-y-4 mb-6\">\r\n          <div className=\"flex flex-col sm:flex-row gap-2\">\r\n            <div className=\"relative flex-1\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-500\" />\r\n              <Input\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                placeholder=\"Search documents...\"\r\n                className=\"pl-10\"\r\n              />\r\n            </div>\r\n            \r\n            <DropdownMenu>\r\n              <DropdownMenuTrigger asChild>\r\n                <Button variant=\"outline\" className=\"min-w-[140px]\">\r\n                  <Filter className=\"h-4 w-4 mr-2\" />\r\n                  {selectedCategory === 'all' ? 'All Categories' : CATEGORY_LABELS[selectedCategory]}\r\n                </Button>\r\n              </DropdownMenuTrigger>\r\n              <DropdownMenuContent>\r\n                <DropdownMenuLabel>Filter by Category</DropdownMenuLabel>\r\n                <DropdownMenuSeparator />\r\n                <DropdownMenuItem onClick={() => setSelectedCategory('all')}>\r\n                  All Categories\r\n                </DropdownMenuItem>\r\n                {Object.entries(CATEGORY_LABELS).map(([value, label]) => (\r\n                  <DropdownMenuItem key={value} onClick={() => setSelectedCategory(value)}>\r\n                    {label}\r\n                  </DropdownMenuItem>\r\n                ))}\r\n              </DropdownMenuContent>\r\n            </DropdownMenu>\r\n            \r\n            <Button\r\n              variant={showConfidentialOnly ? \"default\" : \"outline\"}\r\n              onClick={() => setShowConfidentialOnly(!showConfidentialOnly)}\r\n              className=\"min-w-[140px]\"\r\n            >\r\n              <Lock className=\"h-4 w-4 mr-2\" />\r\n              Confidential Only\r\n            </Button>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Document List */}\r\n        {isLoading ? (\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"inline-flex items-center\">\r\n              <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900\"></div>\r\n              <span className=\"ml-3\">Loading documents...</span>\r\n            </div>\r\n          </div>\r\n        ) : filteredDocuments.length === 0 ? (\r\n          <div className=\"text-center py-8\">\r\n            <FileText className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n            <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No documents found</h3>\r\n            <p className=\"mt-1 text-sm text-gray-500\">\r\n              {searchTerm || selectedCategory !== 'all' \r\n                ? 'Try adjusting your filters' \r\n                : 'Upload your first health document to get started'}\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            {filteredDocuments.map((doc) => (\r\n              <div\r\n                key={doc.id}\r\n                className=\"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors\"\r\n              >\r\n                <div className=\"flex items-start gap-3 flex-1\">\r\n                  {getFileIcon(doc.fileType)}\r\n                  <div className=\"flex-1 min-w-0\">\r\n                    <div className=\"flex items-center gap-2 flex-wrap\">\r\n                      <h4 className=\"font-medium text-sm\">{doc.title}</h4>\r\n                      {doc.isConfidential && (\r\n                        <Lock className=\"h-3 w-3 text-orange-600\" />\r\n                      )}\r\n                      <Badge className={`text-xs ${CATEGORY_COLORS[doc.category] || CATEGORY_COLORS.other}`}>\r\n                        {CATEGORY_LABELS[doc.category] || 'Other'}\r\n                      </Badge>\r\n                    </div>\r\n                    \r\n                    {doc.description && (\r\n                      <p className=\"text-xs text-gray-600 mt-1 line-clamp-2\">{doc.description}</p>\r\n                    )}\r\n                    \r\n                    <div className=\"flex items-center gap-4 mt-2 text-xs text-gray-500\">\r\n                      <span className=\"flex items-center gap-1\">\r\n                        <Calendar className=\"h-3 w-3\" />\r\n                        {format(new Date(doc.uploadDate), 'MMM d, yyyy')}\r\n                      </span>\r\n                      <span>{formatFileSize(doc.fileSize)}</span>\r\n                      {doc.tags && doc.tags.length > 0 && (\r\n                        <div className=\"flex items-center gap-1\">\r\n                          {doc.tags.slice(0, 3).map((tag, index) => (\r\n                            <Badge key={index} variant=\"secondary\" className=\"text-xs\">\r\n                              {tag}\r\n                            </Badge>\r\n                          ))}\r\n                          {doc.tags.length > 3 && (\r\n                            <span className=\"text-gray-500\">+{doc.tags.length - 3}</span>\r\n                          )}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <DropdownMenu>\r\n                  <DropdownMenuTrigger asChild>\r\n                    <Button\r\n                      variant=\"ghost\"\r\n                      size=\"sm\"\r\n                      disabled={deletingDocId === doc.id}\r\n                    >\r\n                      <MoreVertical className=\"h-4 w-4\" />\r\n                    </Button>\r\n                  </DropdownMenuTrigger>\r\n                  <DropdownMenuContent align=\"end\">\r\n                    <DropdownMenuItem onClick={() => handleView(doc)}>\r\n                      <Eye className=\"h-4 w-4 mr-2\" />\r\n                      View\r\n                    </DropdownMenuItem>\r\n                    <DropdownMenuItem onClick={() => handleDownload(doc.id)}>\r\n                      <Download className=\"h-4 w-4 mr-2\" />\r\n                      Download\r\n                    </DropdownMenuItem>\r\n                    <DropdownMenuSeparator />\r\n                    <DropdownMenuItem \r\n                      onClick={() => handleDelete(doc.id)}\r\n                      className=\"text-red-600\"\r\n                    >\r\n                      <Trash2 className=\"h-4 w-4 mr-2\" />\r\n                      Delete\r\n                    </DropdownMenuItem>\r\n                  </DropdownMenuContent>\r\n                </DropdownMenu>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n}; ","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Plus, Heart, Activity, Thermometer, Droplets, TrendingUp, Calendar, Edit2, Trash2, FileText } from 'lucide-react';\r\n\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { HealthEntry as StoreHealthEntry, VitalSigns as StoreVitalSigns, BodyMeasurement as StoreBodyMeasurement } from '@/types/Health';\r\nimport { PersonSelector } from '@/components/health/PersonSelector';\r\nimport { PersonManager } from '@/components/health/PersonManager';\r\nimport { FolderConfiguration } from '@/components/health/FolderConfiguration';\r\nimport { DocumentUpload } from '@/components/health/DocumentUpload';\r\nimport { DocumentList } from '@/components/health/DocumentList';\r\nimport { format } from 'date-fns';\r\nimport { toast } from \"sonner\";\r\nimport { useMetricConversion } from '@/hooks/useMetricConversion';\r\nimport { PageHeader } from '@/components/ui/PageHeader';\r\n// Use the store type directly\r\ntype HealthEntry = StoreHealthEntry;\r\n\r\ninterface BodyMeasurement {\r\n  id?: string;\r\n  date: string;\r\n  weight?: number;\r\n  bodyFat?: number;\r\n  muscleMass?: number;\r\n  chest?: number;\r\n  waist?: number;\r\n  hips?: number;\r\n  bicep?: number;\r\n  thigh?: number;\r\n  neck?: number;\r\n  notes?: string;\r\n}\r\n\r\ninterface VitalSigns {\r\n  id?: string;\r\n  date: string;\r\n  systolic?: number;\r\n  diastolic?: number;\r\n  heartRate?: number;\r\n  temperature?: number;\r\n  oxygenSaturation?: number;\r\n  notes?: string;\r\n}\r\n\r\n// Define local types for form state\r\ninterface BodyMeasurementFormState {\r\n  date: string;\r\n  weight?: number | undefined;\r\n  bodyFat?: number | undefined;\r\n  muscleMass?: number | undefined;\r\n  chest?: number | undefined;\r\n  waist?: number | undefined;\r\n  hips?: number | undefined;\r\n  bicep?: number | undefined;\r\n  thigh?: number | undefined;\r\n  neck?: number | undefined;\r\n  notes?: string;\r\n}\r\n\r\ninterface VitalSignsFormState {\r\n  date: string;\r\n  systolic?: number | undefined;\r\n  diastolic?: number | undefined;\r\n  heartRate?: number | undefined;\r\n  temperature?: number | undefined;\r\n  oxygenSaturation?: number | undefined;\r\n  notes?: string;\r\n}\r\n\r\nconst HealthTrackingPage: React.FC = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [editingEntry, setEditingEntry] = useState<HealthEntry | null>(null);\r\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));  const [activeTab, setActiveTab] = useState('overview');\r\n  \r\n  // Use health store first to get currentPersonId\r\n  const { \r\n    healthEntries: storeHealthEntries, \r\n    isLoading: storeLoading, \r\n    isInitialized, \r\n    currentPersonId,\r\n    people,\r\n    addPerson,\r\n    updatePerson,\r\n    deletePerson,\r\n    fetchAllHealthData,\r\n    addHealthEntry,\r\n    updateHealthEntryAction,\r\n    deleteHealthEntryAction,\r\n    addVitalSigns,\r\n    addBodyMeasurement\r\n  } = useHealthStore();\r\n  const [formData, setFormData] = useState<HealthEntry>({\r\n    id: '',\r\n    personId: currentPersonId, // Use current person ID from store\r\n    date: selectedDate,\r\n    type: 'weight',\r\n    value: 0,\r\n    unit: 'kg',\r\n    notes: '',\r\n    timestamp: new Date().toISOString()\r\n  });\r\n\r\n  const [measurementForm, setMeasurementForm] = useState<BodyMeasurementFormState>({\r\n    date: selectedDate,\r\n    weight: undefined,\r\n    bodyFat: undefined,\r\n    muscleMass: undefined,\r\n    chest: undefined,\r\n    waist: undefined,\r\n    hips: undefined,\r\n    bicep: undefined,\r\n    thigh: undefined,\r\n    neck: undefined,\r\n    notes: ''\r\n  });\r\n\r\n  const [vitalForm, setVitalForm] = useState<VitalSignsFormState>({\r\n    date: selectedDate,\r\n    systolic: undefined,\r\n    diastolic: undefined,\r\n    heartRate: undefined,\r\n    temperature: undefined,\r\n    oxygenSaturation: undefined,\r\n    notes: ''\r\n  });  const { \r\n    convertAndFormatWeight, \r\n    convertAndFormatHeight, \r\n    convertAndFormatTemperature, \r\n    getWeightUnit, \r\n    getHeightUnit, \r\n    getTemperatureUnit \r\n  } = useMetricConversion();\r\n\r\n  // Dynamically set units in healthTypes\r\n  const healthTypes = [\r\n    { value: 'weight', label: 'Weight', unit: getWeightUnit(), icon: Activity },\r\n    { value: 'blood_pressure', label: 'Blood Pressure', unit: 'mmHg', icon: Heart },\r\n    { value: 'heart_rate', label: 'Heart Rate', unit: 'bpm', icon: Heart },\r\n    { value: 'body_fat', label: 'Body Fat %', unit: '%', icon: Activity },\r\n    { value: 'muscle_mass', label: 'Muscle Mass', unit: getWeightUnit(), icon: Activity },\r\n    { value: 'temperature', label: 'Temperature', unit: getTemperatureUnit() === 'celsius' ? '°C' : '°F', icon: Thermometer },\r\n    { value: 'sleep_hours', label: 'Sleep Hours', unit: 'hours', icon: Activity },\r\n    { value: 'water_intake', label: 'Water Intake', unit: 'ml', icon: Droplets },\r\n    { value: 'steps', label: 'Steps', unit: 'steps', icon: TrendingUp },\r\n    { value: 'custom', label: 'Custom', unit: '', icon: Activity }\r\n  ];// Filter entries for selected date and current person using useMemo to prevent infinite re-renders\r\n  const healthEntries = useMemo(() => \r\n    storeHealthEntries.filter(entry => entry.date === selectedDate && entry.personId === currentPersonId),\r\n    [storeHealthEntries, selectedDate, currentPersonId]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isInitialized) {\r\n      fetchAllHealthData();\r\n    }\r\n  }, [isInitialized, fetchAllHealthData]);\r\n  // Update local loading state based on store loading\r\n  useEffect(() => {\r\n    setIsLoading(storeLoading);\r\n  }, [storeLoading]);\r\n\r\n  // Update form data when currentPersonId changes\r\n  useEffect(() => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      personId: currentPersonId\r\n    }));\r\n  }, [currentPersonId]);\r\n\r\n  // Update form data when selectedDate changes\r\n  useEffect(() => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      date: selectedDate\r\n    }));\r\n    setMeasurementForm(prev => ({\r\n      ...prev,\r\n      date: selectedDate\r\n    }));\r\n    setVitalForm(prev => ({\r\n      ...prev,\r\n      date: selectedDate\r\n    }));\r\n  }, [selectedDate]);\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    \r\n    try {      if (editingEntry?.id) {\r\n        await updateHealthEntryAction(editingEntry.id, formData);\r\n        toast.success(\"Health entry updated successfully!\");\r\n      } else {\r\n        await addHealthEntry(formData);\r\n        toast.success(\"Health entry added successfully!\");\r\n      }      resetForm();\r\n      // Data will be automatically updated in the store\r\n    } catch (error) {\r\n      console.error('Error saving health entry:', error);\r\n      toast.error(\"Failed to save health entry. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (entry: HealthEntry) => {\r\n    setEditingEntry(entry);\r\n    setFormData(entry);\r\n    setShowAddForm(true);\r\n  };  const handleDelete = async (entry: HealthEntry) => {\r\n    if (!confirm('Are you sure you want to delete this entry?')) return;\r\n\r\n    setIsLoading(true);\r\n    try {      if (entry.id) {\r\n        await deleteHealthEntryAction(entry.id);\r\n        toast.success(\"Health entry deleted successfully!\");        // Data will be automatically updated in the store\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting health entry:', error);\r\n      toast.error(\"Failed to delete health entry. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };  const resetForm = () => {\r\n    setFormData({\r\n      id: '',\r\n      personId: currentPersonId,\r\n      date: selectedDate,\r\n      type: 'weight',\r\n      value: 0,\r\n      unit: '',\r\n      notes: '',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    setEditingEntry(null);\r\n    setShowAddForm(false);\r\n    setMeasurementForm({\r\n      date: selectedDate,\r\n      weight: undefined,\r\n      bodyFat: undefined,\r\n      muscleMass: undefined,\r\n      chest: undefined,\r\n      waist: undefined,\r\n      hips: undefined,\r\n      bicep: undefined,\r\n      thigh: undefined,\r\n      neck: undefined,\r\n      notes: ''\r\n    });\r\n    setVitalForm({\r\n      date: selectedDate,\r\n      systolic: undefined,\r\n      diastolic: undefined,\r\n      heartRate: undefined,\r\n      temperature: undefined,\r\n      oxygenSaturation: undefined,\r\n      notes: ''\r\n    });\r\n  };  const handleSaveVitalSigns = async () => {\r\n    setIsLoading(true);\r\n    \r\n    try {      const vitalData: Partial<Omit<StoreVitalSigns, 'id' | 'timestamp'>> = {\r\n        personId: currentPersonId,\r\n        date: vitalForm.date,\r\n        time: new Date().toTimeString().split(' ')[0], // Current time in HH:mm:ss format\r\n      };\r\n\r\n      // Only include fields that have values\r\n      if (vitalForm.systolic !== undefined) vitalData.bloodPressureSystolic = vitalForm.systolic;\r\n      if (vitalForm.diastolic !== undefined) vitalData.bloodPressureDiastolic = vitalForm.diastolic;\r\n      if (vitalForm.heartRate !== undefined) vitalData.heartRate = vitalForm.heartRate;\r\n      if (vitalForm.temperature !== undefined) {\r\n        const temp = vitalForm.temperature;\r\n        vitalData.temperature = getTemperatureUnit() === 'fahrenheit' ? (temp - 32) * 5/9 : temp;\r\n      }\r\n      if (vitalForm.oxygenSaturation !== undefined) vitalData.oxygenSaturation = vitalForm.oxygenSaturation;\r\n      if (vitalForm.notes && vitalForm.notes.trim()) vitalData.notes = vitalForm.notes;\r\n\r\n      const success = await addVitalSigns(vitalData as Omit<StoreVitalSigns, 'id' | 'timestamp'>);\r\n        if (success) {\r\n        toast.success(\"Vital signs saved successfully!\");\r\n        \r\n        // Reset form\r\n        setVitalForm({\r\n          date: selectedDate,\r\n          systolic: undefined,\r\n          diastolic: undefined,\r\n          heartRate: undefined,\r\n          temperature: undefined,\r\n          oxygenSaturation: undefined,\r\n          notes: ''\r\n        });\r\n      } else {        throw new Error('Failed to save vital signs');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving vital signs:', error);\r\n      toast.error(\"Failed to save vital signs. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSaveBodyMeasurements = async () => {\r\n    setIsLoading(true);\r\n    \r\n    try {      const measurementData: Partial<Omit<StoreBodyMeasurement, 'id' | 'timestamp'>> = {\r\n        personId: currentPersonId,\r\n        date: measurementForm.date,\r\n        time: new Date().toTimeString().split(' ')[0], // Current time in HH:mm:ss format\r\n      };\r\n\r\n      // Only include fields that have values\r\n      if (measurementForm.weight !== undefined) {\r\n        const weight = measurementForm.weight;\r\n        measurementData.weight = getWeightUnit() === 'lbs' ? weight * 0.453592 : weight;\r\n      }\r\n      if (measurementForm.bodyFat !== undefined) measurementData.bodyFat = measurementForm.bodyFat;\r\n      if (measurementForm.muscleMass !== undefined) {\r\n        const muscleMass = measurementForm.muscleMass;\r\n        measurementData.muscleMass = getWeightUnit() === 'lbs' ? muscleMass * 0.453592 : muscleMass;\r\n      }\r\n      if (measurementForm.chest !== undefined) measurementData.chest = measurementForm.chest;\r\n      if (measurementForm.waist !== undefined) measurementData.waist = measurementForm.waist;\r\n      if (measurementForm.hips !== undefined) measurementData.hips = measurementForm.hips;\r\n      if (measurementForm.neck !== undefined) measurementData.neck = measurementForm.neck;\r\n      if (measurementForm.notes && measurementForm.notes.trim()) measurementData.notes = measurementForm.notes;\r\n\r\n      const success = await addBodyMeasurement(measurementData as Omit<StoreBodyMeasurement, 'id' | 'timestamp'>);\r\n        if (success) {\r\n        toast.success(\"Body measurements saved successfully!\");\r\n        \r\n        // Reset form\r\n        setMeasurementForm({\r\n          date: selectedDate,\r\n          weight: undefined,\r\n          bodyFat: undefined,\r\n          muscleMass: undefined,\r\n          chest: undefined,\r\n          waist: undefined,\r\n          hips: undefined,\r\n          bicep: undefined,\r\n          thigh: undefined,\r\n          neck: undefined,\r\n          notes: ''\r\n        });\r\n      } else {        throw new Error('Failed to save body measurements');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error saving body measurements:', error);\r\n      toast.error(\"Failed to save body measurements. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const getEntryTypeIcon = (type: string) => {\r\n    const healthType = healthTypes.find(t => t.value === type);\r\n    const IconComponent = healthType?.icon || Activity;\r\n    return <IconComponent className=\"h-4 w-4\" />;\r\n  };\r\n\r\n  const getEntryTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case 'weight': return 'bg-blue-100 text-blue-800';\r\n      case 'blood-pressure': return 'bg-red-100 text-red-800';\r\n      case 'heart-rate': return 'bg-pink-100 text-pink-800';\r\n      case 'body-fat': return 'bg-green-100 text-green-800';\r\n      case 'measurements': return 'bg-purple-100 text-purple-800';\r\n      case 'symptoms': return 'bg-orange-100 text-orange-800';\r\n      case 'medication': return 'bg-teal-100 text-teal-800';\r\n      case 'mood': return 'bg-yellow-100 text-yellow-800';\r\n      case 'energy': return 'bg-indigo-100 text-indigo-800';\r\n      default: return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getLatestEntry = (type: string) => {\r\n    return healthEntries\r\n      .filter(entry => entry.type === type)\r\n      .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())[0];\r\n  };  return (\r\n    <div className=\"p-2 sm:p-4 md:p-6 space-y-4 md:space-y-6 min-h-[80vh]\">\r\n      <PageHeader\r\n        icon={Heart}\r\n        title=\"Health Tracking\"\r\n        date={selectedDate}\r\n        onDateChange={setSelectedDate}\r\n        action={\r\n          <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-3\">\r\n            <PersonSelector aria-label=\"Select person\" />\r\n            <PersonManager\r\n              people={people}\r\n              onPersonAdd={addPerson}\r\n              onPersonUpdate={updatePerson}\r\n              onPersonDelete={deletePerson}\r\n            />\r\n            <Button\r\n              onClick={() => setShowAddForm(true)}\r\n              className=\"flex items-center justify-center gap-2 focus-visible:ring-2 focus-visible:ring-primary\"\r\n              aria-label=\"Add Health Entry\"\r\n            >\r\n              <Plus className=\"h-4 w-4\" />\r\n              <span className=\"hidden sm:inline\">Add Health Entry</span>\r\n              <span className=\"sm:hidden\">Add Entry</span>\r\n            </Button>\r\n          </div>\r\n        }\r\n      />\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-2 sm:grid-cols-5 h-15 sm:h-auto\">\r\n          <TabsTrigger value=\"overview\" className=\"text-xs sm:text-sm\">Overview</TabsTrigger>\r\n          <TabsTrigger value=\"vitals\" className=\"text-xs sm:text-sm\">Vitals</TabsTrigger>\r\n          <TabsTrigger value=\"measurements\" className=\"text-xs sm:text-sm\">Measurements</TabsTrigger>\r\n          <TabsTrigger value=\"documents\" className=\"text-xs sm:text-sm\">Documents</TabsTrigger>\r\n          <TabsTrigger value=\"analytics\" className=\"text-xs sm:text-sm\">Analytics</TabsTrigger>\r\n        </TabsList>        <TabsContent value=\"overview\" className=\"space-y-4 md:space-y-6\">\r\n          {/* Quick Stats */}\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4\">\r\n            {['weight', 'blood-pressure', 'heart-rate', 'body-fat'].map((type) => {\r\n              const entry = getLatestEntry(type);\r\n              const healthType = healthTypes.find(t => t.value === type);\r\n              \r\n              return (\r\n                <Card key={type}>\r\n                  <CardContent className=\"p-3 md:p-4\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        {getEntryTypeIcon(type)}\r\n                        <span className=\"font-medium text-xs sm:text-sm\">{healthType?.label}</span>\r\n                      </div>\r\n                      <Badge variant=\"outline\" className={`${getEntryTypeColor(type)} text-xs`}>\r\n                        Latest\r\n                      </Badge>\r\n                    </div>\r\n                    <div className=\"mt-2\">\r\n                      {entry ? (\r\n                        <div>\r\n                          <span className=\"text-xl md:text-2xl font-bold\">{\r\n                            healthType?.value === 'weight' ? convertAndFormatWeight(entry.value) :\r\n                            healthType?.value === 'muscle_mass' ? convertAndFormatWeight(entry.value) :\r\n                            healthType?.value === 'temperature' ? convertAndFormatTemperature(entry.value) :\r\n                            healthType?.value === 'body_fat' ? `${entry.value}%` :\r\n                            entry.value\r\n                          }</span>\r\n                          <span className=\"text-xs sm:text-sm text-gray-500 ml-1\">{entry.unit}</span>\r\n                          <div className=\"text-xs text-gray-500 mt-1\">\r\n                            {format(new Date(entry.timestamp), 'MMM d, h:mm a')}\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <span className=\"text-gray-400 text-sm\">No data</span>\r\n                      )}\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {/* Today's Entries */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Calendar className=\"h-5 w-5\" />\r\n                Today's Health Entries\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {healthEntries.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <Activity className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                  <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No entries today</h3>\r\n                  <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Start tracking your health by adding your first entry.\r\n                  </p>\r\n                </div>              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {healthEntries.map((entry, index) => {\r\n                    const healthType = healthTypes.find(t => t.value === entry.type);\r\n                    return (\r\n                      <div key={index} className=\"flex flex-col sm:flex-row sm:items-center justify-between p-3 md:p-4 border border-gray-200 rounded-lg gap-3\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 sm:gap-3 flex-wrap\">\r\n                            {getEntryTypeIcon(entry.type)}\r\n                            <Badge className={`${getEntryTypeColor(entry.type)} text-xs`}>\r\n                              {healthTypes.find(t => t.value === entry.type)?.label}\r\n                            </Badge>\r\n                            <span className=\"font-medium text-sm sm:text-base\">{\r\n                              healthType?.value === 'weight' ? convertAndFormatWeight(entry.value) :\r\n                              healthType?.value === 'muscle_mass' ? convertAndFormatWeight(entry.value) :\r\n                              healthType?.value === 'temperature' ? convertAndFormatTemperature(entry.value) :\r\n                              healthType?.value === 'body_fat' ? `${entry.value}%` :\r\n                              entry.value\r\n                            } {entry.unit}</span>\r\n                          </div>\r\n                          <div className=\"mt-1 text-xs sm:text-sm text-gray-600\">\r\n                            {format(new Date(entry.timestamp), 'h:mm a')}\r\n                          </div>\r\n                          {entry.notes && (\r\n                            <p className=\"mt-1 text-xs sm:text-sm text-gray-500\">{entry.notes}</p>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2 self-end sm:self-auto\">\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleEdit(entry)}\r\n                            className=\"h-8\"\r\n                          >\r\n                            <Edit2 className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n                          </Button>                          <Button\r\n                            variant=\"outline\"\r\n                            size=\"sm\"\r\n                            onClick={() => handleDelete(entry)}\r\n                            className=\"h-8\"\r\n                          >\r\n                            <Trash2 className=\"h-3 w-3 sm:h-4 sm:w-4\" />\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>        <TabsContent value=\"vitals\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg sm:text-xl\">Vital Signs</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium flex items-center gap-2 text-sm sm:text-base\">\r\n                    <Heart className=\"h-4 w-4 text-red-500\" />\r\n                    Blood Pressure\r\n                  </h3>\r\n                  <div className=\"space-y-2\">\r\n                    <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                      <Input\r\n                        placeholder=\"Systolic\"\r\n                        type=\"number\"\r\n                        value={vitalForm.systolic || ''}\r\n                        onChange={(e) => setVitalForm({...vitalForm, systolic: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                      <Input\r\n                        placeholder=\"Diastolic\"\r\n                        type=\"number\"\r\n                        value={vitalForm.diastolic || ''}\r\n                        onChange={(e) => setVitalForm({...vitalForm, diastolic: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"text-xs sm:text-sm text-gray-500\">mmHg</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium flex items-center gap-2 text-sm sm:text-base\">\r\n                    <Heart className=\"h-4 w-4 text-pink-500\" />\r\n                    Heart Rate\r\n                  </h3>\r\n                  <div className=\"space-y-2\">\r\n                    <Input\r\n                      placeholder=\"Heart Rate\"\r\n                      type=\"number\"\r\n                      value={vitalForm.heartRate || ''}\r\n                      onChange={(e) => setVitalForm({...vitalForm, heartRate: Number(e.target.value)})}\r\n                      className=\"text-sm\"\r\n                    />\r\n                    <div className=\"text-xs sm:text-sm text-gray-500\">bpm</div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium flex items-center gap-2 text-sm sm:text-base\">\r\n                    <Thermometer className=\"h-4 w-4 text-orange-500\" />\r\n                    Temperature\r\n                  </h3>                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"temperature\" className=\"text-sm\">Temperature ({getTemperatureUnit() === 'celsius' ? '°C' : '°F'})</Label>\r\n                    <Input\r\n                      id=\"temperature\"\r\n                      placeholder=\"Temperature\"\r\n                      type=\"number\"\r\n                      step=\"0.1\"\r\n                      value={vitalForm.temperature || ''}\r\n                      onChange={(e) => setVitalForm({...vitalForm, temperature: Number(e.target.value)})}\r\n                      className=\"text-sm\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium flex items-center gap-2 text-sm sm:text-base\">\r\n                    <Droplets className=\"h-4 w-4 text-blue-500\" />\r\n                    Oxygen Saturation\r\n                  </h3>\r\n                  <div className=\"space-y-2\">\r\n                    <Input\r\n                      placeholder=\"O2 Saturation\"\r\n                      type=\"number\"\r\n                      value={vitalForm.oxygenSaturation || ''}\r\n                      onChange={(e) => setVitalForm({...vitalForm, oxygenSaturation: Number(e.target.value)})}\r\n                      className=\"text-sm\"\r\n                    />\r\n                    <div className=\"text-xs sm:text-sm text-gray-500\">%</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-4 sm:mt-6\">\r\n                <Label htmlFor=\"vitalNotes\" className=\"text-sm sm:text-base\">Notes</Label>\r\n                <Textarea\r\n                  id=\"vitalNotes\"\r\n                  value={vitalForm.notes}\r\n                  onChange={(e) => setVitalForm({...vitalForm, notes: e.target.value})}\r\n                  placeholder=\"Any additional notes about your vital signs...\"\r\n                  rows={3}\r\n                  className=\"text-sm\"\r\n                />\r\n              </div>              <Button className=\"mt-4 w-full sm:w-auto\" onClick={handleSaveVitalSigns} disabled={isLoading}>\r\n                {isLoading ? 'Saving...' : 'Save Vital Signs'}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>        <TabsContent value=\"measurements\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg sm:text-xl\">Body Measurements</CardTitle>\r\n            </CardHeader><CardContent>\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium text-sm sm:text-base\">Body Composition</h3>\r\n                  <div className=\"space-y-3\">                    <div>\r\n                      <Label htmlFor=\"weight\" className=\"text-sm\">Weight ({getWeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"weight\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.weight || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, weight: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"bodyFat\" className=\"text-sm\">Body Fat (%)</Label>\r\n                      <Input\r\n                        id=\"bodyFat\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.bodyFat || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, bodyFat: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>                    <div>\r\n                      <Label htmlFor=\"muscleMass\" className=\"text-sm\">Muscle Mass ({getWeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"muscleMass\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.muscleMass || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, muscleMass: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium text-sm sm:text-base\">Upper Body</h3>\r\n                  <div className=\"space-y-3\">                    <div>\r\n                      <Label htmlFor=\"chest\" className=\"text-sm\">Chest ({getHeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"chest\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.chest || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, chest: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"bicep\" className=\"text-sm\">Bicep ({getHeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"bicep\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.bicep || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, bicep: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"neck\" className=\"text-sm\">Neck ({getHeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"neck\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.neck || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, neck: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"space-y-3 sm:space-y-4\">\r\n                  <h3 className=\"font-medium text-sm sm:text-base\">Lower Body</h3>\r\n                  <div className=\"space-y-3\">                    <div>\r\n                      <Label htmlFor=\"waist\" className=\"text-sm\">Waist ({getHeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"waist\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.waist || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, waist: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"hips\" className=\"text-sm\">Hips ({getHeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"hips\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.hips || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, hips: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label htmlFor=\"thigh\" className=\"text-sm\">Thigh ({getHeightUnit()})</Label>\r\n                      <Input\r\n                        id=\"thigh\"\r\n                        type=\"number\"\r\n                        step=\"0.1\"\r\n                        value={measurementForm.thigh || ''}\r\n                        onChange={(e) => setMeasurementForm({...measurementForm, thigh: Number(e.target.value)})}\r\n                        className=\"text-sm\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-4 sm:mt-6\">\r\n                <Label htmlFor=\"measurementNotes\" className=\"text-sm sm:text-base\">Notes</Label>\r\n                <Textarea\r\n                  id=\"measurementNotes\"\r\n                  value={measurementForm.notes}\r\n                  onChange={(e) => setMeasurementForm({...measurementForm, notes: e.target.value})}\r\n                  placeholder=\"Any additional notes about your measurements...\"\r\n                  rows={3}\r\n                  className=\"text-sm\"\r\n                />\r\n              </div>              <Button className=\"mt-4 w-full sm:w-auto\" onClick={handleSaveBodyMeasurements} disabled={isLoading}>\r\n                {isLoading ? 'Saving...' : 'Save Measurements'}\r\n              </Button>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"documents\" className=\"space-y-4 md:space-y-6\">\r\n          {/* Folder Configuration */}\r\n          <FolderConfiguration />\r\n          \r\n          {/* Document Upload */}\r\n          <DocumentUpload />\r\n          \r\n          {/* Document List */}\r\n          <DocumentList />\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"analytics\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Health Analytics</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center py-8\">\r\n                <TrendingUp className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Health Analytics</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  View trends and insights from your health data over time.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>      {/* Add/Edit Form Modal */}\r\n      {showAddForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-3 sm:p-4 z-50\">\r\n          <Card className=\"w-full max-w-sm sm:max-w-md max-h-[95vh] sm:max-h-[90vh] overflow-y-auto\">\r\n            <CardHeader className=\"pb-3 sm:pb-6\">\r\n              <CardTitle className=\"text-lg sm:text-xl\">\r\n                {editingEntry ? 'Edit Health Entry' : 'Add Health Entry'}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <form onSubmit={handleSubmit} className=\"space-y-3 sm:space-y-4\">\r\n                <div>\r\n                  <Label htmlFor=\"type\" className=\"text-sm sm:text-base\">Type</Label>                  <Select \r\n                    value={formData.type} \r\n                    onValueChange={(value: HealthEntry['type']) => {\r\n                      const healthType = healthTypes.find(t => t.value === value);\r\n                      setFormData({ \r\n                        ...formData, \r\n                        type: value,\r\n                        unit: healthType?.unit || ''\r\n                      });\r\n                    }}\r\n                  >\r\n                    <SelectTrigger className=\"text-sm\">\r\n                      <SelectValue placeholder=\"Select health metric\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      {healthTypes.map((type) => (\r\n                        <SelectItem key={type.value} value={type.value} className=\"text-sm\">\r\n                          {type.label}\r\n                        </SelectItem>\r\n                      ))}\r\n                    </SelectContent>\r\n                  </Select>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"value\" className=\"text-sm sm:text-base\">Value</Label>\r\n                  <div className=\"flex gap-2\">\r\n                    <Input\r\n                      id=\"value\"\r\n                      type=\"number\"\r\n                      value={formData.value}\r\n                      onChange={(e) => setFormData({ ...formData, value: Number(e.target.value) })}\r\n                      placeholder=\"Enter value\"\r\n                      required\r\n                      className=\"flex-1 text-sm\"\r\n                    />\r\n                    {formData.unit && (\r\n                      <div className=\"flex items-center px-2 sm:px-3 border border-gray-300 rounded-md bg-gray-50\">\r\n                        <span className=\"text-xs sm:text-sm text-gray-600\">{formData.unit}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"notes\" className=\"text-sm sm:text-base\">Notes (optional)</Label>\r\n                  <Textarea\r\n                    id=\"notes\"\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                    placeholder=\"Any additional notes...\"\r\n                    rows={3}\r\n                    className=\"text-sm\"\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex flex-col sm:flex-row gap-2 pt-3 sm:pt-4\">\r\n                  <Button type=\"submit\" disabled={isLoading} className=\"flex-1 text-sm sm:text-base\">\r\n                    {isLoading ? 'Saving...' : editingEntry ? 'Update Entry' : 'Add Entry'}\r\n                  </Button>\r\n                  <Button type=\"button\" variant=\"outline\" onClick={resetForm} className=\"text-sm sm:text-base\">\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HealthTrackingPage;\r\n","import React, { useState, useEffect, useMemo } from 'react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Plus, Brain, Clock, Sparkles, Calendar, Play, Pause, RotateCcw, Edit2, Trash2 } from 'lucide-react';\r\nimport { toast } from 'sonner';\r\nimport { useHealthStore } from '@/store/healthStore';\r\nimport { MeditationEntry as StoreMeditationEntry } from '@/types/Health';\r\nimport { format } from 'date-fns';\r\nimport { PageHeader } from '@/components/ui/PageHeader';\r\n\r\n// Use store type directly\r\ntype MeditationEntry = StoreMeditationEntry;\r\n\r\ninterface MeditationSession {\r\n  duration: number;\r\n  type: string;\r\n  isActive: boolean;\r\n  startTime?: Date;\r\n  timeLeft: number;\r\n}\r\n\r\nconst MeditationPage: React.FC = () => {\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showAddForm, setShowAddForm] = useState(false);\r\n  const [editingEntry, setEditingEntry] = useState<MeditationEntry | null>(null);\r\n  const [selectedDate, setSelectedDate] = useState(format(new Date(), 'yyyy-MM-dd'));\r\n  const [activeTab, setActiveTab] = useState('today');\r\n\r\n  // Timer state\r\n  const [session, setSession] = useState<MeditationSession>({\r\n    duration: 10,\r\n    type: 'mindfulness',\r\n    isActive: false,\r\n    timeLeft: 10 * 60 // 10 minutes in seconds\r\n  });\r\n  const [formData, setFormData] = useState<MeditationEntry>({\r\n    id: '',\r\n    personId: 'self',\r\n    date: selectedDate,\r\n    type: 'mindfulness',\r\n    duration: 0,\r\n    moodBefore: 5,\r\n    moodAfter: 5,\r\n    stressBefore: 5,\r\n    stressAfter: 5,\r\n    guided: false,\r\n    notes: '',\r\n    timestamp: new Date().toISOString()\r\n  });\r\n\r\n  const meditationTypes = [\r\n    { value: 'mindfulness', label: 'Mindfulness', description: 'Present moment awareness' },\r\n    { value: 'breathing', label: 'Breathing', description: 'Focus on breath' },\r\n    { value: 'body-scan', label: 'Body Scan', description: 'Progressive relaxation' },\r\n    { value: 'loving-kindness', label: 'Loving Kindness', description: 'Compassion meditation' },\r\n    { value: 'visualization', label: 'Visualization', description: 'Guided imagery' },\r\n    { value: 'walking', label: 'Walking', description: 'Mindful movement' },\r\n    { value: 'mantra', label: 'Mantra', description: 'Repetitive phrases' },\r\n    { value: 'custom', label: 'Other', description: 'Custom practice' }\r\n  ];\r\n  const quickDurations = [5, 10, 15, 20, 30, 45, 60];\r\n\r\n  // Use health store instead of direct API calls\r\n  const { \r\n    meditationEntries, \r\n    isLoading: storeLoading, \r\n    isInitialized, \r\n    fetchAllHealthData,\r\n    addMeditationEntry,\r\n    updateMeditationEntryAction,\r\n    deleteMeditationEntryAction\r\n  } = useHealthStore();\r\n  // Filter entries for selected date using memoized computed value\r\n  const entries = useMemo(() => \r\n    meditationEntries.filter(entry => entry.date === selectedDate),\r\n    [meditationEntries, selectedDate]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (!isInitialized) {\r\n      fetchAllHealthData();\r\n    }\r\n  }, [isInitialized, fetchAllHealthData]);\r\n\r\n  // Update local loading state based on store loading\r\n  useEffect(() => {\r\n    setIsLoading(storeLoading);\r\n  }, [storeLoading]);\r\n\r\n  // Timer effect\r\n  useEffect(() => {\r\n    let interval: NodeJS.Timeout;\r\n    \r\n    if (session.isActive && session.timeLeft > 0) {\r\n      interval = setInterval(() => {\r\n        setSession(prev => ({\r\n          ...prev,\r\n          timeLeft: prev.timeLeft - 1\r\n        }));\r\n      }, 1000);\r\n    } else if (session.timeLeft === 0 && session.isActive) {\r\n      // Session completed\r\n      setSession(prev => ({ ...prev, isActive: false }));\r\n      toast.success(`Great job! You meditated for ${session.duration} minutes.`, {\r\n        description: \"Meditation Complete! 🧘‍♀️\"\r\n      });\r\n    }\r\n\r\n    return () => clearInterval(interval);\r\n  }, [session.isActive, session.timeLeft, session.duration]);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n\r\n    try {\r\n      if (editingEntry?.id) {\r\n        await updateMeditationEntryAction(editingEntry.id, formData);\r\n        toast.success(\"Meditation entry updated successfully!\");\r\n      } else {\r\n        await addMeditationEntry(formData);\r\n        toast.success(\"Meditation entry added successfully!\");\r\n      }\r\n      resetForm();\r\n      // Data will be automatically updated in the store\r\n    } catch (error) {\r\n      console.error('Error saving meditation entry:', error);\r\n      toast.error(\"Failed to save meditation entry. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (entry: MeditationEntry) => {\r\n    setEditingEntry(entry);\r\n    setFormData(entry);\r\n    setShowAddForm(true);\r\n  };\r\n  const handleDelete = async (entry: MeditationEntry) => {\r\n    if (!confirm('Are you sure you want to delete this entry?')) return;\r\n\r\n    setIsLoading(true);\r\n    try {\r\n      if (entry.id) {\r\n        await deleteMeditationEntryAction(entry.id);\r\n        toast.success(\"Meditation entry deleted successfully!\");\r\n        // Data will be automatically updated in the store\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting meditation entry:', error);\r\n      toast.error(\"Failed to delete meditation entry. Please try again.\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n  const resetForm = () => {\r\n    setFormData({\r\n      id: '',\r\n      personId: 'self',\r\n      date: selectedDate,\r\n      type: 'mindfulness',\r\n      duration: 0,\r\n      moodBefore: 5,\r\n      moodAfter: 5,\r\n      stressBefore: 5,\r\n      stressAfter: 5,\r\n      guided: false,\r\n      notes: '',\r\n      timestamp: new Date().toISOString()\r\n    });\r\n    setEditingEntry(null);\r\n    setShowAddForm(false);\r\n  };\r\n\r\n  const startTimer = () => {\r\n    setSession(prev => ({\r\n      ...prev,\r\n      isActive: true,\r\n      startTime: new Date(),\r\n      timeLeft: prev.duration * 60\r\n    }));\r\n  };\r\n\r\n  const pauseTimer = () => {\r\n    setSession(prev => ({ ...prev, isActive: false }));\r\n  };\r\n\r\n  const resetTimer = () => {\r\n    setSession(prev => ({\r\n      ...prev,\r\n      isActive: false,\r\n      timeLeft: prev.duration * 60\r\n    }));\r\n  };\r\n\r\n  const formatTime = (seconds: number) => {\r\n    const mins = Math.floor(seconds / 60);\r\n    const secs = seconds % 60;\r\n    return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\r\n  };\r\n\r\n  const getMoodEmoji = (mood: number) => {\r\n    if (mood <= 2) return '😟';\r\n    if (mood <= 4) return '😐';\r\n    if (mood <= 6) return '🙂';\r\n    if (mood <= 8) return '😊';\r\n    return '😄';\r\n  };\r\n\r\n  const getStressColor = (stress: number) => {\r\n    if (stress <= 3) return 'text-green-600';\r\n    if (stress <= 6) return 'text-yellow-600';\r\n    return 'text-red-600';\r\n  };\r\n\r\n  const calculateTotalTime = () => {\r\n    return entries.reduce((total, entry) => total + entry.duration, 0);\r\n  };\r\n  const calculateAverages = () => {\r\n    if (entries.length === 0) return { mood: 0, stress: 0 };\r\n    return {\r\n      mood: entries.reduce((sum, entry) => sum + entry.moodAfter, 0) / entries.length,\r\n      stress: entries.reduce((sum, entry) => sum + entry.stressAfter, 0) / entries.length\r\n    };\r\n  };\r\n\r\n  const todayStats = calculateAverages();\r\n\r\n  return (\r\n    <div className=\"p-2 sm:p-4 md:p-6 space-y-4 md:space-y-6 min-h-[80vh]\">\r\n      <PageHeader\r\n        icon={Brain}\r\n        title=\"Meditation & Mindfulness\"\r\n        date={selectedDate}\r\n        onDateChange={setSelectedDate}\r\n        action={\r\n          <Button onClick={() => setShowAddForm(true)} aria-label=\"Log Session\">\r\n            <Plus className=\"h-4 w-4\" /> Log Session\r\n          </Button>\r\n        }\r\n      />\r\n\r\n      <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n        <TabsList className=\"grid w-full grid-cols-4\">\r\n          <TabsTrigger value=\"today\">Today</TabsTrigger>\r\n          <TabsTrigger value=\"timer\">Meditation Timer</TabsTrigger>\r\n          <TabsTrigger value=\"history\">History</TabsTrigger>\r\n          <TabsTrigger value=\"insights\">Insights</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"today\" className=\"space-y-6\">\r\n          {/* Today's Stats */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <Card>\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Clock className=\"h-4 w-4 text-blue-500\" />\r\n                  <span className=\"font-medium text-sm\">Total Time</span>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  <span className=\"text-2xl font-bold\">{calculateTotalTime()}</span>\r\n                  <span className=\"text-sm text-gray-500 ml-1\">minutes</span>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Brain className=\"h-4 w-4 text-green-500\" />\r\n                  <span className=\"font-medium text-sm\">Sessions</span>\r\n                </div>\r\n                <div className=\"mt-2\">\r\n                  <span className=\"text-2xl font-bold\">{entries.length}</span>\r\n                  <span className=\"text-sm text-gray-500 ml-1\">today</span>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card>\r\n              <CardContent className=\"p-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Sparkles className=\"h-4 w-4 text-purple-500\" />\r\n                  <span className=\"font-medium text-sm\">Avg. Mood</span>\r\n                </div>\r\n                <div className=\"mt-2 flex items-center gap-2\">\r\n                  <span className=\"text-2xl font-bold\">{todayStats.mood.toFixed(1)}</span>\r\n                  <span className=\"text-lg\">{getMoodEmoji(todayStats.mood)}</span>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </div>\r\n\r\n          {/* Today's Sessions */}\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle className=\"flex items-center gap-2\">\r\n                <Calendar className=\"h-5 w-5\" />\r\n                Today's Meditation Sessions\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              {entries.length === 0 ? (\r\n                <div className=\"text-center py-8\">\r\n                  <Brain className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                  <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No sessions today</h3>\r\n                  <p className=\"mt-1 text-sm text-gray-500\">\r\n                    Start your mindfulness journey by logging your first meditation session.\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-4\">\r\n                  {entries.map((entry, index) => (\r\n                    <div key={index} className=\"flex items-center justify-between p-4 border border-gray-200 rounded-lg\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <Badge variant=\"outline\" className=\"bg-purple-100 text-purple-800\">\r\n                            {meditationTypes.find(t => t.value === entry.type)?.label}\r\n                          </Badge>\r\n                          <span className=\"font-medium\">{entry.duration} minutes</span>\r\n                          {entry.guided && (\r\n                            <Badge variant=\"secondary\" className=\"text-xs\">\r\n                              Guided\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"mt-2 text-sm text-gray-600 grid grid-cols-2 md:grid-cols-3 gap-4\">\r\n                          <span>Mood: {getMoodEmoji(entry.moodBefore)} → {getMoodEmoji(entry.moodAfter)}</span>\r\n                          <span className={getStressColor(entry.stressAfter)}>\r\n                            Stress: {entry.stressBefore} → {entry.stressAfter}\r\n                          </span>\r\n                          <span>{entry.timestamp && format(new Date(entry.timestamp), 'h:mm a')}</span>\r\n                        </div>\r\n                        {entry.notes && (\r\n                          <p className=\"mt-1 text-sm text-gray-500\">{entry.notes}</p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleEdit(entry)}\r\n                        >\r\n                          <Edit2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={() => handleDelete(entry)}\r\n                        >\r\n                          <Trash2 className=\"h-4 w-4\" />\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"timer\">\r\n          <Card className=\"max-w-md mx-auto\">\r\n            <CardHeader className=\"text-center\">\r\n              <CardTitle>Meditation Timer</CardTitle>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-6\">\r\n              {/* Timer Display */}\r\n              <div className=\"text-center\">\r\n                <div className=\"text-6xl font-bold text-purple-600 mb-4\">\r\n                  {formatTime(session.timeLeft)}\r\n                </div>\r\n                <div className=\"text-lg text-gray-600 mb-6\">\r\n                  {meditationTypes.find(t => t.value === session.type)?.label} Meditation\r\n                </div>\r\n              </div>\r\n\r\n              {/* Duration Selection */}\r\n              {!session.isActive && (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <Label>Duration (minutes)</Label>\r\n                    <div className=\"grid grid-cols-4 gap-2 mt-2\">\r\n                      {quickDurations.map((duration) => (\r\n                        <Button\r\n                          key={duration}\r\n                          variant={session.duration === duration ? \"default\" : \"outline\"}\r\n                          size=\"sm\"\r\n                          onClick={() => setSession(prev => ({ \r\n                            ...prev, \r\n                            duration, \r\n                            timeLeft: duration * 60 \r\n                          }))}\r\n                        >\r\n                          {duration}m\r\n                        </Button>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label>Meditation Type</Label>\r\n                    <Select \r\n                      value={session.type} \r\n                      onValueChange={(value) => setSession(prev => ({ ...prev, type: value }))}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {meditationTypes.map((type) => (\r\n                          <SelectItem key={type.value} value={type.value}>\r\n                            {type.label}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Timer Controls */}\r\n              <div className=\"flex justify-center gap-4\">\r\n                {!session.isActive ? (\r\n                  <Button onClick={startTimer} size=\"lg\" className=\"flex items-center gap-2\">\r\n                    <Play className=\"h-5 w-5\" />\r\n                    Start\r\n                  </Button>\r\n                ) : (\r\n                  <Button onClick={pauseTimer} size=\"lg\" variant=\"outline\" className=\"flex items-center gap-2\">\r\n                    <Pause className=\"h-5 w-5\" />\r\n                    Pause\r\n                  </Button>\r\n                )}\r\n                <Button onClick={resetTimer} size=\"lg\" variant=\"outline\" className=\"flex items-center gap-2\">\r\n                  <RotateCcw className=\"h-5 w-5\" />\r\n                  Reset\r\n                </Button>\r\n              </div>\r\n\r\n              {/* Quick Log Button */}\r\n              {session.timeLeft === 0 && (\r\n                <Button\r\n                  onClick={() => {\r\n                    setFormData({\r\n                      ...formData,\r\n                      type: session.type as MeditationEntry['type'],\r\n                      duration: session.duration\r\n                    });\r\n                    setShowAddForm(true);\r\n                  }}\r\n                  className=\"w-full\"\r\n                >\r\n                  Log This Session\r\n                </Button>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"history\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Meditation History</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center py-8\">\r\n                <Calendar className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Meditation History</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  View your meditation practice over time.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"insights\">\r\n          <Card>\r\n            <CardHeader>\r\n              <CardTitle>Meditation Insights</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"text-center py-8\">\r\n                <Sparkles className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Meditation Insights</h3>\r\n                <p className=\"mt-1 text-sm text-gray-500\">\r\n                  Discover patterns and insights from your meditation practice.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      {/* Add/Edit Form Modal */}\r\n      {showAddForm && (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n          <Card className=\"w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <CardHeader>\r\n              <CardTitle>\r\n                {editingEntry ? 'Edit Meditation Session' : 'Log Meditation Session'}\r\n              </CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"type\">Meditation Type</Label>\r\n                    <Select \r\n                      value={formData.type} \r\n                      onValueChange={(value: MeditationEntry['type']) => setFormData({ ...formData, type: value })}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {meditationTypes.map((type) => (\r\n                          <SelectItem key={type.value} value={type.value}>\r\n                            <div>\r\n                              <div>{type.label}</div>\r\n                              <div className=\"text-xs text-gray-500\">{type.description}</div>\r\n                            </div>\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"duration\">Duration (minutes)</Label>\r\n                    <Input\r\n                      id=\"duration\"\r\n                      type=\"number\"\r\n                      value={formData.duration}\r\n                      onChange={(e) => setFormData({ ...formData, duration: Number(e.target.value) })}\r\n                      min=\"1\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"moodBefore\">Mood Before (1-10)</Label>\r\n                    <Input\r\n                      id=\"moodBefore\"\r\n                      type=\"number\"\r\n                      value={formData.moodBefore}\r\n                      onChange={(e) => setFormData({ ...formData, moodBefore: Number(e.target.value) })}\r\n                      min=\"1\"\r\n                      max=\"10\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"moodAfter\">Mood After (1-10)</Label>\r\n                    <Input\r\n                      id=\"moodAfter\"\r\n                      type=\"number\"\r\n                      value={formData.moodAfter}\r\n                      onChange={(e) => setFormData({ ...formData, moodAfter: Number(e.target.value) })}\r\n                      min=\"1\"\r\n                      max=\"10\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <Label htmlFor=\"stressBefore\">Stress Before (1-10)</Label>\r\n                    <Input\r\n                      id=\"stressBefore\"\r\n                      type=\"number\"\r\n                      value={formData.stressBefore}\r\n                      onChange={(e) => setFormData({ ...formData, stressBefore: Number(e.target.value) })}\r\n                      min=\"1\"\r\n                      max=\"10\"\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"stressAfter\">Stress After (1-10)</Label>\r\n                    <Input\r\n                      id=\"stressAfter\"\r\n                      type=\"number\"\r\n                      value={formData.stressAfter}\r\n                      onChange={(e) => setFormData({ ...formData, stressAfter: Number(e.target.value) })}\r\n                      min=\"1\"\r\n                      max=\"10\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"guided\"\r\n                    checked={formData.guided}\r\n                    onChange={(e) => setFormData({ ...formData, guided: e.target.checked })}\r\n                    className=\"rounded\"\r\n                  />\r\n                  <Label htmlFor=\"guided\">Guided meditation</Label>\r\n                </div>\r\n\r\n                <div>\r\n                  <Label htmlFor=\"notes\">Notes (optional)</Label>\r\n                  <Textarea\r\n                    id=\"notes\"\r\n                    value={formData.notes}\r\n                    onChange={(e) => setFormData({ ...formData, notes: e.target.value })}\r\n                    placeholder=\"How did the session go? Any insights or observations...\"\r\n                    rows={3}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"flex gap-2 pt-4\">\r\n                  <Button type=\"submit\" disabled={isLoading} className=\"flex-1\">\r\n                    {isLoading ? 'Saving...' : editingEntry ? 'Update Session' : 'Log Session'}\r\n                  </Button>\r\n                  <Button type=\"button\" variant=\"outline\" onClick={resetForm}>\r\n                    Cancel\r\n                  </Button>\r\n                </div>\r\n              </form>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MeditationPage;\r\n","import React from 'react';\r\nimport { useNavigation } from '@/hooks/useConsolidatedApp';\r\nimport { DashboardMainContent } from './DashboardMainContent';\r\nimport { WorkoutsContent } from './WorkoutsContent';\r\nimport { ScheduleContent } from './ScheduleContent';\r\nimport { StatsContent } from './StatsContent';\r\nimport { ProfileContent } from './ProfileContent';\r\nimport { SettingsContent } from './SettingsContent';\r\nimport MuscleFatiguePage from '@/views/MuscleFatiguePage';\r\nimport SleepTrackingPage from '@/views/SleepTrackingPage';\r\nimport NutritionPage from '@/views/NutritionPage';\r\nimport MealPlanningPage from '@/views/MealPlanningPage';\r\nimport HealthTrackingPage from '@/views/HealthTrackingPage';\r\nimport MeditationPage from '@/views/MeditationPage';\r\nimport TodosPage from '@/views/TodosPage';\r\n\r\nexport const ViewContent: React.FC = () => {\r\n  const { currentView } = useNavigation();  // Return different content based on currentView\r\n  switch (currentView) {\r\n    case 'dashboard':\r\n      return <DashboardMainContent />;\r\n    case 'workouts':\r\n      return <WorkoutsContent />;\r\n    case 'schedule':\r\n      return <ScheduleContent />;\r\n    case 'stats':\r\n      return <StatsContent />;\r\n    case 'profile':\r\n      return <ProfileContent />;\r\n    case 'settings':\r\n      return <SettingsContent />;\r\n    case 'todos':\r\n      return <TodosPage />;\r\n    case 'muscleFatigue':\r\n      return <MuscleFatiguePage />;\r\n    case 'sleep-tracking':\r\n      return <SleepTrackingPage />;\r\n    case 'nutrition':\r\n      return <NutritionPage />;\r\n    case 'meal-planning':\r\n      return <MealPlanningPage />;\r\n    case 'health-tracking':\r\n      return <HealthTrackingPage />;\r\n    case 'meditation':\r\n      return <MeditationPage />;\r\n    default:\r\n      return <DashboardMainContent />;\r\n  }\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport { DashboardLayout } from '@/components/DashboardLayout';\r\nimport { useConsolidatedApp } from '@/hooks/useConsolidatedApp';\r\nimport { ViewContent } from '../components/dashboard/ViewContent';\r\nimport AuthTest from '../components/AuthTest';\r\n\r\n// The main DashboardPage component that wraps content in the layout\r\nconst DashboardPage: React.FC = () => {\r\n  const { exercisesStore } = useConsolidatedApp();\r\n  const { fetchExercises } = exercisesStore;\r\n\r\n  useEffect(() => {\r\n    fetchExercises();\r\n  }, [fetchExercises]);\r\n  return (\r\n    <DashboardLayout>\r\n      <ViewContent />\r\n    </DashboardLayout>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;\r\n"],"names":["__iconNode","ArrowDownWideNarrow","createLucideIcon","ArrowDown","ArrowRight","ArrowUpNarrowWide","ArrowUp","Award","ChartLine","ChartNoAxesColumn","ChefHat","CirclePlus","Circle","Copy","Download","Droplets","EllipsisVertical","File","FolderOpen","Funnel","Image","LoaderCircle","Lock","Mail","Minus","PanelsTopLeft","Pause","Play","Sparkles","Thermometer","TrendingDown","Upload","Utensils","Weight","SWITCH_NAME","createSwitchContext","createSwitchScope","createContextScope","SwitchProvider","useSwitchContext","Switch","React.forwardRef","props","forwardedRef","__scopeSwitch","name","checkedProp","defaultChecked","required","disabled","value","onCheckedChange","form","switchProps","button","setButton","React.useState","composedRefs","useComposedRefs","node","hasConsumerStoppedPropagationRef","React.useRef","isFormControl","checked","setChecked","useControllableState","jsxs","jsx","Primitive","getState","composeEventHandlers","event","prevChecked","SwitchBubbleInput","THUMB_NAME","SwitchThumb","thumbProps","context","BUBBLE_INPUT_NAME","control","bubbles","ref","usePrevious","controlSize","useSize","React.useEffect","input","inputProto","Root","Thumb","className","SwitchPrimitives.Root","cn","SwitchPrimitives.Thumb","defaultCards","useDashboardCustomization","create","persist","set","get","cardId","state","card","DashboardCustomizationToolbar","cards","toggleCardVisibility","resetToDefault","isOpen","setIsOpen","useState","handleResetToDefault","toast","visibleCards","hiddenCards","cardsByCategory","acc","Card","CardHeader","Settings","CardTitle","Badge","Button","RotateCcw","Layout","CardContent","Eye","EyeOff","ScrollArea","category","categoryCards","c","StatCard","title","description","icon","trend","responsiveStyles","CardFooter","TotalWorkoutsCard","workoutLogs","useWorkoutLogs","totalWorkouts","useMemo","getTotalWorkouts","BarChart2","WeeklyAverageCard","weeklyAverage","getWeeklyAverageWorkouts","TrendingUp","WeightLiftedCard","convertAndFormatWeight","useMetricConversion","totalWeightThisMonth","getTotalWeightLifted","Dumbbell","PersonalRecordsCard","personalRecords","getPersonalRecordsCount","newPRsThisMonth","getNewPRsThisMonth","_excluded","_extends","target","i","source","key","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","o","minLen","_arrayLikeToArray","iter","len","arr2","isValidatePoint","point","getParsedPoints","points","segmentPoints","entry","getSinglePolygonPath","connectNulls","res","segPoints","polygonPath","path","index","getRanglePath","baseLinePoints","outerPath","Polygon","others","layerClass","clsx","hasStroke","rangePath","React","filterProps","singlePath","_typeof","ownKeys","r","t","_objectSpread","_defineProperty","obj","_toPropertyKey","_toPrimitive","e","getPolygonPath","radius","cx","cy","polarAngles","angle","polarToCartesian","PolarAngles","innerRadius","outerRadius","radialLines","polarAnglesProps","start","end","ConcentricCircle","concentricCircleProps","ConcentricPolygon","concentricPolygonProps","ConcentricPath","polarRadius","gridType","PolarGrid","_ref","_ref$cx","_ref$cy","_ref$innerRadius","_ref$outerRadius","_ref$gridType","_ref$radialLines","baseExtremum","require$$0","baseGt","require$$1","baseIteratee","require$$2","maxBy","array","iteratee","maxBy_1","baseLt","minBy","minBy_1","_excluded2","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","self","call","_assertThisInitialized","_inherits","subClass","superClass","_setPrototypeOf","p","PolarRadiusAxis","_PureComponent","coordinate","_this$props","orientation","textAnchor","_this$props2","ticks","maxRadiusTick","minRadiusTick","_this$props3","axisLine","extent","result","point0","point1","_this","_this$props4","tick","tickFormatter","stroke","axisProps","customTickProps","items","coord","tickProps","Layer","getTickClassName","adaptEventsOfChild","_this$props5","Label","option","tickItem","isFunction","Text","PureComponent","RADIAN","eps","PolarAngleAxis","data","tickSize","tickLineSize","p1","p2","cos","axisLineType","Dot","tickLine","tickLineProps","lineCoord","head","head_1","first","Radar","_len","args","_key","onAnimationEnd","onAnimationStart","onMouseEnter","onMouseLeave","dot","dataKey","baseProps","customDotProps","dots","dotProps","shape","isRange","radar","_this2","isAnimationActive","animationBegin","animationDuration","animationEasing","animationId","prevPoints","Animate","prevPointsDiffFactor","stepData","prev","_interpolatorX","interpolateNumber","_interpolatorY","interpolatorX","interpolatorY","isEqual","hide","isAnimationFinished","LabelList","nextProps","prevState","dotItem","Global","_ref2","radiusAxis","angleAxis","displayedData","bandSize","angleBandSize","getValueByDataKey","pointValue","last","isNil","baseValue","_Area","Area","uniqueId","needClip","clipDot","clipPathId","areaProps","dotsProps","alpha","baseLine","strokeWidth","startX","endX","width","maxY","max","isNumber","startY","endY","height","maxX","layout","type","Curve","_this$state","prevBaseLine","stepPoints","prevPointIndex","stepBaseLine","interpolator","isNan","_interpolator","_this$props6","_this$state2","totalLength","_filterProps","_this$props7","top","left","xAxis","yAxis","id","hasSinglePoint","needClipX","needClipY","_ref2$r","_ref2$strokeWidth","_ref3","hasClipDot","_ref3$clipDot","dotSize","item","chartBaseValue","itemBaseValue","numericAxis","domain","domainMax","domainMin","_ref4","xAxisTicks","yAxisTicks","stackedData","dataStartIndex","offset","hasStack","isHorizontalLayout","isBreakPoint","getCateCoordinateOfLine","x","rest","RadarChart","generateCategoricalChart","formatAxisMap","AreaChart","XAxis","YAxis","millisecondsInWeek","millisecondsInDay","constructFromSymbol","constructFrom","date","toDate","argument","addDays","amount","options","_date","defaultOptions","getDefaultOptions","startOfWeek","weekStartsOn","_b","_a","_d","_c","day","diff","startOfISOWeek","getISOWeekYear","year","fourthOfJanuaryOfNextYear","startOfNextYear","fourthOfJanuaryOfThisYear","startOfThisYear","getTimezoneOffsetInMilliseconds","utcDate","normalizeDates","dates","normalize","startOfDay","differenceInCalendarDays","laterDate","earlierDate","laterDate_","earlierDate_","laterStartOfDay","earlierStartOfDay","laterTimestamp","earlierTimestamp","startOfISOWeekYear","fourthOfJanuary","isDate","isValid","startOfYear","date_","formatDistanceLocale","formatDistance","token","count","tokenValue","buildFormatLongFn","dateFormats","timeFormats","dateTimeFormats","formatLong","formatRelativeLocale","formatRelative","_baseDate","_options","buildLocalizeFn","valuesArray","defaultWidth","eraValues","quarterValues","monthValues","dayValues","dayPeriodValues","formattingDayPeriodValues","ordinalNumber","dirtyNumber","number","rem100","localize","quarter","buildMatchFn","string","matchPattern","matchResult","matchedString","parsePatterns","findIndex","pattern","findKey","object","predicate","buildMatchPatternFn","parseResult","matchOrdinalNumberPattern","parseOrdinalNumberPattern","matchEraPatterns","parseEraPatterns","matchQuarterPatterns","parseQuarterPatterns","matchMonthPatterns","parseMonthPatterns","matchDayPatterns","parseDayPatterns","matchDayPeriodPatterns","parseDayPeriodPatterns","match","enUS","getDayOfYear","getISOWeek","getWeekYear","firstWeekContainsDate","firstWeekOfNextYear","firstWeekOfThisYear","startOfWeekYear","firstWeek","getWeek","addLeadingZeros","targetLength","sign","output","lightFormatters","signedYear","month","dayPeriodEnumValue","numberOfDigits","milliseconds","fractionalSeconds","dayPeriodEnum","formatters","era","signedWeekYear","weekYear","twoDigitYear","isoWeekYear","week","isoWeek","dayOfYear","dayOfWeek","localDayOfWeek","isoDayOfWeek","hours","_localize","timezoneOffset","formatTimezoneWithOptionalMinutes","formatTimezone","formatTimezoneShort","timestamp","delimiter","absOffset","minutes","dateLongFormatter","timeLongFormatter","dateTimeLongFormatter","datePattern","timePattern","dateTimeFormat","longFormatters","dayOfYearTokenRE","weekYearTokenRE","throwTokens","isProtectedDayOfYearToken","isProtectedWeekYearToken","warnOrThrowProtectedError","format","_message","message","subject","formattingTokensRegExp","longFormattingTokensRegExp","escapedStringRegExp","doubleQuoteRegExp","unescapedLatinCharacterRegExp","formatStr","locale","defaultLocale","originalDate","parts","substring","firstCharacter","longFormatter","cleanEscapedString","formatterOptions","part","formatter","matched","CHART_COLORS","COMMON_TOOLTIP_PROPS","useChartTheme","theme","useTheme","isDarkMode","calculateFatigueAndProgressionByDate","logs","uniqueDates","log","dateLogs","dailyVolume","sum","progression","previousDate","previousLogs","currentAvgWeight","previousAvgWeight","currentDateObj","last7Days","recentLogs","logDate","dailyVolumes","volume","peakDailyVolume","fatigue","FatigueProgressionByDateChart","chartTheme","CardDescription","ResponsiveContainer","CartesianGrid","str","Tooltip","Legend","WorkoutChartsDashboard","isLoading","error","_","ProgressionByMuscleChart","MuscleGroupVolumeDistributionRadarChart","processMuscleGroupWeightDistributionData","muscleGroupVolume","totalVolume","group","muscleGroup","a","b","calculateWeightProgressionByMuscle","groupLogs","sortedLogs","firstSession","recentSession","firstAvgWeight","recentAvgWeight","BarChart","Bar","Cell","ProgressionByMuscleCard","MuscleGroupVolumeCard","FatigueProgressionCard","NewWorkoutActionCard","handleOpenWorkoutModal","PlusCircle","AnalyticsActionCard","handleAnalyticsClick","LineChart","SetGoalsActionCard","handleSetGoalsClick","Activity","createColumnHelper","accessor","column","functionalUpdate","updater","makeStateUpdater","old","d","isNumberArray","val","flattenBy","getChildren","flat","recurse","subArr","children","memo","getDeps","fn","opts","deps","depArgs","depTime","newDeps","dep","resultTime","depEndTime","resultEndTime","resultFpsPercentage","pad","num","getMemoOptions","tableOptions","debugLevel","onChange","_tableOptions$debugAl","createCell","table","row","columnId","getRenderValue","_cell$getValue","cell","feature","createColumn","columnDef","depth","parent","_resolvedColumnDef$id","resolvedColumnDef","accessorKey","accessorFn","originalRow","_result","_column$columns","orderColumns","_column$columns2","leafColumns","debug","createHeader","_options$id","header","leafHeaders","recurseHeader","h","Headers","allColumns","right","_left$map$filter","_right$map$filter","leftColumns","rightColumns","centerColumns","buildHeaderGroups","_left$map$filter2","orderedLeafColumns","_right$map$filter2","headerGroups","headerGroup","flatHeaders","_header$subHeaders","_header$subHeaders2","_header$subHeaders3","center","_left$0$headers","_left$","_center$0$headers","_center$","_right$0$headers","_right$","columnsToGroup","headerFamily","_headerGroups$0$heade","_headerGroups$","maxDepth","findMaxDepth","columns","createHeaderGroup","headersToGroup","pendingParentHeaders","headerToGroup","latestPendingParentHeader","isLeafHeader","isPlaceholder","bottomHeaders","recurseHeadersForSpans","headers","colSpan","rowSpan","childRowSpans","childColSpan","childRowSpan","minChildRowSpan","createRow","original","rowIndex","subRows","parentId","_row$getValue","parentRows","currentRow","parentRow","allCells","ColumnFaceting","includesString","filterValue","_filterValue$toString","search","testFalsey","includesStringSensitive","_row$getValue2","equalsString","_row$getValue3","arrIncludes","_row$getValue4","arrIncludesAll","_row$getValue5","arrIncludesSome","_row$getValue6","equals","weakEquals","inNumberRange","min","rowValue","unsafeMin","unsafeMax","parsedMin","parsedMax","temp","filterFns","ColumnFiltering","firstRow","_table$options$filter","_table$options$filter2","_column$columnDef$ena","_table$options$enable","_table$options$enable2","_table$getState$colum","_table$getState$colum2","_table$getState$colum3","filterFn","previousFilter","newFilter","shouldAutoRemoveFilter","_old$filter","newFilterObj","_old$map","_table","updateFn","_functionalUpdate","filter","defaultState","_table$initialState$c","_table$initialState","_leafRows","childRows","next","nextValue","mean","leafRows","median","values","mid","nums","unique","uniqueCount","_columnId","aggregationFns","ColumnGrouping","_toString","_props$getValue","_table$getState$group","_table$getState$group2","canGroup","_table$options$aggreg","_table$options$aggreg2","_table$initialState$g","_row$subRows","grouping","groupedColumnMode","nonGroupingColumns","col","g","ColumnOrdering","position","_getVisibleLeafColumns","_columns$","_columns","columnOrder","orderedColumns","columnOrderCopy","columnsCopy","targetColumnId","foundIndex","getDefaultColumnPinningState","ColumnPinning","columnIds","_old$left3","_old$right3","_old$left","_old$right","_old$left2","_old$right2","_d$columnDef$enablePi","leafColumnIds","isLeft","isRight","leftAndRight","_pinningState$positio","pinningState","_pinningState$left","_pinningState$right","safelyAccessDocument","_document","defaultColumnSizing","getDefaultColumnSizingInfoState","ColumnSizing","_column$columnDef$min","_column$columnDef$max","columnSize","_header$column$getSiz","prevSiblingHeader","_contextDocument","canResize","isTouchStartEvent","startSize","columnSizingStart","clientX","newColumnSizing","updateOffset","eventType","clientXPos","_old$startOffset","_old$startSize","deltaDirection","deltaOffset","deltaPercentage","headerSize","onMove","onEnd","contextDocument","mouseEvents","touchEvents","_e$touches$","passiveIfSupported","passiveEventSupported","_table$initialState$c2","_table$getHeaderGroup","_table$getHeaderGroup2","_table$getLeftHeaderG","_table$getLeftHeaderG2","_table$getCenterHeade","_table$getCenterHeade2","_table$getRightHeader","_table$getRightHeader2","passiveSupported","supported","noop","ColumnVisibility","childColumns","cells","makeVisibleColumnsMethod","getColumns","_value","_target","GlobalFaceting","GlobalFiltering","_table$getCoreRowMode","_table$options$getCol","globalFilterFn","RowExpanding","registered","queued","_table$options$autoRe","expanded","_table$initialState$e","splitId","_expanded","exists","oldExpanded","rowId","_table$options$getIsR","_table$options$getRow","isFullyExpanded","canExpand","defaultPageIndex","defaultPageSize","getDefaultPaginationState","RowPagination","safeUpdater","_table$initialState$p","pageIndex","maxPageIndex","_table$initialState$p2","_table$initialState$p3","_table$initialState2","pageSize","topRowIndex","_table$options$pageCo","newPageCount","pageCount","pageOptions","_table$options$pageCo2","_table$options$rowCou","getDefaultRowPinningState","RowPinning","includeLeafRows","includeParentRows","leafRowIds","parentRowIds","rowIds","_old$top3","_old$bottom3","_old$top","_old$bottom","_old$top2","_old$bottom2","enableRowPinning","enablePinning","bottom","isTop","isBottom","_visiblePinnedRowIds$","visiblePinnedRowIds","_ref5","_table$initialState$r","_pinningState$top","_pinningState$bottom","visibleRows","pinnedRowIds","_table$options$keepPi","allRows","topPinnedRowIds","bottomPinnedRowIds","topAndBottom","RowSelection","rowSelection","preGroupedFlatRows","resolvedValue","mutateRowIsSelected","rowModel","selectRowsFn","isAllRowsSelected","paginationFlatRows","isAllPageRowsSelected","_table$getState$rowSe","totalSelected","isSelected","_opts$selectChildren","selectedRowIds","isRowSelected","isSubRowSelected","_table$options$enable3","canSelect","includeChildren","newSelectedFlatRows","newSelectedRowsById","recurseRows","rows","_row$subRows2","selection","_selection$row$id","_row$subRows3","allChildrenSelected","someSelected","subRow","subRowChildrenSelected","reSplitAlphaNumeric","alphanumeric","rowA","rowB","compareAlphanumeric","toString","alphanumericCaseSensitive","text","compareBasic","textCaseSensitive","datetime","basic","aStr","bStr","aa","bb","an","bn","combo","sortingFns","RowSorting","firstRows","isString","_table$options$sortin","_table$options$sortin2","desc","multi","nextSortingOrder","hasManualValue","existingSorting","existingIndex","newSorting","sortAction","nextDesc","_table$options$maxMul","_column$columnDef$sor","firstSortDirection","isSorted","_column$columnDef$ena2","_table$getState$sorti","columnSort","_table$getState$sorti2","_table$getState$sorti3","canSort","_table$initialState$s","builtInFeatures","createTable","_options$_features","_options$initialState","_features","mergeOptions","initialState","_feature$getInitialSt","queuedTimeout","coreInstance","cb","newOptions","searchAll","defaultColumn","_defaultColumn","_props$renderValue$to","_props$renderValue","columnDefs","recurseColumns","groupingColumnDef","flatColumns","getCoreRowModel","accessRows","originalRows","_row$originalSubRows","expandRows","expandedRows","handleRow","filterRows","filterRowImpl","filterRowModelFromLeafs","filterRowModelFromRoot","rowsToFilter","filterRow","_table$options$maxLea","newFilteredFlatRows","newFilteredRowsById","recurseFilterRows","newRow","_table$options$maxLea2","getFilteredRowModel","columnFilters","globalFilter","resolvedColumnFilters","resolvedGlobalFilters","_filterFn$resolveFilt","filterableIds","globallyFilterableColumns","_globalFilterFn$resol","currentColumnFilter","currentGlobalFilter","j","filterMeta","filterRowsImpl","getPaginationRowModel","pagination","flatRows","rowsById","pageStart","pageEnd","paginatedRowModel","getSortedRowModel","sorting","sortingState","sortedFlatRows","availableSorting","sort","_table$getColumn","columnInfoById","sortEntry","sortData","sortedData","_sortEntry$desc","columnInfo","sortUndefined","isDesc","sortInt","aValue","bValue","aUndefined","bUndefined","flexRender","Comp","isReactComponent","React.createElement","component","isClassComponent","isExoticComponent","proto","useReactTable","resolvedOptions","tableRef","setState","breakpointMap","useBreakpoint","breakpoint","matches","setMatches","useEffect","mediaQuery","handleChange","useTableResponsive","useRef","hasScrolled","setHasScrolled","isScrollable","setIsScrollable","checkIfScrollable","scrollWidth","clientWidth","handleScroll","scrollLeft","resizeObserver","columnHelper","DebouncedInput","initialValue","debounce","setValue","timeout","Input","WorkoutLogTable","isDataFetched","fetchWorkoutLogs","removeWorkoutLog","setSorting","setGlobalFilter","isSmallScreen","getWeightUnit","handleEditRow","useCallback","handleDeleteRow","logId","exerciseName","info","Edit2","Trash2","TableResponsiveContainer","Table","TableHeader","TableRow","meta","priority","classes","TableHead","SortAsc","SortDesc","TableBody","TableCell","ChevronLeft","ChevronRight","WorkoutLogTableCard","useWorkoutData","store","useUnifiedDataStore","exercises","workoutTemplates","dailyMetrics","loading","errors","dataFetched","fetchExercises","fetchTemplates","fetchAllData","addWorkoutLog","editWorkoutLog","storeGetExercisesByMuscleGroup","getAllUniqueExerciseNames","isWorkoutLogsLoading","isExercisesLoading","isTemplatesLoading","workoutLogsError","exercisesError","templatesError","logToUpdate","exerciseNames","muscleGroups","exercise","startDate","endDate","WorkoutSummaryTable","formattedMetrics","formattedDate","dateValue","parsedDate","numValue","columnClasses","cellClasses","WorkoutSummaryCard","TodoCard","todos","setTodos","showCompleted","setShowCompleted","setLoading","setError","setCurrentView","useNavigation","loadTodos","dataService","sortedTodos","err","handleTaskAdded","newTask","handleTaskUpdated","updatedTask","task","handleTaskDeleted","taskId","activeTodos","todo","completedTodos","displayTodos","CheckSquare","QuickAddTask","formattedTodo","formatTodoForDisplay","InlineEditableTask","AddWorkoutButton","MuscleFatigueInsights","appStore","useConsolidatedApp","settings","useFatigueSettings","insights","fatigueData","calculateMuscleFatigue","recoveryProfiles","calculateRecoveryProfiles","generateFatigueInsights","priorityInsights","warnings","insight","positive","idx","AlertTriangle","CheckCircle","Info","ProgressCard","SlideUp","delay","duration","motion","StaggerContainer","staggerChildren","delayChildren","StaggerItem","AbdominalsIcon","FullBodyIcon","Back4Icon","BicepsIcon","CalfIcon","ChestIcon","ForearmIcon","HipIcon","LegIcon","NeckIcon","ShoulderIcon","Shoulder1Icon","TrapeziusIcon","TricepsIcon","muscleIconMap","BackIcon","BackWingsIcon","getMuscleIcon","muscleName","normalizedName","MuscleFatigueCard","readyMuscles","getMusclesReadyForTraining","restingMuscles","getMusclesNeedingRest","muscle","ActiveWorkoutCard","router","useRouter","activeWorkout","completeWorkout","cancelWorkout","useWorkoutTemplates","calculateOverallProgress","totalSets","completedSets","formatWorkoutTime","startTime","diffMs","getNextExercise","ex","handleContinueWorkout","handleCompleteWorkout","handleCancelWorkout","nextExercise","overallProgress","Clock","Progress","PlayCircle","X","GoogleDriveService","__publicField","googleConfig","folderId","ensureValidToken","gapi","resolve","reject","response","listResponse","foundFolderId","listError","folderMetadata","memberName","healthFolderId","file","fileName","isForFamilyMember","familyMemberName","parentFolderId","metadata","errorText","fileId","mimeType","isGoogleWorkspaceFile","downloadUrl","exportMimeType","blob","url","updates","emailAddress","role","googleDriveService","formatDate","getWeekDates","currentDate","calculateDailyNutrition","entries","totals","calculateNutritionProgress","current","goals","calculateHealthTrend","days","typeEntries","latest","oldest","calculateMeditationStats","cutoffDate","recentEntries","totalMinutes","moodImprovements","stressReductions","calculateMeditationStreak","sortedEntries","streak","checkDate","prevDate","generateWeeklyHealthSummary","nutritionEntries","healthEntries","meditationEntries","weekDates","nutrition","dayHealthEntries","dayMeditationEntries","getHealthValue","totalMeditationMinutes","handleHealthApiError","validateNutritionEntry","validateHealthEntry","validateMeditationEntry","transformToPerson","transformToHealthDocument","tag","transformToHealthConfig","transformToNutritionEntry","transformToMealPlan","transformToHealthEntry","transformToMeditationEntry","transformToVitalSigns","transformToBodyMeasurement","useHealthStore","personId","people","nutritionGoals","personData","newPerson","rowData","createSpreadsheetRow","errorMessage","personIndex","updatedPerson","updateSpreadsheetRow","person","deleteSpreadsheetRow","documentData","currentPersonId","healthConfigs","personConfig","config","uploadResult","newDocument","documents","docIndex","document","driveError","doc","configData","newConfig","configs","configIndex","existingConfig","updatedConfig","entryData","validationErrors","newEntry","pendingAction","entryIndex","updatedEntry","planData","newPlan","plans","planIndex","updatedPlan","plan","dataCache","isInitialized","CACHE_DURATION","now","nutritionResult","mealResult","healthResult","meditationResult","peopleResult","vitalSignsResult","bodyMeasurementsResult","documentsResult","configsResult","readSpreadsheetData","failures","pendingActions","completedActions","action","success","dailyNutrition","weekStart","healthDocuments","targetPersonId","documentId","HealthDashboardWidget","getDailyNutrition","getNutritionProgress","getHealthTrend","getMeditationStats","fetchAllHealthData","clearError","today","hasInitialized","lastFetchTime","fiveMinutesAgo","todayNutrition","nutritionProgress","weightTrend","heartRateTrend","meditationStats","getTrendIcon","Heart","Apple","Brain","CustomizableDashboardGrid","componentMap","renderCard","cardConfig","ComponentToRender","renderedComponent","getCategoryGridClass","hasWorkoutSummary","hasWorkoutLogTable","cardCount","DashboardMainContent","WorkoutsContent","ScheduleContent","StatsContent","WorkoutCharts","ProfileContent","SettingsContent","NutritionPage","setIsLoading","showAddForm","setShowAddForm","editingEntry","setEditingEntry","selectedDate","setSelectedDate","searchTerm","setSearchTerm","formData","setFormData","dailyGoals","storeLoading","addNutritionEntry","updateNutritionEntryAction","deleteNutritionEntryAction","calculateDailyTotals","handleSubmit","resetForm","handleEdit","handleDelete","searchFilteredEntries","dailyTotals","getMealColor","meal","getProgressPercentage","goal","PageHeader","Plus","Tabs","TabsList","TabsTrigger","TabsContent","percentage","Calendar","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Textarea","MealPlanningPage","mealPlans","setMealPlans","templates","setTemplates","editingPlan","setEditingPlan","selectedWeek","setSelectedWeek","activeTab","setActiveTab","weekDays","mealTypes","getMealPlans","weekEnd","filteredPlans","loadTemplates","loadMealPlans","updateMealPlan","createMealPlan","deleteMealPlan","handleUseTemplate","template","getMealForDateAndType","mealType","dateStr","getMealTypeColor","BookOpen","Users","Avatar","AvatarFallback","AvatarImage","src","alt","PersonSelector","onAddPerson","showAddButton","setCurrentPersonId","currentPerson","getPersonInitials","n","getRelationshipColor","relationship","PersonManager","onPersonAdd","onPersonUpdate","onPersonDelete","isAddingPerson","setIsAddingPerson","editingPerson","setEditingPerson","handleStartAdd","handleStartEdit","Fragment","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","AlertCircle","Edit","Phone","DialogFooter","FolderConfiguration","getPersonConfig","saveHealthConfig","updateHealthConfig","setFolderId","isEditing","setIsEditing","isSaving","setIsSaving","handleSave","handleCancel","Save","MAX_FILE_SIZE","ALLOWED_FILE_TYPES","FILE_CATEGORIES","DocumentUpload","uploadDocument","fileInputRef","selectedFile","setSelectedFile","setTitle","setDescription","setCategory","tags","setTags","isConfidential","setIsConfidential","isUploading","setIsUploading","handleFileSelect","handleRemoveFile","handleUpload","cat","Loader2","SELECTION_KEYS","FIRST_KEYS","LAST_KEYS","FIRST_LAST_KEYS","SUB_OPEN_KEYS","SUB_CLOSE_KEYS","MENU_NAME","Collection","useCollection","createCollectionScope","createCollection","createMenuContext","createMenuScope","createPopperScope","createRovingFocusGroupScope","usePopperScope","useRovingFocusGroupScope","MenuProvider","useMenuContext","MenuRootProvider","useMenuRootContext","Menu","__scopeMenu","open","dir","onOpenChange","modal","popperScope","content","setContent","isUsingKeyboardRef","handleOpenChange","useCallbackRef","direction","useDirection","handleKeyDown","handlePointer","PopperPrimitive.Root","React.useCallback","ANCHOR_NAME","MenuAnchor","anchorProps","PopperPrimitive.Anchor","PORTAL_NAME","PortalProvider","usePortalContext","MenuPortal","forceMount","container","Presence","PortalPrimitive","CONTENT_NAME","MenuContentProvider","useMenuContentContext","MenuContent","portalContext","contentProps","rootContext","MenuRootContentModal","MenuRootContentNonModal","hideOthers","MenuContentImpl","Slot","createSlot","loop","trapFocus","onOpenAutoFocus","onCloseAutoFocus","disableOutsidePointerEvents","onEntryFocus","onEscapeKeyDown","onPointerDownOutside","onFocusOutside","onInteractOutside","onDismiss","disableOutsideScroll","rovingFocusGroupScope","getItems","currentItemId","setCurrentItemId","contentRef","timerRef","searchRef","pointerGraceTimerRef","pointerGraceIntentRef","pointerDirRef","lastPointerXRef","ScrollLockWrapper","RemoveScroll","React.Fragment","scrollLockWrapperProps","handleTypeaheadSearch","currentItem","currentMatch","nextMatch","getNextMatch","newItem","updateSearch","useFocusGuards","isPointerMovingToSubmenu","isPointerInGraceArea","intent","FocusScope","DismissableLayer","RovingFocusGroup.Root","PopperPrimitive.Content","getOpenState","isKeyDownInside","isModifierKey","isCharacterKey","candidateNodes","focusFirst","whenMouse","pointerXHasChanged","newDir","GROUP_NAME","MenuGroup","groupProps","LABEL_NAME","MenuLabel","labelProps","ITEM_NAME","ITEM_SELECT","MenuItem","onSelect","itemProps","contentContext","isPointerDownRef","handleSelect","menuItem","itemSelectEvent","dispatchDiscreteCustomEvent","MenuItemImpl","isTypingAhead","textValue","isFocused","setIsFocused","textContent","setTextContent","RovingFocusGroup.Item","CHECKBOX_ITEM_NAME","MenuCheckboxItem","checkboxItemProps","ItemIndicatorProvider","isIndeterminate","getCheckedState","RADIO_GROUP_NAME","RadioGroupProvider","useRadioGroupContext","MenuRadioGroup","onValueChange","handleValueChange","RADIO_ITEM_NAME","MenuRadioItem","radioItemProps","ITEM_INDICATOR_NAME","useItemIndicatorContext","MenuItemIndicator","itemIndicatorProps","indicatorContext","SEPARATOR_NAME","MenuSeparator","separatorProps","ARROW_NAME","MenuArrow","arrowProps","PopperPrimitive.Arrow","SUB_NAME","MenuSubProvider","useMenuSubContext","SUB_TRIGGER_NAME","MenuSubTrigger","subContext","openTimerRef","onPointerGraceIntentChange","scope","clearOpenTimer","pointerGraceTimer","composeRefs","contentRect","side","rightSide","bleed","contentNearEdge","contentFarEdge","SUB_CONTENT_NAME","MenuSubContent","subContentProps","isCloseKey","candidates","PREVIOUSLY_FOCUSED_ELEMENT","candidate","wrapArray","startIndex","normalizedSearch","char","currentMatchIndex","wrappedValues","v","isPointInPolygon","polygon","y","inside","ii","jj","xi","yi","xj","yj","area","cursorPos","handler","Root3","Anchor2","Portal","Content2","Group","Item2","CheckboxItem","RadioGroup","RadioItem","ItemIndicator","Separator","Arrow2","SubTrigger","SubContent","DROPDOWN_MENU_NAME","createDropdownMenuContext","createDropdownMenuScope","useMenuScope","DropdownMenuProvider","useDropdownMenuContext","DropdownMenu","__scopeDropdownMenu","openProp","defaultOpen","menuScope","triggerRef","setOpen","useId","prevOpen","MenuPrimitive.Root","TRIGGER_NAME","DropdownMenuTrigger","triggerProps","MenuPrimitive.Anchor","DropdownMenuPortal","portalProps","MenuPrimitive.Portal","DropdownMenuContent","hasInteractedOutsideRef","MenuPrimitive.Content","originalEvent","ctrlLeftClick","isRightClick","DropdownMenuGroup","MenuPrimitive.Group","DropdownMenuLabel","MenuPrimitive.Label","DropdownMenuItem","MenuPrimitive.Item","DropdownMenuCheckboxItem","MenuPrimitive.CheckboxItem","DropdownMenuRadioGroup","radioGroupProps","MenuPrimitive.RadioGroup","DropdownMenuRadioItem","MenuPrimitive.RadioItem","INDICATOR_NAME","DropdownMenuItemIndicator","MenuPrimitive.ItemIndicator","DropdownMenuSeparator","MenuPrimitive.Separator","DropdownMenuArrow","MenuPrimitive.Arrow","DropdownMenuSubTrigger","subTriggerProps","MenuPrimitive.SubTrigger","DropdownMenuSubContent","MenuPrimitive.SubContent","Root2","Trigger","Portal2","Label2","CheckboxItem2","RadioItem2","ItemIndicator2","Separator2","SubTrigger2","SubContent2","DropdownMenuPrimitive.Root","DropdownMenuPrimitive.Trigger","inset","DropdownMenuPrimitive.SubTrigger","DropdownMenuPrimitive.SubContent","sideOffset","DropdownMenuPrimitive.Portal","DropdownMenuPrimitive.Content","DropdownMenuPrimitive.Item","DropdownMenuPrimitive.CheckboxItem","DropdownMenuPrimitive.ItemIndicator","Check","DropdownMenuPrimitive.RadioItem","DropdownMenuPrimitive.Label","DropdownMenuPrimitive.Separator","CATEGORY_LABELS","CATEGORY_COLORS","DocumentList","getPersonDocuments","deleteDocument","downloadDocument","refreshDocuments","selectedCategory","setSelectedCategory","showConfidentialOnly","setShowConfidentialOnly","deletingDocId","setDeletingDocId","getFileIcon","fileType","FileText","formatFileSize","bytes","k","sizes","filteredDocuments","handleView","handleDownload","docId","Search","Filter","label","MoreVertical","HealthTrackingPage","storeHealthEntries","addPerson","updatePerson","deletePerson","addHealthEntry","updateHealthEntryAction","deleteHealthEntryAction","addVitalSigns","addBodyMeasurement","measurementForm","setMeasurementForm","vitalForm","setVitalForm","convertAndFormatTemperature","getHeightUnit","getTemperatureUnit","healthTypes","handleSaveVitalSigns","vitalData","handleSaveBodyMeasurements","measurementData","weight","muscleMass","getEntryTypeIcon","healthType","IconComponent","getEntryTypeColor","getLatestEntry","MeditationPage","session","setSession","meditationTypes","quickDurations","addMeditationEntry","updateMeditationEntryAction","deleteMeditationEntryAction","interval","startTimer","pauseTimer","resetTimer","formatTime","seconds","mins","secs","getMoodEmoji","mood","getStressColor","stress","calculateTotalTime","total","todayStats","ViewContent","currentView","TodosPage","MuscleFatiguePage","SleepTrackingPage","DashboardPage","exercisesStore","DashboardLayout"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,102,103,150,151]}