import{L as de,v as fe,r as N,j as e,B as F,M as X,u as je,h as ye}from"./pwa-components-DFRzXAPN.js";import{c as O,g as z,C as D,a as I,b as A,f as W,d as T,e as ve,t as $}from"./index-DoxOVinb.js";import{C as Ne,P as we}from"./progress-CwerKmR9.js";import{T as U,a as H,b as G,c as S}from"./tabs-Ckg3dhe6.js";import{S as q}from"./separator-DZ4Y86iO.js";import{S as J,a as Q,b as Z,c as ee,d as L}from"./select-C1ZopsoU.js";import{e as ue,$ as be,i as ke,T as se,Y as De,A as Te,h as Y}from"./DashboardLayout-c4N3lsWj.js";import{S as Me}from"./save-CCykoWoj.js";import{R as te,F as re,z as ae,X as ne,Y as ie,B as ce,H as oe,J as Re}from"./BarChart-TnJZMJRX.js";import{A as le}from"./arrow-left-1LmNAeng.js";import{C as me}from"./check-CiQyU1a7.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xe=O("calendar",Ge);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],he=O("info",Se);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ge=O("triangle-alert",Ce),Le=100,pe=15,Fe={low:20,high:80};function P(r,i=7,n,l){if(!r||r.length===0)return[];const h=(n==null?void 0:n.maxFatigue)??Le,p=(n==null?void 0:n.recoveryRate)??pe,d=(n==null?void 0:n.thresholds)??Fe,f=(n==null?void 0:n.daysToConsider)??i,c=new Date,t=new Date(c);t.setDate(c.getDate()-f);const o=r.filter(u=>new Date(u.date)>=t),a=[...new Set(o.map(u=>u.muscleGroup))],s={};o.forEach(u=>{const x=u.muscleGroup,j=new Date(u.date),y=(u.weight||0)*(u.reps||0),k=u.rating||5;!s[x]||new Date(s[x].lastTrainingDate)<j?s[x]={lastTrainingDate:u.date,recentVolume:y,recentIntensity:k}:s[x].lastTrainingDate===u.date&&(s[x].recentVolume+=y,s[x].recentIntensity=Math.max(s[x].recentIntensity,k))});const g=Math.max(1,...Object.values(s).map(u=>u.recentVolume));return a.map(u=>{const x=s[u]||{lastTrainingDate:null,recentVolume:0,recentIntensity:0};let j=x.recentVolume/g*100;if(j=j*(x.recentIntensity/5),x.lastTrainingDate){let _=Math.floor((c.getTime()-new Date(x.lastTrainingDate).getTime())/864e5)*p;j=Math.max(0,j-_)}j=Math.min(h,j);let y;j<d.low?y="Ready":j<d.high?y="Recovering":y="Fatigued";const k=Math.ceil(j/p);return{muscleGroup:u,fatigue:Math.round(j),lastTrainingDate:x.lastTrainingDate,recoveryStatus:y,suggestedRestDays:k}})}function Ie(r){return r.filter(i=>i.recoveryStatus==="Ready").map(i=>i.muscleGroup)}function Ze(r){return r.filter(i=>i.recoveryStatus==="Fatigued").map(i=>i.muscleGroup)}function Ae(r,i){if(!r||r.length===0)return[];const n=(i==null?void 0:i.recoveryRate)??pe,l={};return r.forEach(h=>{l[h.muscleGroup]||(l[h.muscleGroup]=[]),l[h.muscleGroup].push(h)}),Object.entries(l).map(([h,p])=>{const d=[...p].sort((s,g)=>new Date(g.date).getTime()-new Date(s.date).getTime());let f=0,c=0;for(let s=0;s<d.length-1;s++){const g=new Date(d[s].date),u=new Date(d[s+1].date),x=Math.abs(Math.round((g.getTime()-u.getTime())/(1e3*60*60*24)));x>0&&x<14&&(f+=x,c++)}const t=c>0?f/c:0,o=t>0?Math.min(25,Math.max(10,100/t)):n,a=Math.max(1,Math.min(7,Math.round(100/o)));return{muscleGroup:h,baseRecoveryRate:n,personalizedRecoveryRate:Math.round(o*10)/10,optimalTrainingFrequency:a,averageRecoveryDays:Math.round(t*10)/10,lastWorkouts:d.slice(0,3)}})}function We(r,i){const n=[];return r.forEach(l=>{const h=i.find(p=>p.muscleGroup===l.muscleGroup);h&&(l.fatigue>80?n.push({muscleGroup:l.muscleGroup,insight:`Your ${l.muscleGroup} is highly fatigued and needs proper rest.`,type:"warning",suggestion:`Rest for at least ${l.suggestedRestDays} days before training again.`}):l.fatigue<10&&h.averageRecoveryDays>5?n.push({muscleGroup:l.muscleGroup,insight:`Your ${l.muscleGroup} is undertraining based on your recovery capacity.`,type:"info",suggestion:`You could train this muscle group more frequently, approximately every ${h.optimalTrainingFrequency} days.`}):l.fatigue>60&&h.averageRecoveryDays<2?n.push({muscleGroup:l.muscleGroup,insight:`You appear to be training ${l.muscleGroup} too frequently.`,type:"warning",suggestion:`Consider increasing rest between workouts to at least ${h.optimalTrainingFrequency} days.`}):l.recoveryStatus==="Ready"&&n.push({muscleGroup:l.muscleGroup,insight:`Your ${l.muscleGroup} has fully recovered and is ready for an effective workout.`,type:"positive",suggestion:`For optimal growth, train with progressive overload and then allow ${h.optimalTrainingFrequency} days for recovery.`}))}),n}const Ee=({logs:r})=>{const{exercises:i}=de(),{saveTemplate:n,startWorkout:l}=fe(),{settings:h}=z(),{convertAndFormatWeight:p}=ue(),[d,f]=N.useState("fullBody"),[c,t]=N.useState("medium"),[o,a]=N.useState(!1),[s,g]=N.useState(null),u=N.useMemo(()=>{const m=P(r,void 0,h);return Ie(m)},[r,h]),x=(m,v)=>{const M=i.filter(R=>m.some(b=>R.muscleGroup.toLowerCase()===b.toLowerCase())),w=new Map;for(m.forEach(R=>{const b=M.filter(C=>C.muscleGroup.toLowerCase()===R.toLowerCase());if(b.length>0){const C=Math.floor(Math.random()*b.length),E=b[C];w.set(E.exercise,{name:E.exercise,muscleGroup:E.muscleGroup,sets:j(c),reps:y(E.targetIntensity),weight:0})}});w.size<v&&M.length>w.size;){const R=M.filter(E=>!w.has(E.exercise));if(R.length===0)break;const b=Math.floor(Math.random()*R.length),C=R[b];w.set(C.exercise,{name:C.exercise,muscleGroup:C.muscleGroup,sets:j(c),reps:y(C.targetIntensity),weight:0})}return Array.from(w.values())},j=m=>{switch(m){case"short":return 2;case"long":return 4;default:return 3}},y=m=>{const v=typeof m=="string"?parseInt(m)||5:m;return v>=8?6:v<=3?15:10},k=()=>{if(a(!0),u.length===0){$.error("No muscles ready for training",{description:"All your muscle groups need more recovery time."}),a(!1);return}let m=[],v=0,M="",w="";switch(d){case"fullBody":m=u,v=c==="short"?4:c==="medium"?6:8,M="Full Body Workout",w="A complete workout targeting all the ready muscle groups";break;case"push":m=u.filter(b=>["chest","shoulders","triceps"].includes(b.toLowerCase())),v=c==="short"?3:c==="medium"?5:7,M="Push Workout",w="Chest, shoulders, and triceps focused workout";break;case"pull":m=u.filter(b=>["back","biceps","forearms"].includes(b.toLowerCase())),v=c==="short"?3:c==="medium"?5:7,M="Pull Workout",w="Back and biceps focused workout";break;case"legs":m=u.filter(b=>["quadriceps","hamstrings","calves","glutes"].includes(b.toLowerCase())),v=c==="short"?3:c==="medium"?5:7,M="Leg Workout",w="Lower body focused workout";break;case"split":m=u.slice(0,2),v=c==="short"?4:c==="medium"?6:8,M=`${m.join(" & ")} Workout`,w=`Focus workout targeting ${m.join(" and ")}`;break}if(m.length===0){$.error(`No muscles ready for ${d} workout`,{description:"Try a different workout type or wait for recovery."}),a(!1);return}const R=x(m,v);g({name:M,description:w,exercises:R}),a(!1),$.success("Workout Plan Generated",{description:`Created a ${c} ${d} workout with ${R.length} exercises`})},K=()=>{s&&(n({id:X(),name:s.name,description:s.description,exercises:s.exercises.map(m=>({...m,rest:60,notes:"",difficultyLevel:"medium",equipmentRequired:"",targetIntensity:"5",primaryMuscleGroup:m.muscleGroup,secondaryMuscleGroup:"",exerciseDuration:"",recoveryTime:"",exerciseType:"strength",caloriesBurned:"",exerciseProgression:"",injuryRiskLevel:"low",exerciseLink:"",imageLink:"",relativePath:""})),createdAt:new Date().toISOString(),lastUsed:""}),$.success("Workout Template Saved",{description:"You can find it in your workout templates"}))},_=()=>{if(!s)return;const m=s.name;n({id:X(),name:m,description:s.description,exercises:s.exercises.map(v=>({...v,rest:60,notes:"",difficultyLevel:"medium",equipmentRequired:"",targetIntensity:"5",primaryMuscleGroup:v.muscleGroup,secondaryMuscleGroup:"",exerciseDuration:"",recoveryTime:"",exerciseType:"strength",caloriesBurned:"",exerciseProgression:"",injuryRiskLevel:"low",exerciseLink:"",imageLink:"",relativePath:""})),createdAt:new Date().toISOString(),lastUsed:""}),l(m),$.success("Workout Started",{description:"Let's get training!"})};return e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"text-lg font-semibold flex items-center",children:[e.jsx(be,{className:"h-5 w-5 mr-2 text-primary"}),"Workout Recommender"]}),e.jsx(W,{children:"Get personalized workout recommendations based on your recovery status"})]}),e.jsx(T,{children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Workout Type"}),"              ",e.jsxs(J,{value:d,onValueChange:m=>f(m),children:[e.jsx(Q,{children:e.jsx(Z,{placeholder:"Select workout type"})}),e.jsxs(ee,{children:[e.jsx(L,{value:"fullBody",children:"Full Body"}),e.jsx(L,{value:"push",children:"Push (Chest/Shoulders/Triceps)"}),e.jsx(L,{value:"pull",children:"Pull (Back/Biceps)"}),e.jsx(L,{value:"legs",children:"Legs"}),e.jsx(L,{value:"split",children:"Muscle Split"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Duration"}),"              ",e.jsxs(J,{value:c,onValueChange:m=>t(m),children:[e.jsx(Q,{children:e.jsx(Z,{placeholder:"Select duration"})}),e.jsxs(ee,{children:[e.jsx(L,{value:"short",children:"Short (15-30 min)"}),e.jsx(L,{value:"medium",children:"Medium (30-45 min)"}),e.jsx(L,{value:"long",children:"Long (45-60+ min)"})]})]})]})]}),e.jsx(F,{onClick:k,disabled:o,children:o?"Generating...":"Generate Workout"}),s&&e.jsx("div",{className:"mt-6 space-y-4",children:e.jsxs("div",{className:"p-4 bg-muted/30 rounded-md",children:[e.jsx("h3",{className:"font-medium mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),e.jsx("div",{className:"space-y-3",children:s.exercises.map((m,v)=>e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:m.name}),e.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",m.muscleGroup,")"]})]}),e.jsxs("div",{className:"text-muted-foreground",children:[m.sets," sets × ",m.reps," reps",m.weight>0&&` @ ${p(m.weight)}`]})]},v))})]})})]})}),e.jsxs(ve,{className:"flex justify-between",children:[e.jsx(F,{variant:"outline",onClick:k,disabled:o,children:o?"Generating...":"Generate Workout"}),s&&e.jsxs("div",{className:"space-x-2",children:[e.jsxs(F,{variant:"outline",onClick:K,children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"Save Template"]}),e.jsxs(F,{onClick:_,children:[e.jsx(ke,{className:"h-4 w-4 mr-2"}),"Start Workout"]})]})]})]})},$e=({logs:r})=>{const{settings:i}=z(),{convertAndFormatWeight:n}=ue(),l=N.useMemo(()=>P(r,void 0,i),[r,i]),h=N.useMemo(()=>{const t=new Map;return[...r].sort((a,s)=>new Date(s.date).getTime()-new Date(a.date).getTime()).forEach(a=>{var g;const s=new Date(a.date).toLocaleDateString();t.has(s)||t.set(s,[]),(g=t.get(s))==null||g.push(a)}),t},[r]);N.useMemo(()=>{const t=[],o=new Date;for(let a=13;a>=0;a--){const s=new Date(o);s.setDate(s.getDate()-a);const g=s.toLocaleDateString(),u=r.filter(y=>new Date(y.date)<=s),x=P(u,void 0,i),j=new Map;x.forEach(y=>{j.set(y.muscleGroup,y.fatigue)}),t.push({date:g,...Object.fromEntries(j.entries())})}return t},[r,i]);const p=N.useMemo(()=>{const t=new Set;return l.forEach(o=>t.add(o.muscleGroup)),Array.from(t)},[l]),d=N.useMemo(()=>{const t={};return r.forEach(o=>{const a=o.muscleGroup;t[a]||(t[a]=0),t[a]++}),Object.entries(t).map(([o,a])=>({muscleGroup:o,count:a})).sort((o,a)=>a.count-o.count)},[r]),f=N.useMemo(()=>p.map(t=>{var s;const o=((s=l.find(g=>g.muscleGroup===t))==null?void 0:s.fatigue)||0;let a=1;return o<20?a=1:o<60?a=2:a=3,{muscleGroup:t,daysPerWorkout:a,workoutsPerWeek:Math.round(7/a),currentFatigue:o}}),[p,l]),c=N.useMemo(()=>{const t={};return p.forEach(o=>{const s=[...r.filter(x=>x.muscleGroup===o)].sort((x,j)=>new Date(x.date).getTime()-new Date(j.date).getTime());let g=0,u=0;for(let x=1;x<s.length;x++){const j=new Date(s[x-1].date),y=new Date(s[x].date),k=Math.round((y.getTime()-j.getTime())/(1e3*60*60*24));k>0&&k<14&&(g+=k,u++)}t[o]={avgRecoveryDays:u>0?Math.round(g/u*10)/10:0,lastTrainingDate:s.length>0?s[s.length-1].date:null}}),t},[r,p]);return!r||r.length===0?e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"text-lg font-semibold flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2 text-primary"}),"Muscle Fatigue Analytics"]}),e.jsx(W,{children:"Log workouts to see analytics and insights about your muscle recovery patterns"})]}),e.jsx(T,{className:"flex items-center justify-center h-60",children:e.jsx("p",{className:"text-muted-foreground",children:"No workout data available"})})]}):e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsxs(A,{className:"text-lg font-semibold flex items-center",children:[e.jsx(se,{className:"h-5 w-5 mr-2 text-primary"}),"Muscle Fatigue Analytics"]}),e.jsx(W,{children:"Insights and patterns about your muscle recovery and training frequency"})]}),e.jsx(T,{children:e.jsxs(U,{defaultValue:"overview",children:[e.jsxs(H,{className:"grid grid-cols-3 mb-4",children:[e.jsx(G,{value:"overview",children:"Overview"}),e.jsx(G,{value:"frequency",children:"Training Frequency"}),e.jsx(G,{value:"recovery",children:"Recovery Patterns"})]}),e.jsx(S,{value:"overview",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Current Muscle Fatigue Levels"}),e.jsx("div",{className:"h-64 w-full",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(re,{data:l.sort((t,o)=>o.fatigue-t.fatigue),margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(ae,{strokeDasharray:"3 3",opacity:.2}),e.jsx(ne,{dataKey:"muscleGroup",fontSize:12,angle:-45,textAnchor:"end",height:60}),e.jsx(ie,{label:{value:"Fatigue %",angle:-90,position:"insideLeft"},domain:[0,100]}),e.jsx(ce,{}),e.jsx(oe,{dataKey:"fatigue",name:"Fatigue Level",fill:"var(--primary)",radius:[4,4,0,0]})]})})}),e.jsx(q,{className:"my-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-2",children:"Recent Workout Activity"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Array.from(h.entries()).slice(0,4).map(([t,o])=>e.jsxs("div",{className:"p-3 bg-muted/30 rounded-md",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(xe,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:t})]}),e.jsx("div",{className:"space-y-1",children:o.map((a,s)=>e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:a.exercise}),e.jsxs("span",{className:"text-muted-foreground",children:[" ","- ",a.sets," sets × ",a.reps," reps",a.weight&&` @ ${n(a.weight)}`]})]},s))})]},t))})]})]})}),e.jsx(S,{value:"frequency",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"h-64 w-full",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(re,{data:d,margin:{top:20,right:30,left:20,bottom:5},children:[e.jsx(ae,{strokeDasharray:"3 3",opacity:.2}),e.jsx(ne,{dataKey:"muscleGroup",fontSize:12,angle:-45,textAnchor:"end",height:60}),e.jsx(ie,{label:{value:"Workout Count",angle:-90,position:"insideLeft"}}),e.jsx(ce,{}),e.jsx(oe,{dataKey:"count",name:"Training Sessions",fill:"var(--primary)",radius:[4,4,0,0]})]})})}),e.jsx(q,{className:"my-4"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium mb-2 flex items-center gap-1",children:["Optimal Training Frequency",e.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mb-3",children:"Based on your recovery patterns and current fatigue levels"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2 text-xs font-medium",children:"Muscle Group"}),e.jsx("th",{className:"text-center p-2 text-xs font-medium",children:"Current Fatigue"}),e.jsx("th",{className:"text-center p-2 text-xs font-medium",children:"Optimal Days Between"}),e.jsx("th",{className:"text-center p-2 text-xs font-medium",children:"Workouts Per Week"})]})}),e.jsx("tbody",{children:f.map((t,o)=>e.jsxs("tr",{className:o%2===0?"bg-muted/20":"",children:[e.jsx("td",{className:"p-2 text-xs",children:t.muscleGroup}),e.jsxs("td",{className:"p-2 text-xs text-center",children:[t.currentFatigue,"%"]}),e.jsx("td",{className:"p-2 text-xs text-center",children:t.daysPerWorkout}),e.jsx("td",{className:"p-2 text-xs text-center",children:t.workoutsPerWeek})]},o))})]})})]})]})}),e.jsx(S,{value:"recovery",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-sm font-medium",children:"Muscle Recovery Patterns"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2 text-xs font-medium",children:"Muscle Group"}),e.jsx("th",{className:"text-center p-2 text-xs font-medium",children:"Avg. Days Between Workouts"}),e.jsx("th",{className:"text-center p-2 text-xs font-medium",children:"Last Trained"}),e.jsx("th",{className:"text-center p-2 text-xs font-medium",children:"Current Status"})]})}),e.jsx("tbody",{children:p.map((t,o)=>{const a=c[t],s=l.find(g=>g.muscleGroup===t);return e.jsxs("tr",{className:o%2===0?"bg-muted/20":"",children:[e.jsx("td",{className:"p-2 text-xs",children:t}),e.jsx("td",{className:"p-2 text-xs text-center",children:(a==null?void 0:a.avgRecoveryDays)||"N/A"}),e.jsx("td",{className:"p-2 text-xs text-center",children:a!=null&&a.lastTrainingDate?new Date(a.lastTrainingDate).toLocaleDateString():"Never"}),e.jsx("td",{className:"p-2 text-xs text-center",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium
                              ${(s==null?void 0:s.recoveryStatus)==="Ready"?"bg-green-500/10 text-green-500":(s==null?void 0:s.recoveryStatus)==="Recovering"?"bg-yellow-500/10 text-yellow-500":"bg-red-500/10 text-red-500"}`,children:(s==null?void 0:s.recoveryStatus)||"Unknown"})})]},o)})})]})}),e.jsx(q,{className:"my-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium mb-3",children:"Recovery Insights"}),e.jsx("div",{className:"grid gap-2",children:p.map((t,o)=>{const a=l.find(x=>x.muscleGroup===t),s=c[t];if(!a||!s||s.avgRecoveryDays===0)return null;let g="",u="info";return a.fatigue>70?(g=`Your ${t} is highly fatigued. Consider resting for at least ${a.suggestedRestDays} more days.`,u="warning"):s.avgRecoveryDays<2&&a.fatigue>40?(g=`You may be training ${t} too frequently. Consider increasing rest between workouts.`,u="warning"):s.avgRecoveryDays>5&&a.fatigue<20?(g=`You could train ${t} more frequently to optimize gains.`,u="info"):a.recoveryStatus==="Ready"&&(g=`Your ${t} has recovered well and is ready for an effective training session.`,u="positive"),g?e.jsx("div",{className:`p-3 rounded-md text-xs
                          ${u==="positive"?"bg-green-500/10":u==="warning"?"bg-red-500/10":"bg-blue-500/10"}`,children:g},o):null})})]})]})})]})})]})},Pe=({logs:r})=>{const{settings:i}=z(),{allInsights:n,warningInsights:l,positiveInsights:h,infoInsights:p}=N.useMemo(()=>{if(!r||r.length===0)return{allInsights:[],warningInsights:[],positiveInsights:[],infoInsights:[]};const d=P(r,void 0,i),f=Ae(r,i),c=We(d,f);return{allInsights:c,warningInsights:c.filter(t=>t.type==="warning"),positiveInsights:c.filter(t=>t.type==="positive"),infoInsights:c.filter(t=>t.type==="info")}},[r,i]);return!r||r.length===0?e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsx(A,{className:"text-lg font-semibold",children:"Recovery Insights"}),e.jsx(W,{children:"Log workouts to receive personalized recovery insights"})]}),e.jsx(T,{className:"flex items-center justify-center h-60",children:e.jsx("p",{className:"text-muted-foreground",children:"No workout data available"})})]}):n.length===0?e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsx(A,{className:"text-lg font-semibold",children:"Recovery Insights"}),e.jsx(W,{children:"Log more workouts to generate personalized insights"})]}),e.jsx(T,{className:"flex items-center justify-center h-60",children:e.jsx("p",{className:"text-muted-foreground",children:"Not enough data for insights yet"})})]}):e.jsxs(D,{children:[e.jsxs(I,{children:[e.jsx(A,{className:"text-lg font-semibold",children:"Recovery Insights"}),e.jsx(W,{children:"Personalized insights to optimize your training and recovery cycle"})]}),e.jsx(T,{children:e.jsxs(U,{defaultValue:"all",children:[e.jsxs(H,{className:"grid grid-cols-4 mb-4",children:[e.jsx(G,{value:"all",className:"relative",children:"All"}),e.jsx(G,{value:"warnings",className:"relative",children:"Warnings"}),e.jsx(G,{value:"positive",className:"relative",children:"Positive"}),e.jsx(G,{value:"tips",className:"relative",children:"Tips"})]}),e.jsx(S,{value:"all",className:"space-y-4",children:n.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No insights available"}):e.jsx(B,{insights:n})}),e.jsx(S,{value:"warnings",className:"space-y-4",children:l.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No warnings - your training seems well balanced!"}):e.jsx(B,{insights:l})}),e.jsx(S,{value:"positive",className:"space-y-4",children:h.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No positive insights yet - keep training!"}):e.jsx(B,{insights:h})}),e.jsx(S,{value:"tips",className:"space-y-4",children:p.length===0?e.jsx("p",{className:"text-center text-muted-foreground py-8",children:"No training tips available yet"}):e.jsx(B,{insights:p})})]})})]})},B=({insights:r})=>e.jsx("div",{className:"space-y-4",children:r.map((i,n)=>e.jsx("div",{className:`p-4 rounded-lg border
            ${i.type==="warning"?"bg-red-500/5 border-red-500/20":i.type==="positive"?"bg-green-500/5 border-green-500/20":"bg-blue-500/5 border-blue-500/20"}`,children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"mt-1",children:i.type==="warning"?e.jsx(Re,{className:"h-5 w-5 text-red-500"}):i.type==="positive"?e.jsx(Ne,{className:"h-5 w-5 text-green-500"}):e.jsx(he,{className:"h-5 w-5 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-semibold mb-1",children:i.muscleGroup}),e.jsx("p",{className:"text-sm mb-2",children:i.insight}),e.jsx("p",{className:`text-sm font-medium
                ${i.type==="warning"?"text-red-500":i.type==="positive"?"text-green-500":"text-blue-500"}`,children:i.suggestion})]})]})},n))}),Be=()=>{const{appStore:r}=je(),{setCurrentView:i}=r,{workoutLogs:n}=ye(),{getExercisesByMuscleGroup:l}=de(),{settings:h}=z(),p=N.useMemo(()=>P(n,void 0,h),[n,h]),d=N.useMemo(()=>{const f={ready:p.filter(c=>c.recoveryStatus==="Ready"),recovering:p.filter(c=>c.recoveryStatus==="Recovering"),fatigued:p.filter(c=>c.recoveryStatus==="Fatigued")};return{ready:f.ready.sort((c,t)=>c.fatigue-t.fatigue),recovering:f.recovering.sort((c,t)=>c.fatigue-t.fatigue),fatigued:f.fatigued.sort((c,t)=>t.fatigue-c.fatigue)}},[p]);return!n||n.length===0?e.jsxs("div",{className:"container max-w-3xl mx-auto py-4 px-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(F,{variant:"outline",size:"icon",onClick:()=>i("dashboard"),className:"mr-2",children:e.jsx(le,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Muscle Fatigue Tracker"})]}),e.jsx(D,{children:e.jsxs(T,{className:"flex flex-col items-center justify-center h-60 text-center",children:[e.jsx(Te,{className:"h-16 w-16 text-muted-foreground mb-4"}),e.jsx("p",{className:"text-xl font-medium mb-2",children:"No workout data available"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Log your workouts to track muscle fatigue and recovery status"}),e.jsx(F,{onClick:()=>i("workouts"),children:"Log a Workout"})]})})]}):e.jsxs("div",{className:"container max-w-3xl mx-auto py-4 px-4",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx(F,{variant:"outline",size:"icon",onClick:()=>i("dashboard"),className:"mr-2",children:e.jsx(le,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-2xl font-bold",children:"Muscle Fatigue Tracker"})]}),e.jsxs("div",{className:"grid gap-4 mb-4",children:[e.jsxs(D,{children:[e.jsxs(I,{className:"pb-2",children:[e.jsx(A,{children:"Recovery Status"}),e.jsx(W,{children:"Train muscles that are ready, avoid those that need rest"})]}),e.jsx(T,{children:e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-center",children:[e.jsxs("div",{className:"p-2 bg-green-500/10 rounded-md",children:[e.jsx(me,{className:"h-5 w-5 text-green-500 mx-auto mb-1"}),e.jsx("p",{className:"font-medium",children:d.ready.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Ready to Train"})]}),e.jsxs("div",{className:"p-2 bg-yellow-500/10 rounded-md",children:[e.jsx(Y,{className:"h-5 w-5 text-yellow-500 mx-auto mb-1"}),e.jsx("p",{className:"font-medium",children:d.recovering.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recovering"})]}),e.jsxs("div",{className:"p-2 bg-red-500/10 rounded-md",children:[e.jsx(ge,{className:"h-5 w-5 text-red-500 mx-auto mb-1"}),e.jsx("p",{className:"font-medium",children:d.fatigued.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Needs Rest"})]})]})})]}),e.jsxs(U,{defaultValue:"ready",children:[e.jsxs(H,{className:"grid grid-cols-3 mb-2",children:[e.jsx(G,{value:"ready",children:"Ready to Train"}),e.jsx(G,{value:"recovering",children:"Recovering"}),e.jsx(G,{value:"fatigued",children:"Needs Rest"})]}),e.jsx(S,{value:"ready",children:e.jsx(D,{children:e.jsx(T,{className:"pt-6",children:d.ready.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No muscle groups are ready for training"}):e.jsx("div",{className:"grid gap-4",children:d.ready.map(f=>e.jsx(V,{muscle:f,getExercises:l},f.muscleGroup))})})})}),e.jsx(S,{value:"recovering",children:e.jsx(D,{children:e.jsx(T,{className:"pt-6",children:d.recovering.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No muscle groups are recovering"}):e.jsx("div",{className:"grid gap-4",children:d.recovering.map(f=>e.jsx(V,{muscle:f,getExercises:l},f.muscleGroup))})})})}),e.jsxs(S,{value:"fatigued",children:[e.jsx(D,{children:e.jsx(T,{className:"pt-6",children:d.fatigued.length===0?e.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No muscle groups need rest"}):e.jsx("div",{className:"grid gap-4",children:d.fatigued.map(f=>e.jsx(V,{muscle:f,getExercises:l},f.muscleGroup))})})}),"          "]})]})]}),e.jsxs("div",{className:"mt-6 grid gap-6",children:[e.jsx(Ee,{logs:n}),e.jsx(Pe,{logs:n}),e.jsx($e,{logs:n})]})]})},V=({muscle:r,getExercises:i})=>{const n=i(r.muscleGroup).slice(0,5).map(d=>({exercise:d,muscleGroup:r.muscleGroup})),l=d=>d<20?"bg-green-500":d<60?"bg-yellow-500":"bg-red-500",h=d=>d==="Ready"?"text-green-500":d==="Recovering"?"text-yellow-500":"text-red-500",p=d=>d==="Ready"?e.jsx(me,{className:"h-4 w-4 text-green-500"}):d==="Recovering"?e.jsx(Y,{className:"h-4 w-4 text-yellow-500"}):e.jsx(ge,{className:"h-4 w-4 text-red-500"});return e.jsx("div",{className:"border rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-lg font-medium",children:r.muscleGroup}),e.jsxs("div",{className:`flex items-center ${h(r.recoveryStatus)}`,children:[p(r.recoveryStatus),e.jsx("span",{className:"ml-1 text-sm",children:r.recoveryStatus})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Fatigue Level"}),e.jsxs("span",{className:"font-medium",children:[r.fatigue,"%"]})]}),e.jsx(we,{value:r.fatigue,className:`h-2 ${l(r.fatigue)}`})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(xe,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{children:"Last Training: "}),e.jsx("span",{className:"ml-1 font-medium",children:r.lastTrainingDate?new Date(r.lastTrainingDate).toLocaleDateString():"Never"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Y,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{children:"Rest Needed: "}),e.jsx("span",{className:"ml-1 font-medium",children:r.suggestedRestDays>0?`${r.suggestedRestDays} days`:"None"})]})]}),n.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"my-2"}),e.jsxs("div",{className:"mt-3",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Suggested Exercises:"}),e.jsx("div",{className:"grid grid-cols-1 gap-1",children:n.map((d,f)=>e.jsx("div",{className:"text-sm px-2 py-1 bg-muted/40 rounded",children:d.exercise},f))})]})]})]})})};function qe(){return e.jsx(De,{children:e.jsx(Be,{})})}const es=Object.freeze(Object.defineProperty({__proto__:null,default:qe},Symbol.toStringTag,{value:"Module"}));export{xe as C,he as I,qe as M,ge as T,Ae as a,Ie as b,P as c,Ze as d,es as e,We as g};
//# sourceMappingURL=MuscleFatiguePage-Db9aic3N.js.map
