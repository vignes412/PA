import{h as Ac,i as vs,k as ys,l as Nc,r as f,j as u,c as q,f as fr,u as cn,B as Ce,m as Qo,e as ye,n as Rc,R as X,S as Tc,o as hr}from"./pwa-components-Dcp0FC4k.js";import{g as Oe}from"./gapiScript-D2rOjFaT.js";import{c as xe,r as ea,R as jc,u as Oc,S as Pc,M as Mc,C as Ic,d as Lc}from"./index-CnbR8F8V.js";/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fc=xe("bell",Dc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=[["path",{d:"M12 17h1.5",key:"1gkc67"}],["path",{d:"M12 22h1.5",key:"1my7sn"}],["path",{d:"M12 2h1.5",key:"19tvb7"}],["path",{d:"M17.5 22H19a1 1 0 0 0 1-1",key:"10akbh"}],["path",{d:"M17.5 2H19a1 1 0 0 1 1 1v1.5",key:"1vrfjs"}],["path",{d:"M20 14v3h-2.5",key:"1naeju"}],["path",{d:"M20 8.5V10",key:"1ctpfu"}],["path",{d:"M4 10V8.5",key:"1o3zg5"}],["path",{d:"M4 19.5V14",key:"ob81pf"}],["path",{d:"M4 4.5A2.5 2.5 0 0 1 6.5 2H8",key:"s8vcyb"}],["path",{d:"M8 22H6.5a1 1 0 0 1 0-5H8",key:"1cu73q"}]],ta=xe("book-dashed",Vc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Wc=xe("calendar-clock",$c);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ra=xe("chart-column",Bc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=xe("check",zc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zc=xe("chevron-left",Uc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Hc=xe("chevron-right",Gc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],ro=xe("chevrons-up-down",qc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],na=xe("circle-play",Kc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],no=xe("clock",Yc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],sa=xe("dumbbell",Xc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],oa=xe("house",Jc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],aa=xe("log-out",Qc);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],tl=xe("menu",el);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ia=xe("plus",rl);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],sl=xe("refresh-cw",nl);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],al=xe("search",ol);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ca=xe("settings",il);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ll=xe("user",cl);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],la=xe("x",ul);/**
 * @license lucide-react v0.509.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],fl=xe("zap",dl),xs=Ac.sheets.spreadsheetId;async function ln(){if(!Oe||!Oe.auth2||!Oe.auth2.getAuthInstance())throw console.error("Google Auth (gapi.auth2) not initialized. Ensure AuthProvider has initialized gapi."),new Error("Google Auth (gapi.auth2) not initialized.");if(!Oe.auth2.getAuthInstance().isSignedIn.get())throw console.error("User is not signed in via Google Auth."),new Error("User not authenticated for Google Sheets API.");if((!Oe.client||typeof Oe.client.load!="function")&&await new Promise((t,r)=>{Oe.load("client",n=>{n||!Oe.client?(console.error("Failed to load gapi.client:",n),r(n||new Error("Failed to load gapi.client"))):t()})}),!Oe.client.sheets)try{await new Promise((t,r)=>{Oe.client.load("sheets","v4").then(()=>{Oe.client.sheets?t():(console.error("gapi.client.sheets not available after load call."),r(new Error("gapi.client.sheets not available after load call.")))},n=>{console.error("Error in gapi.client.load('sheets', 'v4'):",n),r(n)})})}catch(t){throw console.error("Error loading Google Sheets API (wrapped promise):",t),new Error("Failed to load Google Sheets API.")}if(!Oe.client.sheets)throw console.error("gapi.client.sheets is critically unavailable after loading attempts."),new Error("Google Sheets API (gapi.client.sheets) is critically unavailable.");return Oe.client.sheets}async function Gn(e,t){var r,n,s;try{const o=await ln(),a=[Object.values(t)];return{success:!0,rowId:(r=(await o.spreadsheets.values.append({spreadsheetId:xs,range:e,valueInputOption:"USER_ENTERED",resource:{values:a}})).result.updates)==null?void 0:r.updatedRange}}catch(o){const a=o;return console.error(`Error creating row in sheet "${e}":`,a),{success:!1,error:((s=(n=a.result)==null?void 0:n.error)==null?void 0:s.message)||a.message||"Failed to create spreadsheet row."}}}async function ws(e){var t,r;try{const n=await ln(),s=e,a=(await n.spreadsheets.values.get({spreadsheetId:xs,range:s})).result.values;if(a&&a.length>0){const i=a[0].map(String);return{success:!0,data:a.slice(1).map(c=>{const d={};return i.forEach((h,m)=>{d[h]=c[m]}),d})}}else return{success:!0,data:[]}}catch(n){const s=n;return console.error(`Error reading sheet "${e}":`,s),{success:!1,error:((r=(t=s.result)==null?void 0:t.error)==null?void 0:r.message)||s.message||"Failed to read spreadsheet data."}}}async function hl(e,t,r){var n,s;try{const o=await ln();return console.error(`updateSpreadsheetRow for sheet "${e}" (identifier: ${JSON.stringify(t)}) is not fully implemented. You need to determine the exact row and range to update. Data to update:`,r,"Sheets service initialized:",!!o),{success:!1,error:"updateSpreadsheetRow is not fully implemented. Check console for details."}}catch(o){const a=o;return console.error(`Error updating row in sheet "${e}":`,a),{success:!1,error:((s=(n=a.result)==null?void 0:n.error)==null?void 0:s.message)||a.message||"Failed to update spreadsheet row."}}}async function ml(e,t,r){var n,s,o,a;try{const l=(n=(await e.spreadsheets.get({spreadsheetId:t,fields:"sheets(properties(sheetId,title))"})).result.sheets)==null?void 0:n.find(c=>{var d;return((d=c.properties)==null?void 0:d.title)===r});return(s=l==null?void 0:l.properties)==null?void 0:s.sheetId}catch(i){const l=i;console.error(`Error fetching sheetId for title "${r}":`,l);const c=((a=(o=l.result)==null?void 0:o.error)==null?void 0:a.message)||l.message||`Failed to fetch sheetId for title "${r}".`;throw new Error(c)}}async function pl(e,t){var r,n;try{const s=await ln(),o=await ml(s,xs,e);return o===void 0?{success:!1,error:`Could not find sheetId for sheet name "${e}". Deletion failed.`}:(console.error(`deleteSpreadsheetRow for sheet "${e}" (identifier: ${JSON.stringify(t)}) is not fully implemented. You need to determine the exact 0-based rowIndex to delete. SheetId found: ${o}`),{success:!1,error:"deleteSpreadsheetRow is not fully implemented. Check console for details."})}catch(s){const o=s;return console.error(`Error deleting row in sheet "${e}":`,o),{success:!1,error:((n=(r=o.result)==null?void 0:r.error)==null?void 0:n.message)||o.message||"Failed to delete spreadsheet row."}}}console.log("Spreadsheet API module (Google Sheets GAPI client version) loaded.");const so=()=>`log_${new Date().getTime()}_${Math.random().toString(36).substring(2,9)}`,et=vs()(ys((e,t)=>({workoutLogs:[],isLoading:!1,error:null,isDataFetched:!1,fetchWorkoutLogs:async(r=!1)=>{if(!(!r&&t().isDataFetched&&navigator.onLine)){if(e({isLoading:!0,error:null}),!navigator.onLine){if(t().workoutLogs.length>0){e({isLoading:!1,isDataFetched:!0});return}e({error:"Offline and no data cached.",isLoading:!1,isDataFetched:!1});return}try{const s=await ws("Workout_Logs");if(s.success&&s.data){const o=s.data.map((a,i)=>{const l={date:String(a.date||a.Date||"N/A"),muscleGroup:String(a.muscleGroup||a["Muscle Group"]||"N/A"),exercise:String(a.exercise||a.Exercise||"N/A"),reps:parseFloat(String(a.reps||a.Reps)),weight:parseFloat(String(a.weight||a.Weight)),rating:parseFloat(String(a.rating||a.Rating)),restTime:a.restTime||a["Rest Time"]||a["Rest (s)"]?parseFloat(String(a.restTime||a["Rest Time"]||a["Rest (s)"])):null};return l.date==="N/A"||l.exercise==="N/A"?(console.warn("Skipping row due to missing essential data (date/exercise) after mapping:",a),null):(isNaN(l.reps)&&(l.reps=0),isNaN(l.weight)&&(l.weight=0),isNaN(l.rating)&&(l.rating=0),l.restTime!==null&&isNaN(l.restTime)&&(l.restTime=null),{...l,id:so(),rowIndex:i+2,isSynced:!0})}).filter(a=>a!==null);e({workoutLogs:o,isLoading:!1,isDataFetched:!0,error:null})}else console.error("Failed to fetch workout logs from sheet:",s.error),e({error:s.error||"Failed to fetch workout logs.",isLoading:!1,isDataFetched:!1})}catch(n){const s=n;console.error("Error in fetchWorkoutLogs:",s),e({error:s.message,isLoading:!1,isDataFetched:!1})}}},addWorkoutLog:async r=>{const n=so(),s={...r,id:n,isSynced:!1};if(e(o=>({workoutLogs:[s,...o.workoutLogs],isLoading:navigator.onLine,error:null})),!navigator.onLine)return console.warn("Offline: Workout log added to local cache. Will sync when online."),s;try{const o="Workout_Logs",a={date:r.date,muscleGroup:r.muscleGroup,exercise:r.exercise,reps:r.reps,weight:r.weight,rating:r.rating,restTime:r.restTime??""},i=await Gn(o,a);if(i.success)return e(l=>({workoutLogs:l.workoutLogs.map(c=>c.id===n?{...c,isSynced:!0,rowIndex:i.rowId?parseInt(i.rowId.split("!").pop()||"0"):void 0}:c),isLoading:!1})),{...s,isSynced:!0};throw new Error(i.error||"Failed to create spreadsheet row.")}catch(o){return console.error("Failed to add workout log to sheet:",o),e(a=>({isLoading:!1,error:o.message,workoutLogs:a.workoutLogs.map(i=>i.id===n?{...i,isSynced:!1}:i)})),s}},editWorkoutLog:async r=>{navigator.onLine?e({isLoading:!0}):console.warn("Attempted to edit workout log while offline. Applying optimistically to cache.");try{if(typeof r.rowIndex!="number")throw new Error("Row index is missing for updating the log.");const n="Workout_Logs",o={...{date:r.date,muscleGroup:r.muscleGroup,exercise:r.exercise,reps:r.reps,weight:r.weight,rating:r.rating,restTime:r.restTime}};o.restTime===null&&(o.restTime="");const a=await hl(n,r.rowIndex,o);if(!a.success)throw new Error(a.error||"Failed to update spreadsheet row.");e(i=>({workoutLogs:i.workoutLogs.map(l=>l.id===r.id?{...l,...r}:l),isLoading:!1,error:null}))}catch(n){console.error("Failed to edit workout log:",n),e({error:n.message,isLoading:!1})}},removeWorkoutLog:async r=>{const n=t().workoutLogs.find(s=>s.id===r);if(!n||typeof n.rowIndex!="number"){e({error:"Log not found or rowIndex missing for deletion.",isLoading:!1}),console.error("Log not found or rowIndex missing for deletion:",r,n);return}navigator.onLine?e({isLoading:!0}):console.warn("Attempted to delete workout log while offline. Applying optimistically to cache.");try{const o=await pl("Workout_Logs",n.rowIndex);if(!o.success)throw new Error(o.error||"Failed to delete spreadsheet row.");e(a=>({workoutLogs:a.workoutLogs.filter(i=>i.id!==r),isLoading:!1,error:null}))}catch(s){console.error("Failed to delete workout log:",s),e({error:s.message,isLoading:!1})}},syncPendingLogs:async()=>{const r=t().workoutLogs.filter(n=>!n.isSynced);if(r.length!==0&&navigator.onLine){e({isLoading:!0,error:null});for(const n of r)try{const s={date:n.date,muscleGroup:n.muscleGroup,exercise:n.exercise,reps:n.reps,weight:n.weight,rating:n.rating,restTime:n.restTime??""},o=await Gn("Workout_Logs",s);if(o.success)e(a=>({workoutLogs:a.workoutLogs.map(i=>i.id===n.id?{...i,isSynced:!0,rowIndex:o.rowId?parseInt(o.rowId.split("!").pop()||"0"):void 0}:i)}));else throw new Error(o.error||"Sync failed for a log")}catch(s){console.error("Error syncing log:",n.id,s),e({error:s.message});break}e({isLoading:!1})}}}),{name:"workout-log-storage",storage:Nc(()=>localStorage),onRehydrateStorage:e=>(t,r)=>{r&&console.error("Error rehydrating workout log store:",r),typeof navigator<"u"&&navigator.onLine&&setTimeout(()=>{et&&typeof et.getState=="function"&&typeof et.getState().syncPendingLogs=="function"?et.getState().syncPendingLogs():console.warn("Attempted to call syncPendingLogs on rehydration, but the store or method was not available at that moment.")},0)},partialize:e=>({workoutLogs:e.workoutLogs,isDataFetched:e.isDataFetched})}));typeof window<"u"&&window.addEventListener("online",()=>{et.getState().syncPendingLogs()});const or=f.forwardRef(({className:e,type:t,...r},n)=>u.jsx("input",{type:t,className:q("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...r}));or.displayName="Input";function gl(e,t){const r=f.createContext(t),n=o=>{const{children:a,...i}=o,l=f.useMemo(()=>i,Object.values(i));return u.jsx(r.Provider,{value:l,children:a})};n.displayName=e+"Provider";function s(o){const a=f.useContext(r);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Yt(e,t=[]){let r=[];function n(o,a){const i=f.createContext(a),l=r.length;r=[...r,a];const c=h=>{var k;const{scope:m,children:g,...y}=h,v=((k=m==null?void 0:m[e])==null?void 0:k[l])||i,x=f.useMemo(()=>y,Object.values(y));return u.jsx(v.Provider,{value:x,children:g})};c.displayName=o+"Provider";function d(h,m){var v;const g=((v=m==null?void 0:m[e])==null?void 0:v[l])||i,y=f.useContext(g);if(y)return y;if(a!==void 0)return a;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=r.map(a=>f.createContext(a));return function(i){const l=(i==null?void 0:i[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return s.scopeName=e,[n,vl(s,...t)]}function vl(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const a=n.reduce((i,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...i,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}var yl=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ue=yl.reduce((e,t)=>{const r=fr(`Primitive.${t}`),n=f.forwardRef((s,o)=>{const{asChild:a,...i}=s,l=a?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...i,ref:o})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function xl(e,t){e&&ea.flushSync(()=>e.dispatchEvent(t))}let Cr;const wl=new Uint8Array(16);function bl(){if(!Cr&&(Cr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Cr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Cr(wl)}const ke=[];for(let e=0;e<256;++e)ke.push((e+256).toString(16).slice(1));function _l(e,t=0){return ke[e[t+0]]+ke[e[t+1]]+ke[e[t+2]]+ke[e[t+3]]+"-"+ke[e[t+4]]+ke[e[t+5]]+"-"+ke[e[t+6]]+ke[e[t+7]]+"-"+ke[e[t+8]]+ke[e[t+9]]+"-"+ke[e[t+10]]+ke[e[t+11]]+ke[e[t+12]]+ke[e[t+13]]+ke[e[t+14]]+ke[e[t+15]]}const kl=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oo={randomUUID:kl};function Sl(e,t,r){if(oo.randomUUID&&!e)return oo.randomUUID();e=e||{};const n=e.random||(e.rng||bl)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,_l(n)}const ua=vs()(ys((e,t)=>({templates:[],isLoading:!1,error:null,isDataFetched:!1,activeWorkout:null,fetchTemplates:async(r=!1)=>{if(!(typeof navigator<"u"&&navigator.onLine)&&!r){console.log("Offline, using cached workout template data."),e({isLoading:!1,error:null});return}e({isLoading:!0,error:null});try{const o=await ws("WorkoutTemplates");if(o.success&&o.data){const a=o.data.map(i=>{const l=String(i.Exercises||"[]");let c=[];try{c=JSON.parse(l)}catch(d){console.error("Failed to parse exercises JSON for template:",i.Name,d)}return{name:String(i.Name||""),description:String(i.Description||""),exercises:c,createdAt:String(i.CreatedAt||new Date().toISOString()),lastUsed:String(i.LastUsed||"")}}).filter(i=>i.name);e({templates:a,isLoading:!1,isDataFetched:!0})}else e({error:o.error||"Failed to fetch workout templates.",isLoading:!1})}catch(s){console.error("Error fetching workout templates:",s),e({error:s.message,isLoading:!1})}},saveTemplate:async r=>{try{const n="WorkoutTemplates",s={Name:r.name,Description:r.description,Exercises:JSON.stringify(r.exercises),CreatedAt:r.createdAt||new Date().toISOString(),LastUsed:r.lastUsed||""},o=await Gn(n,s);return o.success?(e(a=>({templates:[...a.templates,r]})),{success:!0}):{success:!1,error:o.error}}catch(n){return console.error("Error saving workout template:",n),{success:!1,error:n.message}}},deleteTemplate:async r=>{try{return e(n=>({templates:n.templates.filter(s=>s.name!==r)})),{success:!0}}catch(n){return{success:!1,error:n.message}}},getTemplateByName:r=>t().templates.find(n=>n.name===r),updateTemplate:r=>{e(n=>({templates:n.templates.map(s=>s.name===r.name?r:s)}))},startWorkout:async r=>{try{const n=t().getTemplateByName(r);if(!n)return{success:!1,error:"Template not found"};const s=new Date().toISOString(),o=n.exercises.map(l=>({...l,setsCompleted:0,percentComplete:0})),a={id:Sl(),templateName:n.name,description:n.description,startTime:s,lastUpdated:s,isCompleted:!1,exercises:o,notes:""},i={...n,lastUsed:s};return t().updateTemplate(i),e({activeWorkout:a}),{success:!0}}catch(n){return console.error("Error starting workout:",n),{success:!1,error:n.message}}},completeWorkout:async()=>{try{const r=t().activeWorkout;if(!r)return{success:!1,error:"No active workout found"};const n={...r,isCompleted:!0,lastUpdated:new Date().toISOString(),duration:Math.round((Date.now()-new Date(r.startTime).getTime())/6e4)};return e({activeWorkout:null}),{success:!0}}catch(r){return console.error("Error completing workout:",r),{success:!1,error:r.message}}},updateActiveWorkout:r=>{e(n=>n.activeWorkout?{activeWorkout:{...n.activeWorkout,...r,lastUpdated:new Date().toISOString()}}:n)},updateExerciseProgress:(r,n)=>{e(s=>{if(!s.activeWorkout)return s;const o=[...s.activeWorkout.exercises];if(r>=0&&r<o.length){const a=o[r],i={...a,setsCompleted:n,percentComplete:n/a.sets*100};return o[r]=i,{activeWorkout:{...s.activeWorkout,exercises:o,lastUpdated:new Date().toISOString()}}}return s})},addExerciseSet:r=>{e(n=>{if(!n.activeWorkout)return n;const s=[...n.activeWorkout.exercises];if(r>=0&&r<s.length){const o=s[r],a={...o,sets:o.sets+1};return s[r]=a,{activeWorkout:{...n.activeWorkout,exercises:s,lastUpdated:new Date().toISOString()}}}return n})},cancelWorkout:()=>{e({activeWorkout:null})},getActiveWorkout:()=>t().activeWorkout}),{name:"workout-templates-storage",partialize:e=>({templates:e.templates,isDataFetched:e.isDataFetched,activeWorkout:e.activeWorkout})})),El=[{view:"dashboard",label:"Dashboard",icon:oa},{view:"workouts",label:"Workouts",icon:sa},{view:"templates",label:"Templates",icon:ta},{view:"schedule",label:"Schedule",icon:Wc},{view:"stats",label:"Statistics",icon:ra},{view:"profile",label:"Profile",icon:ll},{view:"settings",label:"Settings",icon:ca}];function ao({className:e,isCollapsed:t,toggleSidebar:r}){const{setCurrentView:n,currentView:s,logout:o}=cn(),{activeWorkout:a}=ua(),i=[...El];return a&&i.splice(1,0,{view:"workout",label:"Active Workout",icon:na}),u.jsxs("div",{className:q("relative h-full bg-background text-card-foreground border-r border-r-border/40 transition-all duration-base backdrop-blur-md flex flex-col",t?"w-[var(--sidebar-collapsed-width,80px)]":"w-[var(--sidebar-width,280px)]",e),children:[u.jsxs("div",{className:q("flex h-[var(--header-height,64px)] items-center border-b border-b-border/40 px-3 sm:px-4 sticky top-0 z-20 bg-background/70 backdrop-blur-md",t?"justify-center":"justify-between"),children:[!t&&u.jsx("h1",{className:"text-lg font-semibold tracking-tight overflow-hidden text-ellipsis whitespace-nowrap bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Workout Log"}),u.jsxs(Ce,{variant:"ghost",size:"icon",onClick:r,className:"rounded-full hover:bg-primary/10 hover:text-primary transition-button duration-base",children:[t?u.jsx(Hc,{className:"h-4 w-4"}):u.jsx(Zc,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:t?"Expand sidebar":"Collapse sidebar"})]})]}),"      ",u.jsx("nav",{className:"flex-1 overflow-y-auto py-4 sm:py-6 px-2 sm:px-4 space-y-1 sm:space-y-2",children:i.map(l=>u.jsxs(Ce,{variant:"ghost",onClick:()=>n(l.view),className:q("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm transition-all duration-base w-full justify-start","hover:bg-primary/10 hover:text-primary",s===l.view?"bg-primary/15 text-primary font-medium shadow-sm":"text-muted-foreground",t&&"justify-center h-11 w-11 p-0"),title:t?l.label:void 0,children:[u.jsx(l.icon,{className:q("h-5 w-5 shrink-0",t?"m-0":"")}),!t&&u.jsx("span",{className:"transition-opacity duration-base whitespace-nowrap overflow-hidden text-ellipsis",children:l.label}),t&&u.jsx("span",{className:"sr-only",children:l.label})]},l.label))}),u.jsx("div",{className:q("border-t border-t-border/40 p-3 sm:p-4 mt-auto sticky bottom-0 bg-background/70 backdrop-blur-md",t?"px-2":"px-4"),children:u.jsxs(Ce,{variant:t?"ghost":"outline",size:t?"icon":"default",className:q("transition-all duration-base w-full",t?"h-10 w-10 p-0 rounded-full hover:bg-destructive/10 hover:text-destructive border-destructive/20":"justify-start gap-2 shadow-sm hover:shadow-md rounded-lg hover:bg-destructive/10 hover:text-destructive border-destructive/30 text-destructive-foreground"),onClick:o,title:t?"Sign Out":void 0,children:[u.jsx(aa,{className:q("h-4 w-4 shrink-0",t?"":"mr-2")}),!t&&u.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:"Sign Out"}),t&&u.jsx("span",{className:"sr-only",children:"Sign Out"})]})})]})}function he(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}var ut=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},Cl=Qo[" useId ".trim().toString()]||(()=>{}),Al=0;function Ve(e){const[t,r]=f.useState(Cl());return ut(()=>{r(n=>n??String(Al++))},[e]),e||(t?`radix-${t}`:"")}var Nl=Qo[" useInsertionEffect ".trim().toString()]||ut;function un({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[s,o,a]=Rl({defaultProp:t,onChange:r}),i=e!==void 0,l=i?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==i&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=i},[i,n])}const c=f.useCallback(d=>{var h;if(i){const m=Tl(d)?d(e):d;m!==e&&((h=a.current)==null||h.call(a,m))}else o(d)},[i,e,o,a]);return[l,c]}function Rl({defaultProp:e,onChange:t}){const[r,n]=f.useState(e),s=f.useRef(r),o=f.useRef(t);return Nl(()=>{o.current=t},[t]),f.useEffect(()=>{var a;s.current!==r&&((a=o.current)==null||a.call(o,r),s.current=r)},[r,s]),[r,n,o]}function Tl(e){return typeof e=="function"}function zt(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function jl(e,t=globalThis==null?void 0:globalThis.document){const r=zt(e);f.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Ol="DismissableLayer",Hn="dismissableLayer.update",Pl="dismissableLayer.pointerDownOutside",Ml="dismissableLayer.focusOutside",io,da=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),dn=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:i,...l}=e,c=f.useContext(da),[d,h]=f.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=f.useState({}),y=ye(t,N=>h(N)),v=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),k=v.indexOf(x),b=d?v.indexOf(d):-1,A=c.layersWithOutsidePointerEventsDisabled.size>0,S=b>=k,w=Dl(N=>{const z=N.target,K=[...c.branches].some(J=>J.contains(z));!S||K||(s==null||s(N),a==null||a(N),N.defaultPrevented||i==null||i())},m),E=Fl(N=>{const z=N.target;[...c.branches].some(J=>J.contains(z))||(o==null||o(N),a==null||a(N),N.defaultPrevented||i==null||i())},m);return jl(N=>{b===c.layers.size-1&&(n==null||n(N),!N.defaultPrevented&&i&&(N.preventDefault(),i()))},m),f.useEffect(()=>{if(d)return r&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(io=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),co(),()=>{r&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=io)}},[d,m,r,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),co())},[d,c]),f.useEffect(()=>{const N=()=>g({});return document.addEventListener(Hn,N),()=>document.removeEventListener(Hn,N)},[]),u.jsx(ue.div,{...l,ref:y,style:{pointerEvents:A?S?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,E.onFocusCapture),onBlurCapture:he(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,w.onPointerDownCapture)})});dn.displayName=Ol;var Il="DismissableLayerBranch",Ll=f.forwardRef((e,t)=>{const r=f.useContext(da),n=f.useRef(null),s=ye(t,n);return f.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),u.jsx(ue.div,{...e,ref:s})});Ll.displayName=Il;function Dl(e,t=globalThis==null?void 0:globalThis.document){const r=zt(e),n=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=i=>{if(i.target&&!n.current){let l=function(){fa(Pl,r,c,{discrete:!0})};const c={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);n.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function Fl(e,t=globalThis==null?void 0:globalThis.document){const r=zt(e),n=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!n.current&&fa(Ml,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function co(){const e=new CustomEvent(Hn);document.dispatchEvent(e)}function fa(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?xl(s,o):s.dispatchEvent(o)}var jn="focusScope.autoFocusOnMount",On="focusScope.autoFocusOnUnmount",lo={bubbles:!1,cancelable:!0},Vl="FocusScope",bs=f.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...a}=e,[i,l]=f.useState(null),c=zt(s),d=zt(o),h=f.useRef(null),m=ye(t,v=>l(v)),g=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(n){let v=function(A){if(g.paused||!i)return;const S=A.target;i.contains(S)?h.current=S:it(h.current,{select:!0})},x=function(A){if(g.paused||!i)return;const S=A.relatedTarget;S!==null&&(i.contains(S)||it(h.current,{select:!0}))},k=function(A){if(document.activeElement===document.body)for(const w of A)w.removedNodes.length>0&&it(i)};document.addEventListener("focusin",v),document.addEventListener("focusout",x);const b=new MutationObserver(k);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",x),b.disconnect()}}},[n,i,g.paused]),f.useEffect(()=>{if(i){fo.add(g);const v=document.activeElement;if(!i.contains(v)){const k=new CustomEvent(jn,lo);i.addEventListener(jn,c),i.dispatchEvent(k),k.defaultPrevented||($l(Zl(ha(i)),{select:!0}),document.activeElement===v&&it(i))}return()=>{i.removeEventListener(jn,c),setTimeout(()=>{const k=new CustomEvent(On,lo);i.addEventListener(On,d),i.dispatchEvent(k),k.defaultPrevented||it(v??document.body,{select:!0}),i.removeEventListener(On,d),fo.remove(g)},0)}}},[i,c,d,g]);const y=f.useCallback(v=>{if(!r&&!n||g.paused)return;const x=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,k=document.activeElement;if(x&&k){const b=v.currentTarget,[A,S]=Wl(b);A&&S?!v.shiftKey&&k===S?(v.preventDefault(),r&&it(A,{select:!0})):v.shiftKey&&k===A&&(v.preventDefault(),r&&it(S,{select:!0})):k===b&&v.preventDefault()}},[r,n,g.paused]);return u.jsx(ue.div,{tabIndex:-1,...a,ref:m,onKeyDown:y})});bs.displayName=Vl;function $l(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(it(n,{select:t}),document.activeElement!==r)return}function Wl(e){const t=ha(e),r=uo(t,e),n=uo(t.reverse(),e);return[r,n]}function ha(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function uo(e,t){for(const r of e)if(!Bl(r,{upTo:t}))return r}function Bl(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zl(e){return e instanceof HTMLInputElement&&"select"in e}function it(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&zl(e)&&t&&e.select()}}var fo=Ul();function Ul(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=ho(e,t),e.unshift(t)},remove(t){var r;e=ho(e,t),(r=e[0])==null||r.resume()}}}function ho(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function Zl(e){return e.filter(t=>t.tagName!=="A")}var Gl="Portal",_s=f.forwardRef((e,t)=>{var i;const{container:r,...n}=e,[s,o]=f.useState(!1);ut(()=>o(!0),[]);const a=r||s&&((i=globalThis==null?void 0:globalThis.document)==null?void 0:i.body);return a?jc.createPortal(u.jsx(ue.div,{...n,ref:t}),a):null});_s.displayName=Gl;function Hl(e,t){return f.useReducer((r,n)=>t[r][n]??r,e)}var Tt=e=>{const{present:t,children:r}=e,n=ql(t),s=typeof r=="function"?r({present:n.isPresent}):f.Children.only(r),o=ye(n.ref,Kl(s));return typeof r=="function"||n.isPresent?f.cloneElement(s,{ref:o}):null};Tt.displayName="Presence";function ql(e){const[t,r]=f.useState(),n=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),a=e?"mounted":"unmounted",[i,l]=Hl(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=Ar(n.current);o.current=i==="mounted"?c:"none"},[i]),ut(()=>{const c=n.current,d=s.current;if(d!==e){const m=o.current,g=Ar(c);e?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),ut(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=g=>{const v=Ar(n.current).includes(g.animationName);if(g.target===t&&v&&(l("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},m=g=>{g.target===t&&(o.current=Ar(n.current))};return t.addEventListener("animationstart",m),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",m),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:f.useCallback(c=>{n.current=c?getComputedStyle(c):null,r(c)},[])}}function Ar(e){return(e==null?void 0:e.animationName)||"none"}function Kl(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Pn=0;function ma(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??mo()),document.body.insertAdjacentElement("beforeend",e[1]??mo()),Pn++,()=>{Pn===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pn--}},[])}function mo(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ue=function(){return Ue=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Ue.apply(this,arguments)};function pa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Yl(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Mr="right-scroll-bar-position",Ir="width-before-scroll-bar",Xl="with-scroll-bars-hidden",Jl="--removed-body-scroll-bar-size";function Mn(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Ql(e,t){var r=f.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var eu=typeof window<"u"?f.useLayoutEffect:f.useEffect,po=new WeakMap;function tu(e,t){var r=Ql(null,function(n){return e.forEach(function(s){return Mn(s,n)})});return eu(function(){var n=po.get(r);if(n){var s=new Set(n),o=new Set(e),a=r.current;s.forEach(function(i){o.has(i)||Mn(i,null)}),o.forEach(function(i){s.has(i)||Mn(i,a)})}po.set(r,e)},[e]),r}function ru(e){return e}function nu(e,t){t===void 0&&(t=ru);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var a=t(o,n);return r.push(a),function(){r=r.filter(function(i){return i!==a})}},assignSyncMedium:function(o){for(n=!0;r.length;){var a=r;r=[],a.forEach(o)}r={push:function(i){return o(i)},filter:function(){return r}}},assignMedium:function(o){n=!0;var a=[];if(r.length){var i=r;r=[],i.forEach(o),a=r}var l=function(){var d=a;a=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),r={push:function(d){a.push(d),c()},filter:function(d){return a=a.filter(d),r}}}};return s}function su(e){e===void 0&&(e={});var t=nu(null);return t.options=Ue({async:!0,ssr:!1},e),t}var ga=function(e){var t=e.sideCar,r=pa(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return f.createElement(n,Ue({},r))};ga.isSideCarExport=!0;function ou(e,t){return e.useMedium(t),ga}var va=su(),In=function(){},fn=f.forwardRef(function(e,t){var r=f.useRef(null),n=f.useState({onScrollCapture:In,onWheelCapture:In,onTouchMoveCapture:In}),s=n[0],o=n[1],a=e.forwardProps,i=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,m=e.sideCar,g=e.noIsolation,y=e.inert,v=e.allowPinchZoom,x=e.as,k=x===void 0?"div":x,b=e.gapMode,A=pa(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=m,w=tu([r,t]),E=Ue(Ue({},A),s);return f.createElement(f.Fragment,null,d&&f.createElement(S,{sideCar:va,removeScrollBar:c,shards:h,noIsolation:g,inert:y,setCallbacks:o,allowPinchZoom:!!v,lockRef:r,gapMode:b}),a?f.cloneElement(f.Children.only(i),Ue(Ue({},E),{ref:w})):f.createElement(k,Ue({},E,{className:l,ref:w}),i))});fn.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fn.classNames={fullWidth:Ir,zeroRight:Mr};var au=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iu(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=au();return t&&e.setAttribute("nonce",t),e}function cu(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function lu(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var uu=function(){var e=0,t=null;return{add:function(r){e==0&&(t=iu())&&(cu(t,r),lu(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},du=function(){var e=uu();return function(t,r){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},ya=function(){var e=du(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},fu={left:0,top:0,right:0,gap:0},Ln=function(e){return parseInt(e||"",10)||0},hu=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Ln(r),Ln(n),Ln(s)]},mu=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return fu;var t=hu(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},pu=ya(),$t="data-scroll-locked",gu=function(e,t,r,n){var s=e.left,o=e.top,a=e.right,i=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(Xl,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(i,"px ").concat(n,`;
  }
  body[`).concat($t,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(i,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Mr,` {
    right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Ir,` {
    margin-right: `).concat(i,"px ").concat(n,`;
  }
  
  .`).concat(Mr," .").concat(Mr,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Ir," .").concat(Ir,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($t,`] {
    `).concat(Jl,": ").concat(i,`px;
  }
`)},go=function(){var e=parseInt(document.body.getAttribute($t)||"0",10);return isFinite(e)?e:0},vu=function(){f.useEffect(function(){return document.body.setAttribute($t,(go()+1).toString()),function(){var e=go()-1;e<=0?document.body.removeAttribute($t):document.body.setAttribute($t,e.toString())}},[])},yu=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;vu();var o=f.useMemo(function(){return mu(s)},[s]);return f.createElement(pu,{styles:gu(o,!t,s,r?"":"!important")})},qn=!1;if(typeof window<"u")try{var Nr=Object.defineProperty({},"passive",{get:function(){return qn=!0,!0}});window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{qn=!1}var Pt=qn?{passive:!1}:!1,xu=function(e){return e.tagName==="TEXTAREA"},xa=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!xu(e)&&r[t]==="visible")},wu=function(e){return xa(e,"overflowY")},bu=function(e){return xa(e,"overflowX")},vo=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=wa(e,n);if(s){var o=ba(e,n),a=o[1],i=o[2];if(a>i)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},_u=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},ku=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wa=function(e,t){return e==="v"?wu(t):bu(t)},ba=function(e,t){return e==="v"?_u(t):ku(t)},Su=function(e,t){return e==="h"&&t==="rtl"?-1:1},Eu=function(e,t,r,n,s){var o=Su(e,window.getComputedStyle(t).direction),a=o*n,i=r.target,l=t.contains(i),c=!1,d=a>0,h=0,m=0;do{var g=ba(e,i),y=g[0],v=g[1],x=g[2],k=v-x-o*y;(y||k)&&wa(e,i)&&(h+=k,m+=y),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!l&&i!==document.body||l&&(t.contains(i)||t===i));return(d&&Math.abs(h)<1||!d&&Math.abs(m)<1)&&(c=!0),c},Rr=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yo=function(e){return[e.deltaX,e.deltaY]},xo=function(e){return e&&"current"in e?e.current:e},Cu=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Au=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Nu=0,Mt=[];function Ru(e){var t=f.useRef([]),r=f.useRef([0,0]),n=f.useRef(),s=f.useState(Nu++)[0],o=f.useState(ya)[0],a=f.useRef(e);f.useEffect(function(){a.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var v=Yl([e.lockRef.current],(e.shards||[]).map(xo),!0).filter(Boolean);return v.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=f.useCallback(function(v,x){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var k=Rr(v),b=r.current,A="deltaX"in v?v.deltaX:b[0]-k[0],S="deltaY"in v?v.deltaY:b[1]-k[1],w,E=v.target,N=Math.abs(A)>Math.abs(S)?"h":"v";if("touches"in v&&N==="h"&&E.type==="range")return!1;var z=vo(N,E);if(!z)return!0;if(z?w=N:(w=N==="v"?"h":"v",z=vo(N,E)),!z)return!1;if(!n.current&&"changedTouches"in v&&(A||S)&&(n.current=w),!w)return!0;var K=n.current||w;return Eu(K,x,v,K==="h"?A:S)},[]),l=f.useCallback(function(v){var x=v;if(!(!Mt.length||Mt[Mt.length-1]!==o)){var k="deltaY"in x?yo(x):Rr(x),b=t.current.filter(function(w){return w.name===x.type&&(w.target===x.target||x.target===w.shadowParent)&&Cu(w.delta,k)})[0];if(b&&b.should){x.cancelable&&x.preventDefault();return}if(!b){var A=(a.current.shards||[]).map(xo).filter(Boolean).filter(function(w){return w.contains(x.target)}),S=A.length>0?i(x,A[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),c=f.useCallback(function(v,x,k,b){var A={name:v,delta:x,target:k,should:b,shadowParent:Tu(k)};t.current.push(A),setTimeout(function(){t.current=t.current.filter(function(S){return S!==A})},1)},[]),d=f.useCallback(function(v){r.current=Rr(v),n.current=void 0},[]),h=f.useCallback(function(v){c(v.type,yo(v),v.target,i(v,e.lockRef.current))},[]),m=f.useCallback(function(v){c(v.type,Rr(v),v.target,i(v,e.lockRef.current))},[]);f.useEffect(function(){return Mt.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Pt),document.addEventListener("touchmove",l,Pt),document.addEventListener("touchstart",d,Pt),function(){Mt=Mt.filter(function(v){return v!==o}),document.removeEventListener("wheel",l,Pt),document.removeEventListener("touchmove",l,Pt),document.removeEventListener("touchstart",d,Pt)}},[]);var g=e.removeScrollBar,y=e.inert;return f.createElement(f.Fragment,null,y?f.createElement(o,{styles:Au(s)}):null,g?f.createElement(yu,{gapMode:e.gapMode}):null)}function Tu(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ju=ou(va,Ru);var ks=f.forwardRef(function(e,t){return f.createElement(fn,Ue({},e,{ref:t,sideCar:ju}))});ks.classNames=fn.classNames;var Ou=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},It=new WeakMap,Tr=new WeakMap,jr={},Dn=0,_a=function(e){return e&&(e.host||_a(e.parentNode))},Pu=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=_a(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Mu=function(e,t,r,n){var s=Pu(t,Array.isArray(e)?e:[e]);jr[r]||(jr[r]=new WeakMap);var o=jr[r],a=[],i=new Set,l=new Set(s),c=function(h){!h||i.has(h)||(i.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(m){if(i.has(m))d(m);else try{var g=m.getAttribute(n),y=g!==null&&g!=="false",v=(It.get(m)||0)+1,x=(o.get(m)||0)+1;It.set(m,v),o.set(m,x),a.push(m),v===1&&y&&Tr.set(m,!0),x===1&&m.setAttribute(r,"true"),y||m.setAttribute(n,"true")}catch(k){console.error("aria-hidden: cannot operate on ",m,k)}})};return d(t),i.clear(),Dn++,function(){a.forEach(function(h){var m=It.get(h)-1,g=o.get(h)-1;It.set(h,m),o.set(h,g),m||(Tr.has(h)||h.removeAttribute(n),Tr.delete(h)),g||h.removeAttribute(r)}),Dn--,Dn||(It=new WeakMap,It=new WeakMap,Tr=new WeakMap,jr={})}},ka=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=Ou(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),Mu(n,s,r,"aria-hidden")):function(){return null}},hn="Dialog",[Sa,ep]=Yt(hn),[Iu,Be]=Sa(hn),Ea=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!0}=e,i=f.useRef(null),l=f.useRef(null),[c,d]=un({prop:n,defaultProp:s??!1,onChange:o,caller:hn});return u.jsx(Iu,{scope:t,triggerRef:i,contentRef:l,contentId:Ve(),titleId:Ve(),descriptionId:Ve(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:a,children:r})};Ea.displayName=hn;var Ca="DialogTrigger",Aa=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Be(Ca,r),o=ye(t,s.triggerRef);return u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Cs(s.open),...n,ref:o,onClick:he(e.onClick,s.onOpenToggle)})});Aa.displayName=Ca;var Ss="DialogPortal",[Lu,Na]=Sa(Ss,{forceMount:void 0}),Ra=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=Be(Ss,t);return u.jsx(Lu,{scope:t,forceMount:r,children:f.Children.map(n,a=>u.jsx(Tt,{present:r||o.open,children:u.jsx(_s,{asChild:!0,container:s,children:a})}))})};Ra.displayName=Ss;var Fr="DialogOverlay",Ta=f.forwardRef((e,t)=>{const r=Na(Fr,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Be(Fr,e.__scopeDialog);return o.modal?u.jsx(Tt,{present:n||o.open,children:u.jsx(Fu,{...s,ref:t})}):null});Ta.displayName=Fr;var Du=fr("DialogOverlay.RemoveScroll"),Fu=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Be(Fr,r);return u.jsx(ks,{as:Du,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ue.div,{"data-state":Cs(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),kt="DialogContent",ja=f.forwardRef((e,t)=>{const r=Na(kt,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=Be(kt,e.__scopeDialog);return u.jsx(Tt,{present:n||o.open,children:o.modal?u.jsx(Vu,{...s,ref:t}):u.jsx($u,{...s,ref:t})})});ja.displayName=kt;var Vu=f.forwardRef((e,t)=>{const r=Be(kt,e.__scopeDialog),n=f.useRef(null),s=ye(t,r.contentRef,n);return f.useEffect(()=>{const o=n.current;if(o)return ka(o)},[]),u.jsx(Oa,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var a;o.preventDefault(),(a=r.triggerRef.current)==null||a.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const a=o.detail.originalEvent,i=a.button===0&&a.ctrlKey===!0;(a.button===2||i)&&o.preventDefault()}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault())})}),$u=f.forwardRef((e,t)=>{const r=Be(kt,e.__scopeDialog),n=f.useRef(!1),s=f.useRef(!1);return u.jsx(Oa,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Oa=f.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...a}=e,i=Be(kt,r),l=f.useRef(null),c=ye(t,l);return ma(),u.jsxs(u.Fragment,{children:[u.jsx(bs,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(dn,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Cs(i.open),...a,ref:c,onDismiss:()=>i.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Wu,{titleId:i.titleId}),u.jsx(zu,{contentRef:l,descriptionId:i.descriptionId})]})]})}),Es="DialogTitle",Pa=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Be(Es,r);return u.jsx(ue.h2,{id:s.titleId,...n,ref:t})});Pa.displayName=Es;var Ma="DialogDescription",Ia=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Be(Ma,r);return u.jsx(ue.p,{id:s.descriptionId,...n,ref:t})});Ia.displayName=Ma;var La="DialogClose",Da=f.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=Be(La,r);return u.jsx(ue.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>s.onOpenChange(!1))})});Da.displayName=La;function Cs(e){return e?"open":"closed"}var Fa="DialogTitleWarning",[tp,Va]=gl(Fa,{contentName:kt,titleName:Es,docsSlug:"dialog"}),Wu=({titleId:e})=>{const t=Va(Fa),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},Bu="DialogDescriptionWarning",zu=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Va(Bu).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},As=Ea,Uu=Aa,Ns=Ra,Rs=Ta,Ts=ja,Zu=Pa,Gu=Ia,$a=Da;function Hu({...e}){return u.jsx(As,{"data-slot":"sheet",...e})}function qu({...e}){return u.jsx(Uu,{"data-slot":"sheet-trigger",...e})}function Ku({...e}){return u.jsx(Ns,{"data-slot":"sheet-portal",...e})}function Yu({className:e,...t}){return u.jsx(Rs,{"data-slot":"sheet-overlay",className:q("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Xu({className:e,children:t,side:r="right",...n}){return u.jsxs(Ku,{children:[u.jsx(Yu,{}),u.jsxs(Ts,{"data-slot":"sheet-content",className:q("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...n,children:[t,u.jsxs($a,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[u.jsx(la,{className:"size-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}const Ju=({className:e,variant:t="outline"})=>{const{theme:r,setTheme:n}=Oc(),s=()=>{n(r==="dark"?"light":"dark")};return u.jsxs(Ce,{variant:t,size:"icon",onClick:s,className:q("rounded-full transition-all hover:scale-110 focus-visible:scale-110 hover:bg-primary/10 hover:text-primary",e),"aria-label":`Switch to ${r==="light"?"dark":"light"} mode`,children:[u.jsxs("div",{className:"relative w-5 h-5 overflow-hidden",children:[u.jsx(Pc,{className:q("h-5 w-5 absolute top-0 left-0 transition-all duration-300",r==="light"?"opacity-0 rotate-90 scale-0":"opacity-100 rotate-0 scale-100")}),u.jsx(Mc,{className:q("h-5 w-5 absolute top-0 left-0 transition-all duration-300",r==="light"?"opacity-100 rotate-0 scale-100":"opacity-0 rotate-90 scale-0")})]}),u.jsx("span",{className:"sr-only",children:"Toggle theme"})]})},Qu=vs()(ys((e,t)=>({exercises:[],exerciseGroups:[],isLoading:!1,error:null,isDataFetched:!1,fetchExercises:async(r=!1)=>{if(!(typeof navigator<"u"&&navigator.onLine)&&!r){console.log("Offline, using cached exercises data."),e({isLoading:!1,error:null});return}r&&(console.log("[ExercisesStore] Force refreshing data..."),navigator.serviceWorker&&navigator.serviceWorker.controller&&(navigator.serviceWorker.controller.postMessage({type:"CLEAR_API_CACHE",cacheName:"sheets-api-cache"}),console.log("[ExercisesStore] Sent message to SW to clear sheets-api-cache.")),localStorage.removeItem("workout-log-storage"),console.log("[ExercisesStore] Cleared workout-log-storage from localStorage.")),e({isLoading:!0,error:null});try{const o=await ws("Exercises");if(o.success&&o.data){const a=o.data.map(c=>({muscleGroup:String(c.Muscle_Group||""),exercise:String(c.Exercise||""),difficultyLevel:String(c.Difficulty_Level||""),equipmentRequired:String(c.Equipment_Required||""),targetIntensity:String(c.Target_Intensity||""),primaryMuscleGroup:String(c.Primary_Muscle_Group||""),secondaryMuscleGroup:String(c.Secondary_Muscle_Group||"")||null,exerciseDuration:String(c.Exercise_Duration||""),recoveryTime:String(c.Recovery_Time||""),exerciseType:String(c.Exercise_Type||""),caloriesBurned:Number(c.Calories_Burned||0),exerciseProgression:String(c.Exercise_Progression||""),injuryRiskLevel:String(c.Injury_Risk_Level||""),exerciseLink:String(c.exercise_link||""),imageLink:String(c.image_link||""),relatedPath:String(c.related_path||"")})).filter(c=>c.muscleGroup&&c.exercise),i=new Map;a.forEach(c=>{i.has(c.muscleGroup)||i.set(c.muscleGroup,[]);const d=i.get(c.muscleGroup);d&&!d.includes(c.exercise)&&d.push(c.exercise)});const l=Array.from(i.entries()).map(([c,d])=>({muscleGroup:c,exercises:d}));e({exercises:a,exerciseGroups:l,isLoading:!1,isDataFetched:!0})}else e({error:o.error||"Failed to fetch exercises data.",isLoading:!1})}catch(s){console.error("Error fetching exercises:",s),e({error:s.message,isLoading:!1})}},getExercisesByMuscleGroup:r=>{const n=t().exerciseGroups.find(s=>s.muscleGroup.toLowerCase()===r.toLowerCase());return n?n.exercises:[]},getMuscleGroupsByExercise:r=>{const n=new Set;return t().exercises.forEach(s=>{s.exercise.toLowerCase()===r.toLowerCase()&&n.add(s.muscleGroup)}),Array.from(n)},getAllUniqueExerciseNames:()=>{const r=new Set;return t().exercises.forEach(n=>r.add(n.exercise)),Array.from(r)}}),{name:"exercises-storage",partialize:e=>({exercises:e.exercises,exerciseGroups:e.exerciseGroups,isDataFetched:e.isDataFetched})})),ed=["top","right","bottom","left"],dt=Math.min,Me=Math.max,Vr=Math.round,Or=Math.floor,He=e=>({x:e,y:e}),td={left:"right",right:"left",bottom:"top",top:"bottom"},rd={start:"end",end:"start"};function Kn(e,t,r){return Me(e,dt(t,r))}function nt(e,t){return typeof e=="function"?e(t):e}function st(e){return e.split("-")[0]}function Xt(e){return e.split("-")[1]}function js(e){return e==="x"?"y":"x"}function Os(e){return e==="y"?"height":"width"}function tt(e){return["top","bottom"].includes(st(e))?"y":"x"}function Ps(e){return js(tt(e))}function nd(e,t,r){r===void 0&&(r=!1);const n=Xt(e),s=Ps(e),o=Os(s);let a=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(a=$r(a)),[a,$r(a)]}function sd(e){const t=$r(e);return[Yn(e),t,Yn(t)]}function Yn(e){return e.replace(/start|end/g,t=>rd[t])}function od(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:a;default:return[]}}function ad(e,t,r,n){const s=Xt(e);let o=od(st(e),r==="start",n);return s&&(o=o.map(a=>a+"-"+s),t&&(o=o.concat(o.map(Yn)))),o}function $r(e){return e.replace(/left|right|bottom|top/g,t=>td[t])}function id(e){return{top:0,right:0,bottom:0,left:0,...e}}function Wa(e){return typeof e!="number"?id(e):{top:e,right:e,bottom:e,left:e}}function Wr(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function wo(e,t,r){let{reference:n,floating:s}=e;const o=tt(t),a=Ps(t),i=Os(a),l=st(t),c=o==="y",d=n.x+n.width/2-s.width/2,h=n.y+n.height/2-s.height/2,m=n[i]/2-s[i]/2;let g;switch(l){case"top":g={x:d,y:n.y-s.height};break;case"bottom":g={x:d,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:h};break;case"left":g={x:n.x-s.width,y:h};break;default:g={x:n.x,y:n.y}}switch(Xt(t)){case"start":g[a]-=m*(r&&c?-1:1);break;case"end":g[a]+=m*(r&&c?-1:1);break}return g}const cd=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:a}=r,i=o.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=wo(c,n,l),m=n,g={},y=0;for(let v=0;v<i.length;v++){const{name:x,fn:k}=i[v],{x:b,y:A,data:S,reset:w}=await k({x:d,y:h,initialPlacement:n,placement:m,strategy:s,middlewareData:g,rects:c,platform:a,elements:{reference:e,floating:t}});d=b??d,h=A??h,g={...g,[x]:{...g[x],...S}},w&&y<=50&&(y++,typeof w=="object"&&(w.placement&&(m=w.placement),w.rects&&(c=w.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:s}):w.rects),{x:d,y:h}=wo(c,m,l)),v=-1)}return{x:d,y:h,placement:m,strategy:s,middlewareData:g}};async function mr(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:a,elements:i,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:m=!1,padding:g=0}=nt(t,e),y=Wa(g),x=i[m?h==="floating"?"reference":"floating":h],k=Wr(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:l})),b=h==="floating"?{x:n,y:s,width:a.floating.width,height:a.floating.height}:a.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),S=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},w=Wr(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:b,offsetParent:A,strategy:l}):b);return{top:(k.top-w.top+y.top)/S.y,bottom:(w.bottom-k.bottom+y.bottom)/S.y,left:(k.left-w.left+y.left)/S.x,right:(w.right-k.right+y.right)/S.x}}const ld=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:a,elements:i,middlewareData:l}=t,{element:c,padding:d=0}=nt(e,t)||{};if(c==null)return{};const h=Wa(d),m={x:r,y:n},g=Ps(s),y=Os(g),v=await a.getDimensions(c),x=g==="y",k=x?"top":"left",b=x?"bottom":"right",A=x?"clientHeight":"clientWidth",S=o.reference[y]+o.reference[g]-m[g]-o.floating[y],w=m[g]-o.reference[g],E=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let N=E?E[A]:0;(!N||!await(a.isElement==null?void 0:a.isElement(E)))&&(N=i.floating[A]||o.floating[y]);const z=S/2-w/2,K=N/2-v[y]/2-1,J=dt(h[k],K),Y=dt(h[b],K),$=J,D=N-v[y]-Y,U=N/2-v[y]/2+z,Q=Kn($,U,D),te=!l.arrow&&Xt(s)!=null&&U!==Q&&o.reference[y]/2-(U<$?J:Y)-v[y]/2<0,re=te?U<$?U-$:U-D:0;return{[g]:m[g]+re,data:{[g]:Q,centerOffset:U-Q-re,...te&&{alignmentOffset:re}},reset:te}}}),ud=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:a,initialPlacement:i,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:v=!0,...x}=nt(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const k=st(s),b=tt(i),A=st(i)===i,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=m||(A||!v?[$r(i)]:sd(i)),E=y!=="none";!m&&E&&w.push(...ad(i,v,y,S));const N=[i,...w],z=await mr(t,x),K=[];let J=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&K.push(z[k]),h){const Q=nd(s,a,S);K.push(z[Q[0]],z[Q[1]])}if(J=[...J,{placement:s,overflows:K}],!K.every(Q=>Q<=0)){var Y,$;const Q=(((Y=o.flip)==null?void 0:Y.index)||0)+1,te=N[Q];if(te){var D;const B=h==="alignment"?b!==tt(te):!1,ce=((D=J[0])==null?void 0:D.overflows[0])>0;if(!B||ce)return{data:{index:Q,overflows:J},reset:{placement:te}}}let re=($=J.filter(B=>B.overflows[0]<=0).sort((B,ce)=>B.overflows[1]-ce.overflows[1])[0])==null?void 0:$.placement;if(!re)switch(g){case"bestFit":{var U;const B=(U=J.filter(ce=>{if(E){const fe=tt(ce.placement);return fe===b||fe==="y"}return!0}).map(ce=>[ce.placement,ce.overflows.filter(fe=>fe>0).reduce((fe,je)=>fe+je,0)]).sort((ce,fe)=>ce[1]-fe[1])[0])==null?void 0:U[0];B&&(re=B);break}case"initialPlacement":re=i;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function bo(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function _o(e){return ed.some(t=>e[t]>=0)}const dd=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=nt(e,t);switch(n){case"referenceHidden":{const o=await mr(t,{...s,elementContext:"reference"}),a=bo(o,r.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:_o(a)}}}case"escaped":{const o=await mr(t,{...s,altBoundary:!0}),a=bo(o,r.floating);return{data:{escapedOffsets:a,escaped:_o(a)}}}default:return{}}}}};async function fd(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),a=st(r),i=Xt(r),l=tt(r)==="y",c=["left","top"].includes(a)?-1:1,d=o&&l?-1:1,h=nt(t,e);let{mainAxis:m,crossAxis:g,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return i&&typeof y=="number"&&(g=i==="end"?y*-1:y),l?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const hd=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:a,middlewareData:i}=t,l=await fd(t,e);return a===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:a}}}}},md=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:a=!1,limiter:i={fn:x=>{let{x:k,y:b}=x;return{x:k,y:b}}},...l}=nt(e,t),c={x:r,y:n},d=await mr(t,l),h=tt(st(s)),m=js(h);let g=c[m],y=c[h];if(o){const x=m==="y"?"top":"left",k=m==="y"?"bottom":"right",b=g+d[x],A=g-d[k];g=Kn(b,g,A)}if(a){const x=h==="y"?"top":"left",k=h==="y"?"bottom":"right",b=y+d[x],A=y-d[k];y=Kn(b,y,A)}const v=i.fn({...t,[m]:g,[h]:y});return{...v,data:{x:v.x-r,y:v.y-n,enabled:{[m]:o,[h]:a}}}}}},pd=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:a}=t,{offset:i=0,mainAxis:l=!0,crossAxis:c=!0}=nt(e,t),d={x:r,y:n},h=tt(s),m=js(h);let g=d[m],y=d[h];const v=nt(i,t),x=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const A=m==="y"?"height":"width",S=o.reference[m]-o.floating[A]+x.mainAxis,w=o.reference[m]+o.reference[A]-x.mainAxis;g<S?g=S:g>w&&(g=w)}if(c){var k,b;const A=m==="y"?"width":"height",S=["top","left"].includes(st(s)),w=o.reference[h]-o.floating[A]+(S&&((k=a.offset)==null?void 0:k[h])||0)+(S?0:x.crossAxis),E=o.reference[h]+o.reference[A]+(S?0:((b=a.offset)==null?void 0:b[h])||0)-(S?x.crossAxis:0);y<w?y=w:y>E&&(y=E)}return{[m]:g,[h]:y}}}},gd=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:a,elements:i}=t,{apply:l=()=>{},...c}=nt(e,t),d=await mr(t,c),h=st(s),m=Xt(s),g=tt(s)==="y",{width:y,height:v}=o.floating;let x,k;h==="top"||h==="bottom"?(x=h,k=m===(await(a.isRTL==null?void 0:a.isRTL(i.floating))?"start":"end")?"left":"right"):(k=h,x=m==="end"?"top":"bottom");const b=v-d.top-d.bottom,A=y-d.left-d.right,S=dt(v-d[x],b),w=dt(y-d[k],A),E=!t.middlewareData.shift;let N=S,z=w;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(z=A),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(N=b),E&&!m){const J=Me(d.left,0),Y=Me(d.right,0),$=Me(d.top,0),D=Me(d.bottom,0);g?z=y-2*(J!==0||Y!==0?J+Y:Me(d.left,d.right)):N=v-2*($!==0||D!==0?$+D:Me(d.top,d.bottom))}await l({...t,availableWidth:z,availableHeight:N});const K=await a.getDimensions(i.floating);return y!==K.width||v!==K.height?{reset:{rects:!0}}:{}}}};function mn(){return typeof window<"u"}function Jt(e){return Ba(e)?(e.nodeName||"").toLowerCase():"#document"}function Ie(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xe(e){var t;return(t=(Ba(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ba(e){return mn()?e instanceof Node||e instanceof Ie(e).Node:!1}function $e(e){return mn()?e instanceof Element||e instanceof Ie(e).Element:!1}function Ke(e){return mn()?e instanceof HTMLElement||e instanceof Ie(e).HTMLElement:!1}function ko(e){return!mn()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ie(e).ShadowRoot}function xr(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=We(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function vd(e){return["table","td","th"].includes(Jt(e))}function pn(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Ms(e){const t=Is(),r=$e(e)?We(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function yd(e){let t=ft(e);for(;Ke(t)&&!Ut(t);){if(Ms(t))return t;if(pn(t))return null;t=ft(t)}return null}function Is(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ut(e){return["html","body","#document"].includes(Jt(e))}function We(e){return Ie(e).getComputedStyle(e)}function gn(e){return $e(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ft(e){if(Jt(e)==="html")return e;const t=e.assignedSlot||e.parentNode||ko(e)&&e.host||Xe(e);return ko(t)?t.host:t}function za(e){const t=ft(e);return Ut(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ke(t)&&xr(t)?t:za(t)}function pr(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=za(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),a=Ie(s);if(o){const i=Xn(a);return t.concat(a,a.visualViewport||[],xr(s)?s:[],i&&r?pr(i):[])}return t.concat(s,pr(s,[],r))}function Xn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Ua(e){const t=We(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ke(e),o=s?e.offsetWidth:r,a=s?e.offsetHeight:n,i=Vr(r)!==o||Vr(n)!==a;return i&&(r=o,n=a),{width:r,height:n,$:i}}function Ls(e){return $e(e)?e:e.contextElement}function Wt(e){const t=Ls(e);if(!Ke(t))return He(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Ua(t);let a=(o?Vr(r.width):r.width)/n,i=(o?Vr(r.height):r.height)/s;return(!a||!Number.isFinite(a))&&(a=1),(!i||!Number.isFinite(i))&&(i=1),{x:a,y:i}}const xd=He(0);function Za(e){const t=Ie(e);return!Is()||!t.visualViewport?xd:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function wd(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ie(e)?!1:t}function St(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Ls(e);let a=He(1);t&&(n?$e(n)&&(a=Wt(n)):a=Wt(e));const i=wd(o,r,n)?Za(o):He(0);let l=(s.left+i.x)/a.x,c=(s.top+i.y)/a.y,d=s.width/a.x,h=s.height/a.y;if(o){const m=Ie(o),g=n&&$e(n)?Ie(n):n;let y=m,v=Xn(y);for(;v&&n&&g!==y;){const x=Wt(v),k=v.getBoundingClientRect(),b=We(v),A=k.left+(v.clientLeft+parseFloat(b.paddingLeft))*x.x,S=k.top+(v.clientTop+parseFloat(b.paddingTop))*x.y;l*=x.x,c*=x.y,d*=x.x,h*=x.y,l+=A,c+=S,y=Ie(v),v=Xn(y)}}return Wr({width:d,height:h,x:l,y:c})}function Ds(e,t){const r=gn(e).scrollLeft;return t?t.left+r:St(Xe(e)).left+r}function Ga(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-(r?0:Ds(e,n)),o=n.top+t.scrollTop;return{x:s,y:o}}function bd(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",a=Xe(n),i=t?pn(t.floating):!1;if(n===a||i&&o)return r;let l={scrollLeft:0,scrollTop:0},c=He(1);const d=He(0),h=Ke(n);if((h||!h&&!o)&&((Jt(n)!=="body"||xr(a))&&(l=gn(n)),Ke(n))){const g=St(n);c=Wt(n),d.x=g.x+n.clientLeft,d.y=g.y+n.clientTop}const m=a&&!h&&!o?Ga(a,l,!0):He(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-l.scrollTop*c.y+d.y+m.y}}function _d(e){return Array.from(e.getClientRects())}function kd(e){const t=Xe(e),r=gn(e),n=e.ownerDocument.body,s=Me(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Me(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+Ds(e);const i=-r.scrollTop;return We(n).direction==="rtl"&&(a+=Me(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:a,y:i}}function Sd(e,t){const r=Ie(e),n=Xe(e),s=r.visualViewport;let o=n.clientWidth,a=n.clientHeight,i=0,l=0;if(s){o=s.width,a=s.height;const c=Is();(!c||c&&t==="fixed")&&(i=s.offsetLeft,l=s.offsetTop)}return{width:o,height:a,x:i,y:l}}function Ed(e,t){const r=St(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Ke(e)?Wt(e):He(1),a=e.clientWidth*o.x,i=e.clientHeight*o.y,l=s*o.x,c=n*o.y;return{width:a,height:i,x:l,y:c}}function So(e,t,r){let n;if(t==="viewport")n=Sd(e,r);else if(t==="document")n=kd(Xe(e));else if($e(t))n=Ed(t,r);else{const s=Za(e);n={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return Wr(n)}function Ha(e,t){const r=ft(e);return r===t||!$e(r)||Ut(r)?!1:We(r).position==="fixed"||Ha(r,t)}function Cd(e,t){const r=t.get(e);if(r)return r;let n=pr(e,[],!1).filter(i=>$e(i)&&Jt(i)!=="body"),s=null;const o=We(e).position==="fixed";let a=o?ft(e):e;for(;$e(a)&&!Ut(a);){const i=We(a),l=Ms(a);!l&&i.position==="fixed"&&(s=null),(o?!l&&!s:!l&&i.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||xr(a)&&!l&&Ha(e,a))?n=n.filter(d=>d!==a):s=i,a=ft(a)}return t.set(e,n),n}function Ad(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const a=[...r==="clippingAncestors"?pn(t)?[]:Cd(t,this._c):[].concat(r),n],i=a[0],l=a.reduce((c,d)=>{const h=So(t,d,s);return c.top=Me(h.top,c.top),c.right=dt(h.right,c.right),c.bottom=dt(h.bottom,c.bottom),c.left=Me(h.left,c.left),c},So(t,i,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Nd(e){const{width:t,height:r}=Ua(e);return{width:t,height:r}}function Rd(e,t,r){const n=Ke(t),s=Xe(t),o=r==="fixed",a=St(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const l=He(0);function c(){l.x=Ds(s)}if(n||!n&&!o)if((Jt(t)!=="body"||xr(s))&&(i=gn(t)),n){const g=St(t,!0,o,t);l.x=g.x+t.clientLeft,l.y=g.y+t.clientTop}else s&&c();o&&!n&&s&&c();const d=s&&!n&&!o?Ga(s,i):He(0),h=a.left+i.scrollLeft-l.x-d.x,m=a.top+i.scrollTop-l.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function Fn(e){return We(e).position==="static"}function Eo(e,t){if(!Ke(e)||We(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Xe(e)===r&&(r=r.ownerDocument.body),r}function qa(e,t){const r=Ie(e);if(pn(e))return r;if(!Ke(e)){let s=ft(e);for(;s&&!Ut(s);){if($e(s)&&!Fn(s))return s;s=ft(s)}return r}let n=Eo(e,t);for(;n&&vd(n)&&Fn(n);)n=Eo(n,t);return n&&Ut(n)&&Fn(n)&&!Ms(n)?r:n||yd(e)||r}const Td=async function(e){const t=this.getOffsetParent||qa,r=this.getDimensions,n=await r(e.floating);return{reference:Rd(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function jd(e){return We(e).direction==="rtl"}const Od={convertOffsetParentRelativeRectToViewportRelativeRect:bd,getDocumentElement:Xe,getClippingRect:Ad,getOffsetParent:qa,getElementRects:Td,getClientRects:_d,getDimensions:Nd,getScale:Wt,isElement:$e,isRTL:jd};function Ka(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Pd(e,t){let r=null,n;const s=Xe(e);function o(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function a(i,l){i===void 0&&(i=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:h,width:m,height:g}=c;if(i||t(),!m||!g)return;const y=Or(h),v=Or(s.clientWidth-(d+m)),x=Or(s.clientHeight-(h+g)),k=Or(d),A={rootMargin:-y+"px "+-v+"px "+-x+"px "+-k+"px",threshold:Me(0,dt(1,l))||1};let S=!0;function w(E){const N=E[0].intersectionRatio;if(N!==l){if(!S)return a();N?a(!1,N):n=setTimeout(()=>{a(!1,1e-7)},1e3)}N===1&&!Ka(c,e.getBoundingClientRect())&&a(),S=!1}try{r=new IntersectionObserver(w,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(w,A)}r.observe(e)}return a(!0),o}function Md(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,c=Ls(e),d=s||o?[...c?pr(c):[],...pr(t)]:[];d.forEach(k=>{s&&k.addEventListener("scroll",r,{passive:!0}),o&&k.addEventListener("resize",r)});const h=c&&i?Pd(c,r):null;let m=-1,g=null;a&&(g=new ResizeObserver(k=>{let[b]=k;b&&b.target===c&&g&&(g.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var A;(A=g)==null||A.observe(t)})),r()}),c&&!l&&g.observe(c),g.observe(t));let y,v=l?St(e):null;l&&x();function x(){const k=St(e);v&&!Ka(v,k)&&r(),v=k,y=requestAnimationFrame(x)}return r(),()=>{var k;d.forEach(b=>{s&&b.removeEventListener("scroll",r),o&&b.removeEventListener("resize",r)}),h==null||h(),(k=g)==null||k.disconnect(),g=null,l&&cancelAnimationFrame(y)}}const Id=hd,Ld=md,Dd=ud,Fd=gd,Vd=dd,Co=ld,$d=pd,Wd=(e,t,r)=>{const n=new Map,s={platform:Od,...r},o={...s.platform,_c:n};return cd(e,t,{...s,platform:o})};var Lr=typeof document<"u"?f.useLayoutEffect:f.useEffect;function Br(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Br(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!Br(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Ya(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ao(e,t){const r=Ya(e);return Math.round(t*r)/r}function Vn(e){const t=f.useRef(e);return Lr(()=>{t.current=e}),t}function Bd(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:a}={},transform:i=!0,whileElementsMounted:l,open:c}=e,[d,h]=f.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[m,g]=f.useState(n);Br(m,n)||g(n);const[y,v]=f.useState(null),[x,k]=f.useState(null),b=f.useCallback(B=>{B!==E.current&&(E.current=B,v(B))},[]),A=f.useCallback(B=>{B!==N.current&&(N.current=B,k(B))},[]),S=o||y,w=a||x,E=f.useRef(null),N=f.useRef(null),z=f.useRef(d),K=l!=null,J=Vn(l),Y=Vn(s),$=Vn(c),D=f.useCallback(()=>{if(!E.current||!N.current)return;const B={placement:t,strategy:r,middleware:m};Y.current&&(B.platform=Y.current),Wd(E.current,N.current,B).then(ce=>{const fe={...ce,isPositioned:$.current!==!1};U.current&&!Br(z.current,fe)&&(z.current=fe,ea.flushSync(()=>{h(fe)}))})},[m,t,r,Y,$]);Lr(()=>{c===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[c]);const U=f.useRef(!1);Lr(()=>(U.current=!0,()=>{U.current=!1}),[]),Lr(()=>{if(S&&(E.current=S),w&&(N.current=w),S&&w){if(J.current)return J.current(S,w,D);D()}},[S,w,D,J,K]);const Q=f.useMemo(()=>({reference:E,floating:N,setReference:b,setFloating:A}),[b,A]),te=f.useMemo(()=>({reference:S,floating:w}),[S,w]),re=f.useMemo(()=>{const B={position:r,left:0,top:0};if(!te.floating)return B;const ce=Ao(te.floating,d.x),fe=Ao(te.floating,d.y);return i?{...B,transform:"translate("+ce+"px, "+fe+"px)",...Ya(te.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ce,top:fe}},[r,i,te.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:D,refs:Q,elements:te,floatingStyles:re}),[d,D,Q,te,re])}const zd=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Co({element:n.current,padding:s}).fn(r):{}:n?Co({element:n,padding:s}).fn(r):{}}}},Ud=(e,t)=>({...Id(e),options:[e,t]}),Zd=(e,t)=>({...Ld(e),options:[e,t]}),Gd=(e,t)=>({...$d(e),options:[e,t]}),Hd=(e,t)=>({...Dd(e),options:[e,t]}),qd=(e,t)=>({...Fd(e),options:[e,t]}),Kd=(e,t)=>({...Vd(e),options:[e,t]}),Yd=(e,t)=>({...zd(e),options:[e,t]});var Xd="Arrow",Xa=f.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return u.jsx(ue.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Xa.displayName=Xd;var Jd=Xa;function Ja(e){const[t,r]=f.useState(void 0);return ut(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let a,i;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,i=c.blockSize}else a=e.offsetWidth,i=e.offsetHeight;r({width:a,height:i})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Fs="Popper",[Qa,vn]=Yt(Fs),[Qd,ei]=Qa(Fs),ti=e=>{const{__scopePopper:t,children:r}=e,[n,s]=f.useState(null);return u.jsx(Qd,{scope:t,anchor:n,onAnchorChange:s,children:r})};ti.displayName=Fs;var ri="PopperAnchor",ni=f.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=ei(ri,r),a=f.useRef(null),i=ye(t,a);return f.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||a.current)}),n?null:u.jsx(ue.div,{...s,ref:i})});ni.displayName=ri;var Vs="PopperContent",[ef,tf]=Qa(Vs),si=f.forwardRef((e,t)=>{var de,_e,me,ze,jt,er;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:a=0,arrowPadding:i=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:y,...v}=e,x=ei(Vs,r),[k,b]=f.useState(null),A=ye(t,gt=>b(gt)),[S,w]=f.useState(null),E=Ja(S),N=(E==null?void 0:E.width)??0,z=(E==null?void 0:E.height)??0,K=n+(o!=="center"?"-"+o:""),J=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},Y=Array.isArray(c)?c:[c],$=Y.length>0,D={padding:J,boundary:Y.filter(nf),altBoundary:$},{refs:U,floatingStyles:Q,placement:te,isPositioned:re,middlewareData:B}=Bd({strategy:"fixed",placement:K,whileElementsMounted:(...gt)=>Md(...gt,{animationFrame:g==="always"}),elements:{reference:x.anchor},middleware:[Ud({mainAxis:s+z,alignmentAxis:a}),l&&Zd({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Gd():void 0,...D}),l&&Hd({...D}),qd({...D,apply:({elements:gt,rects:tr,availableWidth:An,availableHeight:Sr})=>{const{width:Er,height:Nn}=tr.reference,Ot=gt.floating.style;Ot.setProperty("--radix-popper-available-width",`${An}px`),Ot.setProperty("--radix-popper-available-height",`${Sr}px`),Ot.setProperty("--radix-popper-anchor-width",`${Er}px`),Ot.setProperty("--radix-popper-anchor-height",`${Nn}px`)}}),S&&Yd({element:S,padding:i}),sf({arrowWidth:N,arrowHeight:z}),m&&Kd({strategy:"referenceHidden",...D})]}),[ce,fe]=ii(te),je=zt(y);ut(()=>{re&&(je==null||je())},[re,je]);const T=(de=B.arrow)==null?void 0:de.x,G=(_e=B.arrow)==null?void 0:_e.y,se=((me=B.arrow)==null?void 0:me.centerOffset)!==0,[W,ie]=f.useState();return ut(()=>{k&&ie(window.getComputedStyle(k).zIndex)},[k]),u.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:re?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:W,"--radix-popper-transform-origin":[(ze=B.transformOrigin)==null?void 0:ze.x,(jt=B.transformOrigin)==null?void 0:jt.y].join(" "),...((er=B.hide)==null?void 0:er.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(ef,{scope:r,placedSide:ce,onArrowChange:w,arrowX:T,arrowY:G,shouldHideArrow:se,children:u.jsx(ue.div,{"data-side":ce,"data-align":fe,...v,ref:A,style:{...v.style,animation:re?void 0:"none"}})})})});si.displayName=Vs;var oi="PopperArrow",rf={top:"bottom",right:"left",bottom:"top",left:"right"},ai=f.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=tf(oi,n),a=rf[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(Jd,{...s,ref:r,style:{...s.style,display:"block"}})})});ai.displayName=oi;function nf(e){return e!==null}var sf=e=>({name:"transformOrigin",options:e,fn(t){var x,k,b;const{placement:r,rects:n,middlewareData:s}=t,a=((x=s.arrow)==null?void 0:x.centerOffset)!==0,i=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,d]=ii(r),h={start:"0%",center:"50%",end:"100%"}[d],m=(((k=s.arrow)==null?void 0:k.x)??0)+i/2,g=(((b=s.arrow)==null?void 0:b.y)??0)+l/2;let y="",v="";return c==="bottom"?(y=a?h:`${m}px`,v=`${-l}px`):c==="top"?(y=a?h:`${m}px`,v=`${n.floating.height+l}px`):c==="right"?(y=`${-l}px`,v=a?h:`${g}px`):c==="left"&&(y=`${n.floating.width+l}px`,v=a?h:`${g}px`),{data:{x:y,y:v}}}});function ii(e){const[t,r="center"]=e.split("-");return[t,r]}var ci=ti,$s=ni,li=si,ui=ai,of=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),af="VisuallyHidden",di=f.forwardRef((e,t)=>u.jsx(ue.span,{...e,ref:t,style:{...of,...e.style}}));di.displayName=af;var cf=di,[yn,rp]=Yt("Tooltip",[vn]),xn=vn(),fi="TooltipProvider",lf=700,Jn="tooltip.open",[uf,Ws]=yn(fi),hi=e=>{const{__scopeTooltip:t,delayDuration:r=lf,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,a=f.useRef(!0),i=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(uf,{scope:t,isOpenDelayedRef:a,delayDuration:r,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,n)},[n]),isPointerInTransitRef:i,onPointerInTransitChange:f.useCallback(c=>{i.current=c},[]),disableHoverableContent:s,children:o})};hi.displayName=fi;var gr="Tooltip",[df,wn]=yn(gr),mi=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:s,onOpenChange:o,disableHoverableContent:a,delayDuration:i}=e,l=Ws(gr,e.__scopeTooltip),c=xn(t),[d,h]=f.useState(null),m=Ve(),g=f.useRef(0),y=a??l.disableHoverableContent,v=i??l.delayDuration,x=f.useRef(!1),[k,b]=un({prop:n,defaultProp:s??!1,onChange:N=>{N?(l.onOpen(),document.dispatchEvent(new CustomEvent(Jn))):l.onClose(),o==null||o(N)},caller:gr}),A=f.useMemo(()=>k?x.current?"delayed-open":"instant-open":"closed",[k]),S=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x.current=!1,b(!0)},[b]),w=f.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b(!1)},[b]),E=f.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{x.current=!0,b(!0),g.current=0},v)},[v,b]);return f.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),u.jsx(ci,{...c,children:u.jsx(df,{scope:t,contentId:m,open:k,stateAttribute:A,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?E():S()},[l.isOpenDelayedRef,E,S]),onTriggerLeave:f.useCallback(()=>{y?w():(window.clearTimeout(g.current),g.current=0)},[w,y]),onOpen:S,onClose:w,disableHoverableContent:y,children:r})})};mi.displayName=gr;var Qn="TooltipTrigger",pi=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=wn(Qn,r),o=Ws(Qn,r),a=xn(r),i=f.useRef(null),l=ye(t,i,s.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx($s,{asChild:!0,...a,children:u.jsx(ue.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:l,onPointerMove:he(e.onPointerMove,m=>{m.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:he(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:he(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:he(e.onBlur,s.onClose),onClick:he(e.onClick,s.onClose)})})});pi.displayName=Qn;var ff="TooltipPortal",[np,hf]=yn(ff,{forceMount:void 0}),Zt="TooltipContent",gi=f.forwardRef((e,t)=>{const r=hf(Zt,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,a=wn(Zt,e.__scopeTooltip);return u.jsx(Tt,{present:n||a.open,children:a.disableHoverableContent?u.jsx(vi,{side:s,...o,ref:t}):u.jsx(mf,{side:s,...o,ref:t})})}),mf=f.forwardRef((e,t)=>{const r=wn(Zt,e.__scopeTooltip),n=Ws(Zt,e.__scopeTooltip),s=f.useRef(null),o=ye(t,s),[a,i]=f.useState(null),{trigger:l,onClose:c}=r,d=s.current,{onPointerInTransitChange:h}=n,m=f.useCallback(()=>{i(null),h(!1)},[h]),g=f.useCallback((y,v)=>{const x=y.currentTarget,k={x:y.clientX,y:y.clientY},b=xf(k,x.getBoundingClientRect()),A=wf(k,b),S=bf(v.getBoundingClientRect()),w=kf([...A,...S]);i(w),h(!0)},[h]);return f.useEffect(()=>()=>m(),[m]),f.useEffect(()=>{if(l&&d){const y=x=>g(x,d),v=x=>g(x,l);return l.addEventListener("pointerleave",y),d.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",v)}}},[l,d,g,m]),f.useEffect(()=>{if(a){const y=v=>{const x=v.target,k={x:v.clientX,y:v.clientY},b=(l==null?void 0:l.contains(x))||(d==null?void 0:d.contains(x)),A=!_f(k,a);b?m():A&&(m(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,d,a,c,m]),u.jsx(vi,{...e,ref:o})}),[pf,gf]=yn(gr,{isInside:!1}),vf=Rc("TooltipContent"),vi=f.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:a,...i}=e,l=wn(Zt,r),c=xn(r),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(Jn,d),()=>document.removeEventListener(Jn,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(dn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(li,{"data-state":l.stateAttribute,...c,...i,ref:t,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(vf,{children:n}),u.jsx(pf,{scope:r,isInside:!0,children:u.jsx(cf,{id:l.contentId,role:"tooltip",children:s||n})})]})})});gi.displayName=Zt;var yi="TooltipArrow",yf=f.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=xn(r);return gf(yi,r).isInside?null:u.jsx(ui,{...s,...n,ref:t})});yf.displayName=yi;function xf(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function wf(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function bf(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function _f(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,a=t.length-1;o<t.length;a=o++){const i=t[o],l=t[a],c=i.x,d=i.y,h=l.x,m=l.y;d>n!=m>n&&r<(h-c)*(n-d)/(m-d)+c&&(s=!s)}return s}function kf(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Sf(t)}function Sf(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],a=t[t.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],a=r[r.length-2];if((o.x-a.x)*(s.y-a.y)>=(o.y-a.y)*(s.x-a.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var Ef=hi,Cf=mi,Af=pi,xi=gi;const Nf=Ef,Rf=Cf,Tf=Af,wi=f.forwardRef(({className:e,sideOffset:t=4,...r},n)=>u.jsx(xi,{ref:n,sideOffset:t,className:q("z-50 overflow-hidden rounded-md bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));wi.displayName=xi.displayName;function jf({className:e,icon:t,tooltip:r,position:n="bottom-right",...s}){const o={"bottom-right":"fixed bottom-20 right-4 md:bottom-8 md:right-8","bottom-center":"fixed bottom-20 right-4 md:bottom-8 md:left-1/2 md:-translate-x-1/2"},a=u.jsxs(Ce,{className:q(o[n],"rounded-full shadow-lg w-14 h-14 p-0 z-50 transition-all hover:scale-110 hover:shadow-xl bg-primary text-primary-foreground hover:bg-primary/90",e),size:"icon",...s,children:[u.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[t,u.jsx("span",{className:"absolute w-full h-full rounded-full animate-ping bg-primary/40 inset-0"})]}),u.jsx("span",{className:"sr-only",children:r||"Action button"})]});return r?u.jsx(Nf,{children:u.jsxs(Rf,{delayDuration:300,children:[u.jsx(Tf,{asChild:!0,children:a}),u.jsx(wi,{children:u.jsx("p",{children:r})})]})}):a}const Of=({icon:e,label:t,isActive:r,onClick:n})=>u.jsxs("button",{className:q("flex flex-col items-center justify-center flex-1 px-1 py-1.5 sm:px-2 focus:outline-none transition-all duration-200 ease-in-out transform active:scale-95",r?"text-primary":"text-muted-foreground hover:text-foreground"),onClick:n,"aria-label":t,children:[u.jsx("div",{className:q("p-1.5 rounded-full transition-all duration-200 ease-in-out",r?"bg-primary/10 scale-110":"hover:bg-muted/50"),children:e}),u.jsx("span",{className:q("text-[0.6rem] sm:text-xs mt-0.5 font-medium transition-all duration-200 ease-in-out truncate max-w-[4em] sm:max-w-none",r?"scale-105 text-primary":"text-muted-foreground"),children:t})]}),Pf=()=>{const{currentView:e,setCurrentView:t}=cn(),{activeWorkout:r}=ua();if(typeof window>"u")return null;const n=[{view:"dashboard",label:"Home",icon:u.jsx(oa,{className:"h-5 w-5 sm:h-6 sm:w-6"})},...r?[{view:"workout",label:"Workout",icon:u.jsx(na,{className:"h-5 w-5 sm:h-6 sm:w-6 text-primary"})}]:[],{view:"workouts",label:"Workouts",icon:u.jsx(sa,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"templates",label:"Templates",icon:u.jsx(ta,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"stats",label:"Stats",icon:u.jsx(ra,{className:"h-5 w-5 sm:h-6 sm:w-6"})},{view:"settings",label:"Settings",icon:u.jsx(ca,{className:"h-5 w-5 sm:h-6 sm:w-6"})}];return u.jsx("div",{className:"md:hidden fixed bottom-0 left-0 right-0 bg-background/80 backdrop-blur-lg border-t border-border/60 z-40 flex justify-around items-center h-[var(--bottom-nav-height,60px)] shadow-top transition-transform duration-300 ease-in-out",style:{contain:"layout style paint"},children:n.map(s=>u.jsx(Of,{icon:s.icon,label:s.label,view:s.view,isActive:e===s.view,onClick:()=>t(s.view)},s.view))})};var bn="Popover",[bi,sp]=Yt(bn,[vn]),wr=vn(),[Mf,pt]=bi(bn),_i=e=>{const{__scopePopover:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:a=!1}=e,i=wr(t),l=f.useRef(null),[c,d]=f.useState(!1),[h,m]=un({prop:n,defaultProp:s??!1,onChange:o,caller:bn});return u.jsx(ci,{...i,children:u.jsx(Mf,{scope:t,contentId:Ve(),triggerRef:l,open:h,onOpenChange:m,onOpenToggle:f.useCallback(()=>m(g=>!g),[m]),hasCustomAnchor:c,onCustomAnchorAdd:f.useCallback(()=>d(!0),[]),onCustomAnchorRemove:f.useCallback(()=>d(!1),[]),modal:a,children:r})})};_i.displayName=bn;var ki="PopoverAnchor",If=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=pt(ki,r),o=wr(r),{onCustomAnchorAdd:a,onCustomAnchorRemove:i}=s;return f.useEffect(()=>(a(),()=>i()),[a,i]),u.jsx($s,{...o,...n,ref:t})});If.displayName=ki;var Si="PopoverTrigger",Ei=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=pt(Si,r),o=wr(r),a=ye(t,s.triggerRef),i=u.jsx(ue.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ti(s.open),...n,ref:a,onClick:he(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?i:u.jsx($s,{asChild:!0,...o,children:i})});Ei.displayName=Si;var Bs="PopoverPortal",[Lf,Df]=bi(Bs,{forceMount:void 0}),Ci=e=>{const{__scopePopover:t,forceMount:r,children:n,container:s}=e,o=pt(Bs,t);return u.jsx(Lf,{scope:t,forceMount:r,children:u.jsx(Tt,{present:r||o.open,children:u.jsx(_s,{asChild:!0,container:s,children:n})})})};Ci.displayName=Bs;var Gt="PopoverContent",Ai=f.forwardRef((e,t)=>{const r=Df(Gt,e.__scopePopover),{forceMount:n=r.forceMount,...s}=e,o=pt(Gt,e.__scopePopover);return u.jsx(Tt,{present:n||o.open,children:o.modal?u.jsx(Vf,{...s,ref:t}):u.jsx($f,{...s,ref:t})})});Ai.displayName=Gt;var Ff=fr("PopoverContent.RemoveScroll"),Vf=f.forwardRef((e,t)=>{const r=pt(Gt,e.__scopePopover),n=f.useRef(null),s=ye(t,n),o=f.useRef(!1);return f.useEffect(()=>{const a=n.current;if(a)return ka(a)},[]),u.jsx(ks,{as:Ff,allowPinchZoom:!0,children:u.jsx(Ni,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,a=>{var i;a.preventDefault(),o.current||(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,a=>{const i=a.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0,c=i.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:he(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),$f=f.forwardRef((e,t)=>{const r=pt(Gt,e.__scopePopover),n=f.useRef(!1),s=f.useRef(!1);return u.jsx(Ni,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var a,i;(a=e.onCloseAutoFocus)==null||a.call(e,o),o.defaultPrevented||(n.current||(i=r.triggerRef.current)==null||i.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const a=o.target;((c=r.triggerRef.current)==null?void 0:c.contains(a))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Ni=f.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...h}=e,m=pt(Gt,r),g=wr(r);return ma(),u.jsx(bs,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(dn,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:d,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>m.onOpenChange(!1),children:u.jsx(li,{"data-state":Ti(m.open),role:"dialog",id:m.contentId,...g,...h,ref:t,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ri="PopoverClose",Wf=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=pt(Ri,r);return u.jsx(ue.button,{type:"button",...n,ref:t,onClick:he(e.onClick,()=>s.onOpenChange(!1))})});Wf.displayName=Ri;var Bf="PopoverArrow",zf=f.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,s=wr(r);return u.jsx(ui,{...s,...n,ref:t})});zf.displayName=Bf;function Ti(e){return e?"open":"closed"}var Uf=_i,Zf=Ei,Gf=Ci,Hf=Ai;function es({...e}){return u.jsx(Uf,{"data-slot":"popover",...e})}function ts({...e}){return u.jsx(Zf,{"data-slot":"popover-trigger",...e})}function rs({className:e,align:t="center",sideOffset:r=4,...n}){return u.jsx(Gf,{children:u.jsx(Hf,{"data-slot":"popover-content",align:t,sideOffset:r,className:q("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...n})})}function qf({...e}){return u.jsx(As,{"data-slot":"dialog",...e})}function Kf({...e}){return u.jsx(Ns,{"data-slot":"dialog-portal",...e})}function Yf({className:e,...t}){return u.jsx(Rs,{"data-slot":"dialog-overlay",className:q("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Xf({className:e,children:t,...r}){return u.jsxs(Kf,{"data-slot":"dialog-portal",children:[u.jsx(Yf,{}),u.jsxs(Ts,{"data-slot":"dialog-content",className:q("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[t,u.jsxs($a,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[u.jsx(la,{}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Jf({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-header",className:q("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Qf({className:e,...t}){return u.jsx("div",{"data-slot":"dialog-footer",className:q("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function eh({className:e,...t}){return u.jsx(Zu,{"data-slot":"dialog-title",className:q("text-lg leading-none font-semibold",e),...t})}function op({className:e,...t}){return u.jsx(Gu,{"data-slot":"dialog-description",className:q("text-muted-foreground text-sm",e),...t})}var br=e=>e.type==="checkbox",_t=e=>e instanceof Date,Ne=e=>e==null;const ji=e=>typeof e=="object";var ve=e=>!Ne(e)&&!Array.isArray(e)&&ji(e)&&!_t(e),Oi=e=>ve(e)&&e.target?br(e.target)?e.target.checked:e.target.value:e,th=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Pi=(e,t)=>e.has(th(t)),rh=e=>{const t=e.constructor&&e.constructor.prototype;return ve(t)&&t.hasOwnProperty("isPrototypeOf")},zs=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Se(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(zs&&(e instanceof Blob||n))&&(r||ve(e)))if(t=r?[]:{},!r&&!rh(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=Se(e[s]));else return e;return t}var _n=e=>Array.isArray(e)?e.filter(Boolean):[],ge=e=>e===void 0,P=(e,t,r)=>{if(!t||!ve(e))return r;const n=_n(t.split(/[,[\].]+?/)).reduce((s,o)=>Ne(s)?s:s[o],e);return ge(n)||n===e?ge(e[t])?r:e[t]:n},Pe=e=>typeof e=="boolean",Us=e=>/^\w*$/.test(e),Mi=e=>_n(e.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(e,t,r)=>{let n=-1;const s=Us(t)?[t]:Mi(t),o=s.length,a=o-1;for(;++n<o;){const i=s[n];let l=r;if(n!==a){const c=e[i];l=ve(c)||Array.isArray(c)?c:isNaN(+s[n+1])?{}:[]}if(i==="__proto__"||i==="constructor"||i==="prototype")return;e[i]=l,e=e[i]}};const zr={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},De={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Je={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Ii=X.createContext(null),kn=()=>X.useContext(Ii),nh=e=>{const{children:t,...r}=e;return X.createElement(Ii.Provider,{value:r},t)};var Li=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(s,o,{get:()=>{const a=o;return t._proxyFormState[a]!==De.all&&(t._proxyFormState[a]=!n||De.all),r&&(r[a]=!0),e[a]}});return s};const Zs=typeof window<"u"?f.useLayoutEffect:f.useEffect;function Di(e){const t=kn(),{control:r=t.control,disabled:n,name:s,exact:o}=e||{},[a,i]=X.useState(r._formState),l=X.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Zs(()=>r._subscribe({name:s,formState:l.current,exact:o,callback:c=>{!n&&i({...r._formState,...c})}}),[s,n,o]),X.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),X.useMemo(()=>Li(a,r,l.current,!1),[a,r])}var Ze=e=>typeof e=="string",Fi=(e,t,r,n,s)=>Ze(e)?(n&&t.watch.add(e),P(r,e,s)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),P(r,o))):(n&&(t.watchAll=!0),r);function sh(e){const t=kn(),{control:r=t.control,name:n,defaultValue:s,disabled:o,exact:a}=e||{},i=X.useRef(s),[l,c]=X.useState(r._getWatch(n,i.current));return Zs(()=>r._subscribe({name:n,formState:{values:!0},exact:a,callback:d=>!o&&c(Fi(n,r._names,d.values||r._formValues,!1,i.current))}),[n,r,o,a]),X.useEffect(()=>r._removeUnmounted()),l}function oh(e){const t=kn(),{name:r,disabled:n,control:s=t.control,shouldUnregister:o}=e,a=Pi(s._names.array,r),i=sh({control:s,name:r,defaultValue:P(s._formValues,r,P(s._defaultValues,r,e.defaultValue)),exact:!0}),l=Di({control:s,name:r,exact:!0}),c=X.useRef(e),d=X.useRef(s.register(r,{...e.rules,value:i,...Pe(e.disabled)?{disabled:e.disabled}:{}})),h=X.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!P(l.errors,r)},isDirty:{enumerable:!0,get:()=>!!P(l.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!P(l.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!P(l.validatingFields,r)},error:{enumerable:!0,get:()=>P(l.errors,r)}}),[l,r]),m=X.useCallback(x=>d.current.onChange({target:{value:Oi(x),name:r},type:zr.CHANGE}),[r]),g=X.useCallback(()=>d.current.onBlur({target:{value:P(s._formValues,r),name:r},type:zr.BLUR}),[r,s._formValues]),y=X.useCallback(x=>{const k=P(s._fields,r);k&&x&&(k._f.ref={focus:()=>x.focus(),select:()=>x.select(),setCustomValidity:b=>x.setCustomValidity(b),reportValidity:()=>x.reportValidity()})},[s._fields,r]),v=X.useMemo(()=>({name:r,value:i,...Pe(n)||l.disabled?{disabled:l.disabled||n}:{},onChange:m,onBlur:g,ref:y}),[r,n,l.disabled,m,g,y,i]);return X.useEffect(()=>{const x=s._options.shouldUnregister||o;s.register(r,{...c.current.rules,...Pe(c.current.disabled)?{disabled:c.current.disabled}:{}});const k=(b,A)=>{const S=P(s._fields,b);S&&S._f&&(S._f.mount=A)};if(k(r,!0),x){const b=Se(P(s._options.defaultValues,r));le(s._defaultValues,r,b),ge(P(s._formValues,r))&&le(s._formValues,r,b)}return!a&&s.register(r),()=>{(a?x&&!s._state.action:x)?s.unregister(r):k(r,!1)}},[r,s,a,o]),X.useEffect(()=>{s._setDisabledField({disabled:n,name:r})},[n,r,s]),X.useMemo(()=>({field:v,formState:l,fieldState:h}),[v,l,h])}const ah=e=>e.render(oh(e));var Vi=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},lr=e=>Array.isArray(e)?e:[e],No=()=>{let e=[];return{get observers(){return e},next:s=>{for(const o of e)o.next&&o.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(o=>o!==s)}}),unsubscribe:()=>{e=[]}}},ns=e=>Ne(e)||!ji(e);function lt(e,t){if(ns(e)||ns(t))return e===t;if(_t(e)&&_t(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const s of r){const o=e[s];if(!n.includes(s))return!1;if(s!=="ref"){const a=t[s];if(_t(o)&&_t(a)||ve(o)&&ve(a)||Array.isArray(o)&&Array.isArray(a)?!lt(o,a):o!==a)return!1}}return!0}var Ae=e=>ve(e)&&!Object.keys(e).length,Gs=e=>e.type==="file",Fe=e=>typeof e=="function",Ur=e=>{if(!zs)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},$i=e=>e.type==="select-multiple",Hs=e=>e.type==="radio",ih=e=>Hs(e)||br(e),$n=e=>Ur(e)&&e.isConnected;function ch(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=ge(e)?n++:e[t[n++]];return e}function lh(e){for(const t in e)if(e.hasOwnProperty(t)&&!ge(e[t]))return!1;return!0}function be(e,t){const r=Array.isArray(t)?t:Us(t)?[t]:Mi(t),n=r.length===1?e:ch(e,r),s=r.length-1,o=r[s];return n&&delete n[o],s!==0&&(ve(n)&&Ae(n)||Array.isArray(n)&&lh(n))&&be(e,r.slice(0,-1)),e}var Wi=e=>{for(const t in e)if(Fe(e[t]))return!0;return!1};function Zr(e,t={}){const r=Array.isArray(e);if(ve(e)||r)for(const n in e)Array.isArray(e[n])||ve(e[n])&&!Wi(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Zr(e[n],t[n])):Ne(e[n])||(t[n]=!0);return t}function Bi(e,t,r){const n=Array.isArray(e);if(ve(e)||n)for(const s in e)Array.isArray(e[s])||ve(e[s])&&!Wi(e[s])?ge(t)||ns(r[s])?r[s]=Array.isArray(e[s])?Zr(e[s],[]):{...Zr(e[s])}:Bi(e[s],Ne(t)?{}:t[s],r[s]):r[s]=!lt(e[s],t[s]);return r}var rr=(e,t)=>Bi(e,t,Zr(t));const Ro={value:!1,isValid:!1},To={value:!0,isValid:!0};var zi=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!ge(e[0].attributes.value)?ge(e[0].value)||e[0].value===""?To:{value:e[0].value,isValid:!0}:To:Ro}return Ro},Ui=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>ge(e)?e:t?e===""?NaN:e&&+e:r&&Ze(e)?new Date(e):n?n(e):e;const jo={isValid:!1,value:null};var Zi=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,jo):jo;function Oo(e){const t=e.ref;return Gs(t)?t.files:Hs(t)?Zi(e.refs).value:$i(t)?[...t.selectedOptions].map(({value:r})=>r):br(t)?zi(e.refs).value:Ui(ge(t.value)?e.ref.value:t.value,e)}var uh=(e,t,r,n)=>{const s={};for(const o of e){const a=P(t,o);a&&le(s,o,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Gr=e=>e instanceof RegExp,nr=e=>ge(e)?e:Gr(e)?e.source:ve(e)?Gr(e.value)?e.value.source:e.value:e,Po=e=>({isOnSubmit:!e||e===De.onSubmit,isOnBlur:e===De.onBlur,isOnChange:e===De.onChange,isOnAll:e===De.all,isOnTouch:e===De.onTouched});const Mo="AsyncFunction";var dh=e=>!!e&&!!e.validate&&!!(Fe(e.validate)&&e.validate.constructor.name===Mo||ve(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Mo)),fh=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Io=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const ur=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const o=P(e,s);if(o){const{_f:a,...i}=o;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(ur(i,t))break}else if(ve(i)&&ur(i,t))break}}};function Lo(e,t,r){const n=P(e,r);if(n||Us(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const o=s.join("."),a=P(t,o),i=P(e,o);if(a&&!Array.isArray(a)&&r!==o)return{name:r};if(i&&i.type)return{name:o,error:i};s.pop()}return{name:r}}var hh=(e,t,r,n)=>{r(e);const{name:s,...o}=e;return Ae(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(a=>t[a]===(!n||De.all))},mh=(e,t,r)=>!e||!t||e===t||lr(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),ph=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,gh=(e,t)=>!_n(P(e,t)).length&&be(e,t),vh=(e,t,r)=>{const n=lr(P(e,r));return le(n,"root",t[r]),le(e,r,n),e},Dr=e=>Ze(e);function Do(e,t,r="validate"){if(Dr(e)||Array.isArray(e)&&e.every(Dr)||Pe(e)&&!e)return{type:r,message:Dr(e)?e:"",ref:t}}var Lt=e=>ve(e)&&!Gr(e)?e:{value:e,message:""},Fo=async(e,t,r,n,s,o)=>{const{ref:a,refs:i,required:l,maxLength:c,minLength:d,min:h,max:m,pattern:g,validate:y,name:v,valueAsNumber:x,mount:k}=e._f,b=P(r,v);if(!k||t.has(v))return{};const A=i?i[0]:a,S=$=>{s&&A.reportValidity&&(A.setCustomValidity(Pe($)?"":$||""),A.reportValidity())},w={},E=Hs(a),N=br(a),z=E||N,K=(x||Gs(a))&&ge(a.value)&&ge(b)||Ur(a)&&a.value===""||b===""||Array.isArray(b)&&!b.length,J=Vi.bind(null,v,n,w),Y=($,D,U,Q=Je.maxLength,te=Je.minLength)=>{const re=$?D:U;w[v]={type:$?Q:te,message:re,ref:a,...J($?Q:te,re)}};if(o?!Array.isArray(b)||!b.length:l&&(!z&&(K||Ne(b))||Pe(b)&&!b||N&&!zi(i).isValid||E&&!Zi(i).isValid)){const{value:$,message:D}=Dr(l)?{value:!!l,message:l}:Lt(l);if($&&(w[v]={type:Je.required,message:D,ref:A,...J(Je.required,D)},!n))return S(D),w}if(!K&&(!Ne(h)||!Ne(m))){let $,D;const U=Lt(m),Q=Lt(h);if(!Ne(b)&&!isNaN(b)){const te=a.valueAsNumber||b&&+b;Ne(U.value)||($=te>U.value),Ne(Q.value)||(D=te<Q.value)}else{const te=a.valueAsDate||new Date(b),re=fe=>new Date(new Date().toDateString()+" "+fe),B=a.type=="time",ce=a.type=="week";Ze(U.value)&&b&&($=B?re(b)>re(U.value):ce?b>U.value:te>new Date(U.value)),Ze(Q.value)&&b&&(D=B?re(b)<re(Q.value):ce?b<Q.value:te<new Date(Q.value))}if(($||D)&&(Y(!!$,U.message,Q.message,Je.max,Je.min),!n))return S(w[v].message),w}if((c||d)&&!K&&(Ze(b)||o&&Array.isArray(b))){const $=Lt(c),D=Lt(d),U=!Ne($.value)&&b.length>+$.value,Q=!Ne(D.value)&&b.length<+D.value;if((U||Q)&&(Y(U,$.message,D.message),!n))return S(w[v].message),w}if(g&&!K&&Ze(b)){const{value:$,message:D}=Lt(g);if(Gr($)&&!b.match($)&&(w[v]={type:Je.pattern,message:D,ref:a,...J(Je.pattern,D)},!n))return S(D),w}if(y){if(Fe(y)){const $=await y(b,r),D=Do($,A);if(D&&(w[v]={...D,...J(Je.validate,D.message)},!n))return S(D.message),w}else if(ve(y)){let $={};for(const D in y){if(!Ae($)&&!n)break;const U=Do(await y[D](b,r),A,D);U&&($={...U,...J(D,U.message)},S(U.message),n&&(w[v]=$))}if(!Ae($)&&(w[v]={ref:A,...$},!n))return w}}return S(!0),w};const yh={mode:De.onSubmit,reValidateMode:De.onChange,shouldFocusError:!0};function xh(e={}){let t={...yh,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fe(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let s=ve(t.defaultValues)||ve(t.values)?Se(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:Se(s),a={action:!1,mount:!1,watch:!1},i={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const m={array:No(),state:No()},g=Po(t.mode),y=Po(t.reValidateMode),v=t.criteriaMode===De.all,x=p=>_=>{clearTimeout(c),c=setTimeout(p,_)},k=async p=>{if(!t.disabled&&(d.isValid||h.isValid||p)){const _=t.resolver?Ae((await K()).errors):await Y(n,!0);_!==r.isValid&&m.state.next({isValid:_})}},b=(p,_)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((p||Array.from(i.mount)).forEach(C=>{C&&(_?le(r.validatingFields,C,_):be(r.validatingFields,C))}),m.state.next({validatingFields:r.validatingFields,isValidating:!Ae(r.validatingFields)}))},A=(p,_=[],C,I,O=!0,j=!0)=>{if(I&&C&&!t.disabled){if(a.action=!0,j&&Array.isArray(P(n,p))){const F=C(P(n,p),I.argA,I.argB);O&&le(n,p,F)}if(j&&Array.isArray(P(r.errors,p))){const F=C(P(r.errors,p),I.argA,I.argB);O&&le(r.errors,p,F),gh(r.errors,p)}if((d.touchedFields||h.touchedFields)&&j&&Array.isArray(P(r.touchedFields,p))){const F=C(P(r.touchedFields,p),I.argA,I.argB);O&&le(r.touchedFields,p,F)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=rr(s,o)),m.state.next({name:p,isDirty:D(p,_),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else le(o,p,_)},S=(p,_)=>{le(r.errors,p,_),m.state.next({errors:r.errors})},w=p=>{r.errors=p,m.state.next({errors:r.errors,isValid:!1})},E=(p,_,C,I)=>{const O=P(n,p);if(O){const j=P(o,p,ge(C)?P(s,p):C);ge(j)||I&&I.defaultChecked||_?le(o,p,_?j:Oo(O._f)):te(p,j),a.mount&&k()}},N=(p,_,C,I,O)=>{let j=!1,F=!1;const ae={name:p};if(!t.disabled){if(!C||I){(d.isDirty||h.isDirty)&&(F=r.isDirty,r.isDirty=ae.isDirty=D(),j=F!==ae.isDirty);const we=lt(P(s,p),_);F=!!P(r.dirtyFields,p),we?be(r.dirtyFields,p):le(r.dirtyFields,p,!0),ae.dirtyFields=r.dirtyFields,j=j||(d.dirtyFields||h.dirtyFields)&&F!==!we}if(C){const we=P(r.touchedFields,p);we||(le(r.touchedFields,p,C),ae.touchedFields=r.touchedFields,j=j||(d.touchedFields||h.touchedFields)&&we!==C)}j&&O&&m.state.next(ae)}return j?ae:{}},z=(p,_,C,I)=>{const O=P(r.errors,p),j=(d.isValid||h.isValid)&&Pe(_)&&r.isValid!==_;if(t.delayError&&C?(l=x(()=>S(p,C)),l(t.delayError)):(clearTimeout(c),l=null,C?le(r.errors,p,C):be(r.errors,p)),(C?!lt(O,C):O)||!Ae(I)||j){const F={...I,...j&&Pe(_)?{isValid:_}:{},errors:r.errors,name:p};r={...r,...F},m.state.next(F)}},K=async p=>{b(p,!0);const _=await t.resolver(o,t.context,uh(p||i.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return b(p),_},J=async p=>{const{errors:_}=await K(p);if(p)for(const C of p){const I=P(_,C);I?le(r.errors,C,I):be(r.errors,C)}else r.errors=_;return _},Y=async(p,_,C={valid:!0})=>{for(const I in p){const O=p[I];if(O){const{_f:j,...F}=O;if(j){const ae=i.array.has(j.name),we=O._f&&dh(O._f);we&&d.validatingFields&&b([I],!0);const Ee=await Fo(O,i.disabled,o,v,t.shouldUseNativeValidation&&!_,ae);if(we&&d.validatingFields&&b([I]),Ee[j.name]&&(C.valid=!1,_))break;!_&&(P(Ee,j.name)?ae?vh(r.errors,Ee,j.name):le(r.errors,j.name,Ee[j.name]):be(r.errors,j.name))}!Ae(F)&&await Y(F,_,C)}}return C.valid},$=()=>{for(const p of i.unMount){const _=P(n,p);_&&(_._f.refs?_._f.refs.every(C=>!$n(C)):!$n(_._f.ref))&&me(p)}i.unMount=new Set},D=(p,_)=>!t.disabled&&(p&&_&&le(o,p,_),!lt(T(),s)),U=(p,_,C)=>Fi(p,i,{...a.mount?o:ge(_)?s:Ze(p)?{[p]:_}:_},C,_),Q=p=>_n(P(a.mount?o:s,p,t.shouldUnregister?P(s,p,[]):[])),te=(p,_,C={})=>{const I=P(n,p);let O=_;if(I){const j=I._f;j&&(!j.disabled&&le(o,p,Ui(_,j)),O=Ur(j.ref)&&Ne(_)?"":_,$i(j.ref)?[...j.ref.options].forEach(F=>F.selected=O.includes(F.value)):j.refs?br(j.ref)?j.refs.length>1?j.refs.forEach(F=>(!F.defaultChecked||!F.disabled)&&(F.checked=Array.isArray(O)?!!O.find(ae=>ae===F.value):O===F.value)):j.refs[0]&&(j.refs[0].checked=!!O):j.refs.forEach(F=>F.checked=F.value===O):Gs(j.ref)?j.ref.value="":(j.ref.value=O,j.ref.type||m.state.next({name:p,values:Se(o)})))}(C.shouldDirty||C.shouldTouch)&&N(p,O,C.shouldTouch,C.shouldDirty,!0),C.shouldValidate&&je(p)},re=(p,_,C)=>{for(const I in _){const O=_[I],j=`${p}.${I}`,F=P(n,j);(i.array.has(p)||ve(O)||F&&!F._f)&&!_t(O)?re(j,O,C):te(j,O,C)}},B=(p,_,C={})=>{const I=P(n,p),O=i.array.has(p),j=Se(_);le(o,p,j),O?(m.array.next({name:p,values:Se(o)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&C.shouldDirty&&m.state.next({name:p,dirtyFields:rr(s,o),isDirty:D(p,j)})):I&&!I._f&&!Ne(j)?re(p,j,C):te(p,j,C),Io(p,i)&&m.state.next({...r}),m.state.next({name:a.mount?p:void 0,values:Se(o)})},ce=async p=>{a.mount=!0;const _=p.target;let C=_.name,I=!0;const O=P(n,C),j=F=>{I=Number.isNaN(F)||_t(F)&&isNaN(F.getTime())||lt(F,P(o,C,F))};if(O){let F,ae;const we=_.type?Oo(O._f):Oi(p),Ee=p.type===zr.BLUR||p.type===zr.FOCUS_OUT,Sc=!fh(O._f)&&!t.resolver&&!P(r.errors,C)&&!O._f.deps||ph(Ee,P(r.touchedFields,C),r.isSubmitted,y,g),Rn=Io(C,i,Ee);le(o,C,we),Ee?(O._f.onBlur&&O._f.onBlur(p),l&&l(0)):O._f.onChange&&O._f.onChange(p);const Tn=N(C,we,Ee),Ec=!Ae(Tn)||Rn;if(!Ee&&m.state.next({name:C,type:p.type,values:Se(o)}),Sc)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Ee&&k():Ee||k()),Ec&&m.state.next({name:C,...Rn?{}:Tn});if(!Ee&&Rn&&m.state.next({...r}),t.resolver){const{errors:Qs}=await K([C]);if(j(we),I){const Cc=Lo(r.errors,n,C),eo=Lo(Qs,n,Cc.name||C);F=eo.error,C=eo.name,ae=Ae(Qs)}}else b([C],!0),F=(await Fo(O,i.disabled,o,v,t.shouldUseNativeValidation))[C],b([C]),j(we),I&&(F?ae=!1:(d.isValid||h.isValid)&&(ae=await Y(n,!0)));I&&(O._f.deps&&je(O._f.deps),z(C,ae,F,Tn))}},fe=(p,_)=>{if(P(r.errors,_)&&p.focus)return p.focus(),1},je=async(p,_={})=>{let C,I;const O=lr(p);if(t.resolver){const j=await J(ge(p)?p:O);C=Ae(j),I=p?!O.some(F=>P(j,F)):C}else p?(I=(await Promise.all(O.map(async j=>{const F=P(n,j);return await Y(F&&F._f?{[j]:F}:F)}))).every(Boolean),!(!I&&!r.isValid)&&k()):I=C=await Y(n);return m.state.next({...!Ze(p)||(d.isValid||h.isValid)&&C!==r.isValid?{}:{name:p},...t.resolver||!p?{isValid:C}:{},errors:r.errors}),_.shouldFocus&&!I&&ur(n,fe,p?O:i.mount),I},T=p=>{const _={...a.mount?o:s};return ge(p)?_:Ze(p)?P(_,p):p.map(C=>P(_,C))},G=(p,_)=>({invalid:!!P((_||r).errors,p),isDirty:!!P((_||r).dirtyFields,p),error:P((_||r).errors,p),isValidating:!!P(r.validatingFields,p),isTouched:!!P((_||r).touchedFields,p)}),se=p=>{p&&lr(p).forEach(_=>be(r.errors,_)),m.state.next({errors:p?r.errors:{}})},W=(p,_,C)=>{const I=(P(n,p,{_f:{}})._f||{}).ref,O=P(r.errors,p)||{},{ref:j,message:F,type:ae,...we}=O;le(r.errors,p,{...we,..._,ref:I}),m.state.next({name:p,errors:r.errors,isValid:!1}),C&&C.shouldFocus&&I&&I.focus&&I.focus()},ie=(p,_)=>Fe(p)?m.state.subscribe({next:C=>p(U(void 0,_),C)}):U(p,_,!0),de=p=>m.state.subscribe({next:_=>{mh(p.name,_.name,p.exact)&&hh(_,p.formState||d,Ot,p.reRenderRoot)&&p.callback({values:{...o},...r,..._})}}).unsubscribe,_e=p=>(a.mount=!0,h={...h,...p.formState},de({...p,formState:h})),me=(p,_={})=>{for(const C of p?lr(p):i.mount)i.mount.delete(C),i.array.delete(C),_.keepValue||(be(n,C),be(o,C)),!_.keepError&&be(r.errors,C),!_.keepDirty&&be(r.dirtyFields,C),!_.keepTouched&&be(r.touchedFields,C),!_.keepIsValidating&&be(r.validatingFields,C),!t.shouldUnregister&&!_.keepDefaultValue&&be(s,C);m.state.next({values:Se(o)}),m.state.next({...r,..._.keepDirty?{isDirty:D()}:{}}),!_.keepIsValid&&k()},ze=({disabled:p,name:_})=>{(Pe(p)&&a.mount||p||i.disabled.has(_))&&(p?i.disabled.add(_):i.disabled.delete(_))},jt=(p,_={})=>{let C=P(n,p);const I=Pe(_.disabled)||Pe(t.disabled);return le(n,p,{...C||{},_f:{...C&&C._f?C._f:{ref:{name:p}},name:p,mount:!0,..._}}),i.mount.add(p),C?ze({disabled:Pe(_.disabled)?_.disabled:t.disabled,name:p}):E(p,!0,_.value),{...I?{disabled:_.disabled||t.disabled}:{},...t.progressive?{required:!!_.required,min:nr(_.min),max:nr(_.max),minLength:nr(_.minLength),maxLength:nr(_.maxLength),pattern:nr(_.pattern)}:{},name:p,onChange:ce,onBlur:ce,ref:O=>{if(O){jt(p,_),C=P(n,p);const j=ge(O.value)&&O.querySelectorAll&&O.querySelectorAll("input,select,textarea")[0]||O,F=ih(j),ae=C._f.refs||[];if(F?ae.find(we=>we===j):j===C._f.ref)return;le(n,p,{_f:{...C._f,...F?{refs:[...ae.filter($n),j,...Array.isArray(P(s,p))?[{}]:[]],ref:{type:j.type,name:p}}:{ref:j}}}),E(p,!1,void 0,j)}else C=P(n,p,{}),C._f&&(C._f.mount=!1),(t.shouldUnregister||_.shouldUnregister)&&!(Pi(i.array,p)&&a.action)&&i.unMount.add(p)}}},er=()=>t.shouldFocusError&&ur(n,fe,i.mount),gt=p=>{Pe(p)&&(m.state.next({disabled:p}),ur(n,(_,C)=>{const I=P(n,C);I&&(_.disabled=I._f.disabled||p,Array.isArray(I._f.refs)&&I._f.refs.forEach(O=>{O.disabled=I._f.disabled||p}))},0,!1))},tr=(p,_)=>async C=>{let I;C&&(C.preventDefault&&C.preventDefault(),C.persist&&C.persist());let O=Se(o);if(m.state.next({isSubmitting:!0}),t.resolver){const{errors:j,values:F}=await K();r.errors=j,O=F}else await Y(n);if(i.disabled.size)for(const j of i.disabled)le(O,j,void 0);if(be(r.errors,"root"),Ae(r.errors)){m.state.next({errors:{}});try{await p(O,C)}catch(j){I=j}}else _&&await _({...r.errors},C),er(),setTimeout(er);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ae(r.errors)&&!I,submitCount:r.submitCount+1,errors:r.errors}),I)throw I},An=(p,_={})=>{P(n,p)&&(ge(_.defaultValue)?B(p,Se(P(s,p))):(B(p,_.defaultValue),le(s,p,Se(_.defaultValue))),_.keepTouched||be(r.touchedFields,p),_.keepDirty||(be(r.dirtyFields,p),r.isDirty=_.defaultValue?D(p,Se(P(s,p))):D()),_.keepError||(be(r.errors,p),d.isValid&&k()),m.state.next({...r}))},Sr=(p,_={})=>{const C=p?Se(p):s,I=Se(C),O=Ae(p),j=O?s:I;if(_.keepDefaultValues||(s=C),!_.keepValues){if(_.keepDirtyValues){const F=new Set([...i.mount,...Object.keys(rr(s,o))]);for(const ae of Array.from(F))P(r.dirtyFields,ae)?le(j,ae,P(o,ae)):B(ae,P(j,ae))}else{if(zs&&ge(p))for(const F of i.mount){const ae=P(n,F);if(ae&&ae._f){const we=Array.isArray(ae._f.refs)?ae._f.refs[0]:ae._f.ref;if(Ur(we)){const Ee=we.closest("form");if(Ee){Ee.reset();break}}}}for(const F of i.mount)B(F,P(j,F))}o=Se(j),m.array.next({values:{...j}}),m.state.next({values:{...j}})}i={mount:_.keepDirtyValues?i.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!_.keepIsValid||!!_.keepDirtyValues,a.watch=!!t.shouldUnregister,m.state.next({submitCount:_.keepSubmitCount?r.submitCount:0,isDirty:O?!1:_.keepDirty?r.isDirty:!!(_.keepDefaultValues&&!lt(p,s)),isSubmitted:_.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:O?{}:_.keepDirtyValues?_.keepDefaultValues&&o?rr(s,o):r.dirtyFields:_.keepDefaultValues&&p?rr(s,p):_.keepDirty?r.dirtyFields:{},touchedFields:_.keepTouched?r.touchedFields:{},errors:_.keepErrors?r.errors:{},isSubmitSuccessful:_.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Er=(p,_)=>Sr(Fe(p)?p(o):p,_),Nn=(p,_={})=>{const C=P(n,p),I=C&&C._f;if(I){const O=I.refs?I.refs[0]:I.ref;O.focus&&(O.focus(),_.shouldSelect&&Fe(O.select)&&O.select())}},Ot=p=>{r={...r,...p}},Js={control:{register:jt,unregister:me,getFieldState:G,handleSubmit:tr,setError:W,_subscribe:de,_runSchema:K,_getWatch:U,_getDirty:D,_setValid:k,_setFieldArray:A,_setDisabledField:ze,_setErrors:w,_getFieldArray:Q,_reset:Sr,_resetDefaultValues:()=>Fe(t.defaultValues)&&t.defaultValues().then(p=>{Er(p,t.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:gt,_subjects:m,_proxyFormState:d,get _fields(){return n},get _formValues(){return o},get _state(){return a},set _state(p){a=p},get _defaultValues(){return s},get _names(){return i},set _names(p){i=p},get _formState(){return r},get _options(){return t},set _options(p){t={...t,...p}}},subscribe:_e,trigger:je,register:jt,handleSubmit:tr,watch:ie,setValue:B,getValues:T,reset:Er,resetField:An,clearErrors:se,unregister:me,setError:W,setFocus:Nn,getFieldState:G};return{...Js,formControl:Js}}function wh(e={}){const t=X.useRef(void 0),r=X.useRef(void 0),[n,s]=X.useState({isDirty:!1,isValidating:!1,isLoading:Fe(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Fe(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:xh(e),formState:n},e.formControl&&e.defaultValues&&!Fe(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,Zs(()=>{const a=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(i=>({...i,isReady:!0})),o._formState.isReady=!0,a},[o]),X.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),X.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode),e.errors&&!Ae(e.errors)&&o._setErrors(e.errors)},[o,e.errors,e.mode,e.reValidateMode]),X.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),X.useEffect(()=>{if(o._proxyFormState.isDirty){const a=o._getDirty();a!==n.isDirty&&o._subjects.state.next({isDirty:a})}},[o,n.isDirty]),X.useEffect(()=>{e.values&&!lt(e.values,r.current)?(o._reset(e.values,o._options.resetOptions),r.current=e.values,s(a=>({...a}))):o._resetDefaultValues()},[o,e.values]),X.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=Li(n,o),t.current}var bh="Label",Gi=f.forwardRef((e,t)=>u.jsx(ue.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));Gi.displayName=bh;var _h=Gi;function kh({className:e,...t}){return u.jsx(_h,{"data-slot":"label",className:q("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Sh=nh,Hi=f.createContext({}),vt=({...e})=>u.jsx(Hi.Provider,{value:{name:e.name},children:u.jsx(ah,{...e})}),qs=()=>{const e=f.useContext(Hi),t=f.useContext(qi),{getFieldState:r}=kn(),n=Di({name:e.name}),s=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...s}},qi=f.createContext({});function yt({className:e,...t}){const r=f.useId();return u.jsx(qi.Provider,{value:{id:r},children:u.jsx("div",{"data-slot":"form-item",className:q("grid gap-2",e),...t})})}function xt({className:e,...t}){const{error:r,formItemId:n}=qs();return u.jsx(kh,{"data-slot":"form-label","data-error":!!r,className:q("data-[error=true]:text-destructive",e),htmlFor:n,...t})}function wt({...e}){const{error:t,formItemId:r,formDescriptionId:n,formMessageId:s}=qs();return u.jsx(Tc,{"data-slot":"form-control",id:r,"aria-describedby":t?`${n} ${s}`:`${n}`,"aria-invalid":!!t,...e})}function bt({className:e,...t}){const{error:r,formMessageId:n}=qs(),s=r?String((r==null?void 0:r.message)??""):t.children;return s?u.jsx("p",{"data-slot":"form-message",id:n,className:q("text-destructive text-sm",e),...t,children:s}):null}function Ki(e,[t,r]){return Math.min(r,Math.max(t,e))}var Eh=f.createContext(void 0);function Ch(e){const t=f.useContext(Eh);return e||t||"ltr"}function Ah(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Nh(e){const t=e+"CollectionProvider",[r,n]=Yt(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:x,children:k}=v,b=X.useRef(null),A=X.useRef(new Map).current;return u.jsx(s,{scope:x,itemMap:A,collectionRef:b,children:k})};a.displayName=t;const i=e+"CollectionSlot",l=fr(i),c=X.forwardRef((v,x)=>{const{scope:k,children:b}=v,A=o(i,k),S=ye(x,A.collectionRef);return u.jsx(l,{ref:S,children:b})});c.displayName=i;const d=e+"CollectionItemSlot",h="data-radix-collection-item",m=fr(d),g=X.forwardRef((v,x)=>{const{scope:k,children:b,...A}=v,S=X.useRef(null),w=ye(x,S),E=o(d,k);return X.useEffect(()=>(E.itemMap.set(S,{ref:S,...A}),()=>void E.itemMap.delete(S))),u.jsx(m,{[h]:"",ref:w,children:b})});g.displayName=d;function y(v){const x=o(e+"CollectionConsumer",v);return X.useCallback(()=>{const b=x.collectionRef.current;if(!b)return[];const A=Array.from(b.querySelectorAll(`[${h}]`));return Array.from(x.itemMap.values()).sort((E,N)=>A.indexOf(E.ref.current)-A.indexOf(N.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:g},y,n]}var Yi=["PageUp","PageDown"],Xi=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ji={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Qt="Slider",[ss,Rh,Th]=Nh(Qt),[Qi,ap]=Yt(Qt,[Th]),[jh,Sn]=Qi(Qt),ec=f.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:o=1,orientation:a="horizontal",disabled:i=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[n],value:d,onValueChange:h=()=>{},onValueCommit:m=()=>{},inverted:g=!1,form:y,...v}=e,x=f.useRef(new Set),k=f.useRef(0),A=a==="horizontal"?Oh:Ph,[S=[],w]=un({prop:d,defaultProp:c,onChange:Y=>{var D;(D=[...x.current][k.current])==null||D.focus(),h(Y)}}),E=f.useRef(S);function N(Y){const $=Fh(S,Y);J(Y,$)}function z(Y){J(Y,k.current)}function K(){const Y=E.current[k.current];S[k.current]!==Y&&m(S)}function J(Y,$,{commit:D}={commit:!1}){const U=Bh(o),Q=zh(Math.round((Y-n)/o)*o+n,U),te=Ki(Q,[n,s]);w((re=[])=>{const B=Lh(re,te,$);if(Wh(B,l*o)){k.current=B.indexOf(te);const ce=String(B)!==String(re);return ce&&D&&m(B),ce?B:re}else return re})}return u.jsx(jh,{scope:e.__scopeSlider,name:r,disabled:i,min:n,max:s,valueIndexToChangeRef:k,thumbs:x.current,values:S,orientation:a,form:y,children:u.jsx(ss.Provider,{scope:e.__scopeSlider,children:u.jsx(ss.Slot,{scope:e.__scopeSlider,children:u.jsx(A,{"aria-disabled":i,"data-disabled":i?"":void 0,...v,ref:t,onPointerDown:he(v.onPointerDown,()=>{i||(E.current=S)}),min:n,max:s,inverted:g,onSlideStart:i?void 0:N,onSlideMove:i?void 0:z,onSlideEnd:i?void 0:K,onHomeKeyDown:()=>!i&&J(n,0,{commit:!0}),onEndKeyDown:()=>!i&&J(s,S.length-1,{commit:!0}),onStepKeyDown:({event:Y,direction:$})=>{if(!i){const Q=Yi.includes(Y.key)||Y.shiftKey&&Xi.includes(Y.key)?10:1,te=k.current,re=S[te],B=o*Q*$;J(re+B,te,{commit:!0})}}})})})})});ec.displayName=Qt;var[tc,rc]=Qi(Qt,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Oh=f.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:o,onSlideStart:a,onSlideMove:i,onSlideEnd:l,onStepKeyDown:c,...d}=e,[h,m]=f.useState(null),g=ye(t,A=>m(A)),y=f.useRef(void 0),v=Ch(s),x=v==="ltr",k=x&&!o||!x&&o;function b(A){const S=y.current||h.getBoundingClientRect(),w=[0,S.width],N=Ks(w,k?[r,n]:[n,r]);return y.current=S,N(A-S.left)}return u.jsx(tc,{scope:e.__scopeSlider,startEdge:k?"left":"right",endEdge:k?"right":"left",direction:k?1:-1,size:"width",children:u.jsx(nc,{dir:v,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:A=>{const S=b(A.clientX);a==null||a(S)},onSlideMove:A=>{const S=b(A.clientX);i==null||i(S)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:A=>{const w=Ji[k?"from-left":"from-right"].includes(A.key);c==null||c({event:A,direction:w?-1:1})}})})}),Ph=f.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:i,onStepKeyDown:l,...c}=e,d=f.useRef(null),h=ye(t,d),m=f.useRef(void 0),g=!s;function y(v){const x=m.current||d.current.getBoundingClientRect(),k=[0,x.height],A=Ks(k,g?[n,r]:[r,n]);return m.current=x,A(v-x.top)}return u.jsx(tc,{scope:e.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:u.jsx(nc,{"data-orientation":"vertical",...c,ref:h,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:v=>{const x=y(v.clientY);o==null||o(x)},onSlideMove:v=>{const x=y(v.clientY);a==null||a(x)},onSlideEnd:()=>{m.current=void 0,i==null||i()},onStepKeyDown:v=>{const k=Ji[g?"from-bottom":"from-top"].includes(v.key);l==null||l({event:v,direction:k?-1:1})}})})}),nc=f.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:a,onEndKeyDown:i,onStepKeyDown:l,...c}=e,d=Sn(Qt,r);return u.jsx(ue.span,{...c,ref:t,onKeyDown:he(e.onKeyDown,h=>{h.key==="Home"?(a(h),h.preventDefault()):h.key==="End"?(i(h),h.preventDefault()):Yi.concat(Xi).includes(h.key)&&(l(h),h.preventDefault())}),onPointerDown:he(e.onPointerDown,h=>{const m=h.target;m.setPointerCapture(h.pointerId),h.preventDefault(),d.thumbs.has(m)?m.focus():n(h)}),onPointerMove:he(e.onPointerMove,h=>{h.target.hasPointerCapture(h.pointerId)&&s(h)}),onPointerUp:he(e.onPointerUp,h=>{const m=h.target;m.hasPointerCapture(h.pointerId)&&(m.releasePointerCapture(h.pointerId),o(h))})})}),sc="SliderTrack",oc=f.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Sn(sc,r);return u.jsx(ue.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});oc.displayName=sc;var os="SliderRange",ac=f.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=Sn(os,r),o=rc(os,r),a=f.useRef(null),i=ye(t,a),l=s.values.length,c=s.values.map(m=>lc(m,s.min,s.max)),d=l>1?Math.min(...c):0,h=100-Math.max(...c);return u.jsx(ue.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:i,style:{...e.style,[o.startEdge]:d+"%",[o.endEdge]:h+"%"}})});ac.displayName=os;var as="SliderThumb",ic=f.forwardRef((e,t)=>{const r=Rh(e.__scopeSlider),[n,s]=f.useState(null),o=ye(t,i=>s(i)),a=f.useMemo(()=>n?r().findIndex(i=>i.ref.current===n):-1,[r,n]);return u.jsx(Mh,{...e,ref:o,index:a})}),Mh=f.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...o}=e,a=Sn(as,r),i=rc(as,r),[l,c]=f.useState(null),d=ye(t,b=>c(b)),h=l?a.form||!!l.closest("form"):!0,m=Ja(l),g=a.values[n],y=g===void 0?0:lc(g,a.min,a.max),v=Dh(n,a.values.length),x=m==null?void 0:m[i.size],k=x?Vh(x,y,i.direction):0;return f.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${y}% + ${k}px)`},children:[u.jsx(ss.ItemSlot,{scope:e.__scopeSlider,children:u.jsx(ue.span,{role:"slider","aria-label":e["aria-label"]||v,"aria-valuemin":a.min,"aria-valuenow":g,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...o,ref:d,style:g===void 0?{display:"none"}:e.style,onFocus:he(e.onFocus,()=>{a.valueIndexToChangeRef.current=n})})}),h&&u.jsx(cc,{name:s??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:g},n)]})});ic.displayName=as;var Ih="RadioBubbleInput",cc=f.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=f.useRef(null),o=ye(s,n),a=Ah(t);return f.useEffect(()=>{const i=s.current;if(!i)return;const l=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&d){const h=new Event("input",{bubbles:!0});d.call(i,t),i.dispatchEvent(h)}},[a,t]),u.jsx(ue.input,{style:{display:"none"},...r,ref:o,defaultValue:t})});cc.displayName=Ih;function Lh(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,o)=>s-o)}function lc(e,t,r){const o=100/(r-t)*(e-t);return Ki(o,[0,100])}function Dh(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Fh(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function Vh(e,t,r){const n=e/2,o=Ks([0,50],[0,n]);return(n-o(t)*r)*r}function $h(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function Wh(e,t){if(t>0){const r=$h(e);return Math.min(...r)>=t}return!0}function Ks(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Bh(e){return(String(e).split(".")[1]||"").length}function zh(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Uh=ec,Zh=oc,Gh=ac,Hh=ic;function qh({className:e,defaultValue:t,value:r,min:n=0,max:s=100,...o}){const a=f.useMemo(()=>Array.isArray(r)?r:Array.isArray(t)?t:[n,s],[r,t,n,s]);return u.jsxs(Uh,{"data-slot":"slider",defaultValue:t,value:r,min:n,max:s,className:q("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...o,children:[u.jsx(Zh,{"data-slot":"slider-track",className:q("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:u.jsx(Gh,{"data-slot":"slider-range",className:q("bg-primary absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:a.length},(i,l)=>u.jsx(Hh,{"data-slot":"slider-thumb",className:"border-primary bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},l))]})}const Vo=(e,t,r)=>{if(e&&"reportValidity"in e){const n=P(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},uc=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Vo(n.ref,r,e):n&&n.refs&&n.refs.forEach(s=>Vo(s,r,e))}},Kh=(e,t)=>{t.shouldUseNativeValidation&&uc(e,t);const r={};for(const n in e){const s=P(t.fields,n),o=Object.assign(e[n]||{},{ref:s&&s.ref});if(Yh(t.names||Object.keys(e),n)){const a=Object.assign({},P(r,n));le(a,"root",o),le(r,n,a)}else le(r,n,o)}return r},Yh=(e,t)=>{const r=$o(t);return e.some(n=>$o(n).match(`^${r}\\.\\d+`))};function $o(e){return e.replace(/\]|\[/g,"")}function Xh(e,t){for(var r={};e.length;){var n=e[0],s=n.code,o=n.message,a=n.path.join(".");if(!r[a])if("unionErrors"in n){var i=n.unionErrors[0].errors[0];r[a]={message:i.message,type:i.code}}else r[a]={message:o,type:s};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return e.push(h)})}),t){var l=r[a].types,c=l&&l[n.code];r[a]=Vi(a,t,r,s,c?[].concat(c,n.message):n.message)}e.shift()}return r}function Jh(e,t,r){return r===void 0&&(r={}),function(n,s,o){try{return Promise.resolve(function(a,i){try{var l=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(c){return o.shouldUseNativeValidation&&uc({},o),{errors:{},values:r.raw?Object.assign({},n):c}})}catch(c){return i(c)}return l&&l.then?l.then(void 0,i):l}(0,function(a){if(function(i){return Array.isArray(i==null?void 0:i.errors)}(a))return{values:{},errors:Kh(Xh(a.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw a}))}catch(a){return Promise.reject(a)}}}var oe;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{const o={};for(const a of s)o[a]=a;return o},e.getValidEnumValues=s=>{const o=e.objectKeys(s).filter(i=>typeof s[s[i]]!="number"),a={};for(const i of o)a[i]=s[i];return e.objectValues(a)},e.objectValues=s=>e.objectKeys(s).map(function(o){return s[o]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.push(a);return o},e.find=(s,o)=>{for(const a of s)if(o(a))return a},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}e.joinValues=n,e.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(oe||(oe={}));var Wo;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Wo||(Wo={}));const L=oe.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ct=e=>{switch(typeof e){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(e)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(e)?L.array:e===null?L.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?L.promise:typeof Map<"u"&&e instanceof Map?L.map:typeof Set<"u"&&e instanceof Set?L.set:typeof Date<"u"&&e instanceof Date?L.date:L.object;default:return L.unknown}},R=oe.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Le extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(o){return o.message},n={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let i=n,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(i[c]=i[c]||{_errors:[]},i[c]._errors.push(r(a))):i[c]=i[c]||{_errors:[]},i=i[c],l++}}};return s(this),n}static assert(t){if(!(t instanceof Le))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,oe.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Le.create=e=>new Le(e);const vr=(e,t)=>{let r;switch(e.code){case R.invalid_type:e.received===L.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case R.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,oe.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:r=`Unrecognized key(s) in object: ${oe.joinValues(e.keys,", ")}`;break;case R.invalid_union:r="Invalid input";break;case R.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${oe.joinValues(e.options)}`;break;case R.invalid_enum_value:r=`Invalid enum value. Expected ${oe.joinValues(e.options)}, received '${e.received}'`;break;case R.invalid_arguments:r="Invalid function arguments";break;case R.invalid_return_type:r="Invalid function return type";break;case R.invalid_date:r="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:oe.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case R.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case R.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case R.custom:r="Invalid input";break;case R.invalid_intersection_types:r="Intersection results could not be merged";break;case R.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case R.not_finite:r="Number must be finite";break;default:r=t.defaultError,oe.assertNever(e)}return{message:r}};let Qh=vr;function is(){return Qh}const cs=e=>{const{data:t,path:r,errorMaps:n,issueData:s}=e,o=[...r,...s.path||[]],a={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let i="";const l=n.filter(c=>!!c).slice().reverse();for(const c of l)i=c(a,{data:t,defaultError:i}).message;return{...s,path:o,message:i}};function M(e,t){const r=is(),n=cs({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===vr?void 0:vr].filter(s=>!!s)});e.common.issues.push(n)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const s of r){if(s.status==="aborted")return H;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const s of r){const o=await s.key,a=await s.value;n.push({key:o,value:a})}return Re.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const s of r){const{key:o,value:a}=s;if(o.status==="aborted"||a.status==="aborted")return H;o.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof a.value<"u"||s.alwaysSet)&&(n[o.value]=a.value)}return{status:t.value,value:n}}}const H=Object.freeze({status:"aborted"}),ar=e=>({status:"dirty",value:e}),Te=e=>({status:"valid",value:e}),Bo=e=>e.status==="aborted",zo=e=>e.status==="dirty",Ht=e=>e.status==="valid",Hr=e=>typeof Promise<"u"&&e instanceof Promise;function qr(e,t,r,n){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function dc(e,t,r,n,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,r),r}var V;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(V||(V={}));var ir,cr;class Ye{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Uo=(e,t)=>{if(Ht(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Le(e.common.issues);return this._error=r,this._error}}};function ee(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(a,i)=>{var l,c;const{message:d}=e;return a.code==="invalid_enum_value"?{message:d??i.defaultError}:typeof i.data>"u"?{message:(l=d??n)!==null&&l!==void 0?l:i.defaultError}:a.code!=="invalid_type"?{message:i.defaultError}:{message:(c=d??r)!==null&&c!==void 0?c:i.defaultError}},description:s}}class ne{get description(){return this._def.description}_getType(t){return ct(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:ct(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Re,ctx:{common:t.parent.common,data:t.data,parsedType:ct(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(Hr(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;const s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ct(t)},o=this._parseSync({data:t,path:s.path,parent:s});return Uo(s,o)}"~validate"(t){var r,n;const s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ct(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:s});return Ht(o)?{value:o.value}:{issues:s.common.issues}}catch(o){!((n=(r=o==null?void 0:o.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(o=>Ht(o)?{value:o.value}:{issues:s.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:ct(t)},s=this._parse({data:t,path:n.path,parent:n}),o=await(Hr(s)?s:Promise.resolve(s));return Uo(n,o)}refine(t,r){const n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,o)=>{const a=t(s),i=()=>o.addIssue({code:R.custom,...n(s)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(i(),!1)):a?!0:(i(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new at({schema:this,typeName:Z.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return rt.create(this,this._def)}nullable(){return Nt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return qe.create(this)}promise(){return yr.create(this,this._def)}or(t){return Jr.create([this,t],this._def)}and(t){return Qr.create(this,t,this._def)}transform(t){return new at({...ee(this._def),schema:this,typeName:Z.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new sn({...ee(this._def),innerType:this,defaultValue:r,typeName:Z.ZodDefault})}brand(){return new pc({typeName:Z.ZodBranded,type:this,...ee(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new on({...ee(this._def),innerType:this,catchValue:r,typeName:Z.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return En.create(this,t)}readonly(){return an.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const em=/^c[^\s-]{8,}$/i,tm=/^[0-9a-z]+$/,rm=/^[0-9A-HJKMNP-TV-Z]{26}$/i,nm=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,sm=/^[a-z0-9_-]{21}$/i,om=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,am=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,im=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cm="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Wn;const lm=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,um=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,dm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,fm=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,hm=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,mm=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,fc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",pm=new RegExp(`^${fc}$`);function hc(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function gm(e){return new RegExp(`^${hc(e)}$`)}function vm(e){let t=`${fc}T${hc(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function ym(e,t){return!!((t==="v4"||!t)&&lm.test(e)||(t==="v6"||!t)&&dm.test(e))}function xm(e,t){if(!om.test(e))return!1;try{const[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function wm(e,t){return!!((t==="v4"||!t)&&um.test(e)||(t==="v6"||!t)&&fm.test(e))}class Ge extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==L.string){const o=this._getOrReturnCtx(t);return M(o,{code:R.invalid_type,expected:L.string,received:o.parsedType}),H}const n=new Re;let s;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(s=this._getOrReturnCtx(t,s),M(s,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="max")t.data.length>o.value&&(s=this._getOrReturnCtx(t,s),M(s,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),n.dirty());else if(o.kind==="length"){const a=t.data.length>o.value,i=t.data.length<o.value;(a||i)&&(s=this._getOrReturnCtx(t,s),a?M(s,{code:R.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):i&&M(s,{code:R.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),n.dirty())}else if(o.kind==="email")im.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"email",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="emoji")Wn||(Wn=new RegExp(cm,"u")),Wn.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"emoji",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="uuid")nm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"uuid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="nanoid")sm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"nanoid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid")em.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"cuid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="cuid2")tm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"cuid2",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="ulid")rm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"ulid",code:R.invalid_string,message:o.message}),n.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),M(s,{validation:"url",code:R.invalid_string,message:o.message}),n.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"regex",code:R.invalid_string,message:o.message}),n.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(t,s),M(s,{code:R.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),n.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(s=this._getOrReturnCtx(t,s),M(s,{code:R.invalid_string,validation:{startsWith:o.value},message:o.message}),n.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(s=this._getOrReturnCtx(t,s),M(s,{code:R.invalid_string,validation:{endsWith:o.value},message:o.message}),n.dirty()):o.kind==="datetime"?vm(o).test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{code:R.invalid_string,validation:"datetime",message:o.message}),n.dirty()):o.kind==="date"?pm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{code:R.invalid_string,validation:"date",message:o.message}),n.dirty()):o.kind==="time"?gm(o).test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{code:R.invalid_string,validation:"time",message:o.message}),n.dirty()):o.kind==="duration"?am.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"duration",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="ip"?ym(t.data,o.version)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"ip",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="jwt"?xm(t.data,o.alg)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"jwt",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="cidr"?wm(t.data,o.version)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"cidr",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="base64"?hm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"base64",code:R.invalid_string,message:o.message}),n.dirty()):o.kind==="base64url"?mm.test(t.data)||(s=this._getOrReturnCtx(t,s),M(s,{validation:"base64url",code:R.invalid_string,message:o.message}),n.dirty()):oe.assertNever(o);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:R.invalid_string,...V.errToObj(n)})}_addCheck(t){return new Ge({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...V.errToObj(t)})}url(t){return this._addCheck({kind:"url",...V.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...V.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...V.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...V.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...V.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...V.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...V.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...V.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...V.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...V.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...V.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...V.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...V.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...V.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...V.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...V.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...V.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...V.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...V.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...V.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...V.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...V.errToObj(r)})}nonempty(t){return this.min(1,V.errToObj(t))}trim(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ge({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ge.create=e=>{var t;return new Ge({checks:[],typeName:Z.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ee(e)})};function bm(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,o=parseInt(e.toFixed(s).replace(".","")),a=parseInt(t.toFixed(s).replace(".",""));return o%a/Math.pow(10,s)}class Et extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==L.number){const o=this._getOrReturnCtx(t);return M(o,{code:R.invalid_type,expected:L.number,received:o.parsedType}),H}let n;const s=new Re;for(const o of this._def.checks)o.kind==="int"?oe.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),M(n,{code:R.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),M(n,{code:R.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),M(n,{code:R.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?bm(t.data,o.value)!==0&&(n=this._getOrReturnCtx(t,n),M(n,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),M(n,{code:R.not_finite,message:o.message}),s.dirty()):oe.assertNever(o);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,V.toString(r))}gt(t,r){return this.setLimit("min",t,!1,V.toString(r))}lte(t,r){return this.setLimit("max",t,!0,V.toString(r))}lt(t,r){return this.setLimit("max",t,!1,V.toString(r))}setLimit(t,r,n,s){return new Et({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:V.toString(s)}]})}_addCheck(t){return new Et({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:V.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:V.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&oe.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}Et.create=e=>new Et({checks:[],typeName:Z.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ee(e)});class Ct extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==L.bigint)return this._getInvalidInput(t);let n;const s=new Re;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(n=this._getOrReturnCtx(t,n),M(n,{code:R.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(n=this._getOrReturnCtx(t,n),M(n,{code:R.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),M(n,{code:R.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):oe.assertNever(o);return{status:s.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return M(r,{code:R.invalid_type,expected:L.bigint,received:r.parsedType}),H}gte(t,r){return this.setLimit("min",t,!0,V.toString(r))}gt(t,r){return this.setLimit("min",t,!1,V.toString(r))}lte(t,r){return this.setLimit("max",t,!0,V.toString(r))}lt(t,r){return this.setLimit("max",t,!1,V.toString(r))}setLimit(t,r,n,s){return new Ct({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:V.toString(s)}]})}_addCheck(t){return new Ct({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}Ct.create=e=>{var t;return new Ct({checks:[],typeName:Z.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...ee(e)})};class Kr extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==L.boolean){const n=this._getOrReturnCtx(t);return M(n,{code:R.invalid_type,expected:L.boolean,received:n.parsedType}),H}return Te(t.data)}}Kr.create=e=>new Kr({typeName:Z.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ee(e)});class qt extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==L.date){const o=this._getOrReturnCtx(t);return M(o,{code:R.invalid_type,expected:L.date,received:o.parsedType}),H}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return M(o,{code:R.invalid_date}),H}const n=new Re;let s;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(s=this._getOrReturnCtx(t,s),M(s,{code:R.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),n.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(s=this._getOrReturnCtx(t,s),M(s,{code:R.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),n.dirty()):oe.assertNever(o);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new qt({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:V.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:V.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}qt.create=e=>new qt({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Z.ZodDate,...ee(e)});class ls extends ne{_parse(t){if(this._getType(t)!==L.symbol){const n=this._getOrReturnCtx(t);return M(n,{code:R.invalid_type,expected:L.symbol,received:n.parsedType}),H}return Te(t.data)}}ls.create=e=>new ls({typeName:Z.ZodSymbol,...ee(e)});class Yr extends ne{_parse(t){if(this._getType(t)!==L.undefined){const n=this._getOrReturnCtx(t);return M(n,{code:R.invalid_type,expected:L.undefined,received:n.parsedType}),H}return Te(t.data)}}Yr.create=e=>new Yr({typeName:Z.ZodUndefined,...ee(e)});class Xr extends ne{_parse(t){if(this._getType(t)!==L.null){const n=this._getOrReturnCtx(t);return M(n,{code:R.invalid_type,expected:L.null,received:n.parsedType}),H}return Te(t.data)}}Xr.create=e=>new Xr({typeName:Z.ZodNull,...ee(e)});class us extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return Te(t.data)}}us.create=e=>new us({typeName:Z.ZodAny,...ee(e)});class Bt extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Te(t.data)}}Bt.create=e=>new Bt({typeName:Z.ZodUnknown,...ee(e)});class ht extends ne{_parse(t){const r=this._getOrReturnCtx(t);return M(r,{code:R.invalid_type,expected:L.never,received:r.parsedType}),H}}ht.create=e=>new ht({typeName:Z.ZodNever,...ee(e)});class ds extends ne{_parse(t){if(this._getType(t)!==L.undefined){const n=this._getOrReturnCtx(t);return M(n,{code:R.invalid_type,expected:L.void,received:n.parsedType}),H}return Te(t.data)}}ds.create=e=>new ds({typeName:Z.ZodVoid,...ee(e)});class qe extends ne{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==L.array)return M(r,{code:R.invalid_type,expected:L.array,received:r.parsedType}),H;if(s.exactLength!==null){const a=r.data.length>s.exactLength.value,i=r.data.length<s.exactLength.value;(a||i)&&(M(r,{code:a?R.too_big:R.too_small,minimum:i?s.exactLength.value:void 0,maximum:a?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(M(r,{code:R.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(M(r,{code:R.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((a,i)=>s.type._parseAsync(new Ye(r,a,r.path,i)))).then(a=>Re.mergeArray(n,a));const o=[...r.data].map((a,i)=>s.type._parseSync(new Ye(r,a,r.path,i)));return Re.mergeArray(n,o)}get element(){return this._def.type}min(t,r){return new qe({...this._def,minLength:{value:t,message:V.toString(r)}})}max(t,r){return new qe({...this._def,maxLength:{value:t,message:V.toString(r)}})}length(t,r){return new qe({...this._def,exactLength:{value:t,message:V.toString(r)}})}nonempty(t){return this.min(1,t)}}qe.create=(e,t)=>new qe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Z.ZodArray,...ee(t)});function Dt(e){if(e instanceof pe){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=rt.create(Dt(n))}return new pe({...e._def,shape:()=>t})}else return e instanceof qe?new qe({...e._def,type:Dt(e.element)}):e instanceof rt?rt.create(Dt(e.unwrap())):e instanceof Nt?Nt.create(Dt(e.unwrap())):e instanceof ot?ot.create(e.items.map(t=>Dt(t))):e}class pe extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=oe.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==L.object){const c=this._getOrReturnCtx(t);return M(c,{code:R.invalid_type,expected:L.object,received:c.parsedType}),H}const{status:n,ctx:s}=this._processInputParams(t),{shape:o,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof ht&&this._def.unknownKeys==="strip"))for(const c in s.data)a.includes(c)||i.push(c);const l=[];for(const c of a){const d=o[c],h=s.data[c];l.push({key:{status:"valid",value:c},value:d._parse(new Ye(s,h,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof ht){const c=this._def.unknownKeys;if(c==="passthrough")for(const d of i)l.push({key:{status:"valid",value:d},value:{status:"valid",value:s.data[d]}});else if(c==="strict")i.length>0&&(M(s,{code:R.unrecognized_keys,keys:i}),n.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const d of i){const h=s.data[d];l.push({key:{status:"valid",value:d},value:c._parse(new Ye(s,h,s.path,d)),alwaysSet:d in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const d of l){const h=await d.key,m=await d.value;c.push({key:h,value:m,alwaysSet:d.alwaysSet})}return c}).then(c=>Re.mergeObjectSync(n,c)):Re.mergeObjectSync(n,l)}get shape(){return this._def.shape()}strict(t){return V.errToObj,new pe({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,o,a,i;const l=(a=(o=(s=this._def).errorMap)===null||o===void 0?void 0:o.call(s,r,n).message)!==null&&a!==void 0?a:n.defaultError;return r.code==="unrecognized_keys"?{message:(i=V.errToObj(t).message)!==null&&i!==void 0?i:l}:{message:l}}}:{}})}strip(){return new pe({...this._def,unknownKeys:"strip"})}passthrough(){return new pe({...this._def,unknownKeys:"passthrough"})}extend(t){return new pe({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new pe({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Z.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new pe({...this._def,catchall:t})}pick(t){const r={};return oe.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new pe({...this._def,shape:()=>r})}omit(t){const r={};return oe.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new pe({...this._def,shape:()=>r})}deepPartial(){return Dt(this)}partial(t){const r={};return oe.objectKeys(this.shape).forEach(n=>{const s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new pe({...this._def,shape:()=>r})}required(t){const r={};return oe.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let o=this.shape[n];for(;o instanceof rt;)o=o._def.innerType;r[n]=o}}),new pe({...this._def,shape:()=>r})}keyof(){return mc(oe.objectKeys(this.shape))}}pe.create=(e,t)=>new pe({shape:()=>e,unknownKeys:"strip",catchall:ht.create(),typeName:Z.ZodObject,...ee(t)});pe.strictCreate=(e,t)=>new pe({shape:()=>e,unknownKeys:"strict",catchall:ht.create(),typeName:Z.ZodObject,...ee(t)});pe.lazycreate=(e,t)=>new pe({shape:e,unknownKeys:"strip",catchall:ht.create(),typeName:Z.ZodObject,...ee(t)});class Jr extends ne{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function s(o){for(const i of o)if(i.result.status==="valid")return i.result;for(const i of o)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(i=>new Le(i.ctx.common.issues));return M(r,{code:R.invalid_union,unionErrors:a}),H}if(r.common.async)return Promise.all(n.map(async o=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await o._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(s);{let o;const a=[];for(const l of n){const c={...r,common:{...r.common,issues:[]},parent:null},d=l._parseSync({data:r.data,path:r.path,parent:c});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(o)return r.common.issues.push(...o.ctx.common.issues),o.result;const i=a.map(l=>new Le(l));return M(r,{code:R.invalid_union,unionErrors:i}),H}}get options(){return this._def.options}}Jr.create=(e,t)=>new Jr({options:e,typeName:Z.ZodUnion,...ee(t)});const Qe=e=>e instanceof tn?Qe(e.schema):e instanceof at?Qe(e.innerType()):e instanceof rn?[e.value]:e instanceof At?e.options:e instanceof nn?oe.objectValues(e.enum):e instanceof sn?Qe(e._def.innerType):e instanceof Yr?[void 0]:e instanceof Xr?[null]:e instanceof rt?[void 0,...Qe(e.unwrap())]:e instanceof Nt?[null,...Qe(e.unwrap())]:e instanceof pc||e instanceof an?Qe(e.unwrap()):e instanceof on?Qe(e._def.innerType):[];class Ys extends ne{_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==L.object)return M(r,{code:R.invalid_type,expected:L.object,received:r.parsedType}),H;const n=this.discriminator,s=r.data[n],o=this.optionsMap.get(s);return o?r.common.async?o._parseAsync({data:r.data,path:r.path,parent:r}):o._parseSync({data:r.data,path:r.path,parent:r}):(M(r,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),H)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){const s=new Map;for(const o of r){const a=Qe(o.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const i of a){if(s.has(i))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(i)}`);s.set(i,o)}}return new Ys({typeName:Z.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...ee(n)})}}function fs(e,t){const r=ct(e),n=ct(t);if(e===t)return{valid:!0,data:e};if(r===L.object&&n===L.object){const s=oe.objectKeys(t),o=oe.objectKeys(e).filter(i=>s.indexOf(i)!==-1),a={...e,...t};for(const i of o){const l=fs(e[i],t[i]);if(!l.valid)return{valid:!1};a[i]=l.data}return{valid:!0,data:a}}else if(r===L.array&&n===L.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let o=0;o<e.length;o++){const a=e[o],i=t[o],l=fs(a,i);if(!l.valid)return{valid:!1};s.push(l.data)}return{valid:!0,data:s}}else return r===L.date&&n===L.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Qr extends ne{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=(o,a)=>{if(Bo(o)||Bo(a))return H;const i=fs(o.value,a.value);return i.valid?((zo(o)||zo(a))&&r.dirty(),{status:r.value,value:i.data}):(M(n,{code:R.invalid_intersection_types}),H)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([o,a])=>s(o,a)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Qr.create=(e,t,r)=>new Qr({left:e,right:t,typeName:Z.ZodIntersection,...ee(r)});class ot extends ne{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==L.array)return M(n,{code:R.invalid_type,expected:L.array,received:n.parsedType}),H;if(n.data.length<this._def.items.length)return M(n,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),H;!this._def.rest&&n.data.length>this._def.items.length&&(M(n,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const o=[...n.data].map((a,i)=>{const l=this._def.items[i]||this._def.rest;return l?l._parse(new Ye(n,a,n.path,i)):null}).filter(a=>!!a);return n.common.async?Promise.all(o).then(a=>Re.mergeArray(r,a)):Re.mergeArray(r,o)}get items(){return this._def.items}rest(t){return new ot({...this._def,rest:t})}}ot.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ot({items:e,typeName:Z.ZodTuple,rest:null,...ee(t)})};class en extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==L.object)return M(n,{code:R.invalid_type,expected:L.object,received:n.parsedType}),H;const s=[],o=this._def.keyType,a=this._def.valueType;for(const i in n.data)s.push({key:o._parse(new Ye(n,i,n.path,i)),value:a._parse(new Ye(n,n.data[i],n.path,i)),alwaysSet:i in n.data});return n.common.async?Re.mergeObjectAsync(r,s):Re.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof ne?new en({keyType:t,valueType:r,typeName:Z.ZodRecord,...ee(n)}):new en({keyType:Ge.create(),valueType:t,typeName:Z.ZodRecord,...ee(r)})}}class hs extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==L.map)return M(n,{code:R.invalid_type,expected:L.map,received:n.parsedType}),H;const s=this._def.keyType,o=this._def.valueType,a=[...n.data.entries()].map(([i,l],c)=>({key:s._parse(new Ye(n,i,n.path,[c,"key"])),value:o._parse(new Ye(n,l,n.path,[c,"value"]))}));if(n.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,d=await l.value;if(c.status==="aborted"||d.status==="aborted")return H;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),i.set(c.value,d.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const l of a){const c=l.key,d=l.value;if(c.status==="aborted"||d.status==="aborted")return H;(c.status==="dirty"||d.status==="dirty")&&r.dirty(),i.set(c.value,d.value)}return{status:r.value,value:i}}}}hs.create=(e,t,r)=>new hs({valueType:t,keyType:e,typeName:Z.ZodMap,...ee(r)});class Kt extends ne{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==L.set)return M(n,{code:R.invalid_type,expected:L.set,received:n.parsedType}),H;const s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(M(n,{code:R.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(M(n,{code:R.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());const o=this._def.valueType;function a(l){const c=new Set;for(const d of l){if(d.status==="aborted")return H;d.status==="dirty"&&r.dirty(),c.add(d.value)}return{status:r.value,value:c}}const i=[...n.data.values()].map((l,c)=>o._parse(new Ye(n,l,n.path,c)));return n.common.async?Promise.all(i).then(l=>a(l)):a(i)}min(t,r){return new Kt({...this._def,minSize:{value:t,message:V.toString(r)}})}max(t,r){return new Kt({...this._def,maxSize:{value:t,message:V.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}Kt.create=(e,t)=>new Kt({valueType:e,minSize:null,maxSize:null,typeName:Z.ZodSet,...ee(t)});class dr extends ne{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==L.function)return M(r,{code:R.invalid_type,expected:L.function,received:r.parsedType}),H;function n(i,l){return cs({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,is(),vr].filter(c=>!!c),issueData:{code:R.invalid_arguments,argumentsError:l}})}function s(i,l){return cs({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,is(),vr].filter(c=>!!c),issueData:{code:R.invalid_return_type,returnTypeError:l}})}const o={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof yr){const i=this;return Te(async function(...l){const c=new Le([]),d=await i._def.args.parseAsync(l,o).catch(g=>{throw c.addIssue(n(l,g)),c}),h=await Reflect.apply(a,this,d);return await i._def.returns._def.type.parseAsync(h,o).catch(g=>{throw c.addIssue(s(h,g)),c})})}else{const i=this;return Te(function(...l){const c=i._def.args.safeParse(l,o);if(!c.success)throw new Le([n(l,c.error)]);const d=Reflect.apply(a,this,c.data),h=i._def.returns.safeParse(d,o);if(!h.success)throw new Le([s(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new dr({...this._def,args:ot.create(t).rest(Bt.create())})}returns(t){return new dr({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new dr({args:t||ot.create([]).rest(Bt.create()),returns:r||Bt.create(),typeName:Z.ZodFunction,...ee(n)})}}class tn extends ne{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}tn.create=(e,t)=>new tn({getter:e,typeName:Z.ZodLazy,...ee(t)});class rn extends ne{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return M(r,{received:r.data,code:R.invalid_literal,expected:this._def.value}),H}return{status:"valid",value:t.data}}get value(){return this._def.value}}rn.create=(e,t)=>new rn({value:e,typeName:Z.ZodLiteral,...ee(t)});function mc(e,t){return new At({values:e,typeName:Z.ZodEnum,...ee(t)})}class At extends ne{constructor(){super(...arguments),ir.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return M(r,{expected:oe.joinValues(n),received:r.parsedType,code:R.invalid_type}),H}if(qr(this,ir)||dc(this,ir,new Set(this._def.values)),!qr(this,ir).has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return M(r,{received:r.data,code:R.invalid_enum_value,options:n}),H}return Te(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return At.create(t,{...this._def,...r})}exclude(t,r=this._def){return At.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ir=new WeakMap;At.create=mc;class nn extends ne{constructor(){super(...arguments),cr.set(this,void 0)}_parse(t){const r=oe.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==L.string&&n.parsedType!==L.number){const s=oe.objectValues(r);return M(n,{expected:oe.joinValues(s),received:n.parsedType,code:R.invalid_type}),H}if(qr(this,cr)||dc(this,cr,new Set(oe.getValidEnumValues(this._def.values))),!qr(this,cr).has(t.data)){const s=oe.objectValues(r);return M(n,{received:n.data,code:R.invalid_enum_value,options:s}),H}return Te(t.data)}get enum(){return this._def.values}}cr=new WeakMap;nn.create=(e,t)=>new nn({values:e,typeName:Z.ZodNativeEnum,...ee(t)});class yr extends ne{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==L.promise&&r.common.async===!1)return M(r,{code:R.invalid_type,expected:L.promise,received:r.parsedType}),H;const n=r.parsedType===L.promise?r.data:Promise.resolve(r.data);return Te(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}}yr.create=(e,t)=>new yr({type:e,typeName:Z.ZodPromise,...ee(t)});class at extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Z.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,o={addIssue:a=>{M(n,a),a.fatal?r.abort():r.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const a=s.transform(n.data,o);if(n.common.async)return Promise.resolve(a).then(async i=>{if(r.value==="aborted")return H;const l=await this._def.schema._parseAsync({data:i,path:n.path,parent:n});return l.status==="aborted"?H:l.status==="dirty"||r.value==="dirty"?ar(l.value):l});{if(r.value==="aborted")return H;const i=this._def.schema._parseSync({data:a,path:n.path,parent:n});return i.status==="aborted"?H:i.status==="dirty"||r.value==="dirty"?ar(i.value):i}}if(s.type==="refinement"){const a=i=>{const l=s.refinement(i,o);if(n.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(n.common.async===!1){const i=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?H:(i.status==="dirty"&&r.dirty(),a(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(i=>i.status==="aborted"?H:(i.status==="dirty"&&r.dirty(),a(i.value).then(()=>({status:r.value,value:i.value}))))}if(s.type==="transform")if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ht(a))return a;const i=s.transform(a.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>Ht(a)?Promise.resolve(s.transform(a.value,o)).then(i=>({status:r.value,value:i})):a);oe.assertNever(s)}}at.create=(e,t,r)=>new at({schema:e,typeName:Z.ZodEffects,effect:t,...ee(r)});at.createWithPreprocess=(e,t,r)=>new at({schema:t,effect:{type:"preprocess",transform:e},typeName:Z.ZodEffects,...ee(r)});class rt extends ne{_parse(t){return this._getType(t)===L.undefined?Te(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rt.create=(e,t)=>new rt({innerType:e,typeName:Z.ZodOptional,...ee(t)});class Nt extends ne{_parse(t){return this._getType(t)===L.null?Te(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Nt.create=(e,t)=>new Nt({innerType:e,typeName:Z.ZodNullable,...ee(t)});class sn extends ne{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===L.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}sn.create=(e,t)=>new sn({innerType:e,typeName:Z.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ee(t)});class on extends ne{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Hr(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Le(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Le(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}on.create=(e,t)=>new on({innerType:e,typeName:Z.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ee(t)});class ms extends ne{_parse(t){if(this._getType(t)!==L.nan){const n=this._getOrReturnCtx(t);return M(n,{code:R.invalid_type,expected:L.nan,received:n.parsedType}),H}return{status:"valid",value:t.data}}}ms.create=e=>new ms({typeName:Z.ZodNaN,...ee(e)});class pc extends ne{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class En extends ne{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?H:o.status==="dirty"?(r.dirty(),ar(o.value)):this._def.out._parseAsync({data:o.value,path:n.path,parent:n})})();{const s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?H:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new En({in:t,out:r,typeName:Z.ZodPipeline})}}class an extends ne{_parse(t){const r=this._def.innerType._parse(t),n=s=>(Ht(s)&&(s.value=Object.freeze(s.value)),s);return Hr(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}}an.create=(e,t)=>new an({innerType:e,typeName:Z.ZodReadonly,...ee(t)});pe.lazycreate;var Z;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Z||(Z={}));const Bn=Ge.create;Et.create;ms.create;Ct.create;Kr.create;qt.create;ls.create;Yr.create;Xr.create;us.create;Bt.create;ht.create;ds.create;qe.create;const _m=pe.create;pe.strictCreate;Jr.create;Ys.create;Qr.create;ot.create;en.create;hs.create;Kt.create;dr.create;tn.create;rn.create;At.create;nn.create;yr.create;at.create;rt.create;Nt.create;at.createWithPreprocess;En.create;const Pr={string:e=>Ge.create({...e,coerce:!0}),number:e=>Et.create({...e,coerce:!0}),boolean:e=>Kr.create({...e,coerce:!0}),bigint:e=>Ct.create({...e,coerce:!0}),date:e=>qt.create({...e,coerce:!0})};var Zo=1,km=.9,Sm=.8,Em=.17,zn=.1,Un=.999,Cm=.9999,Am=.99,Nm=/[\\\/_+.#"@\[\(\{&]/,Rm=/[\\\/_+.#"@\[\(\{&]/g,Tm=/[\s-]/,gc=/[\s-]/g;function ps(e,t,r,n,s,o,a){if(o===t.length)return s===e.length?Zo:Am;var i=`${s},${o}`;if(a[i]!==void 0)return a[i];for(var l=n.charAt(o),c=r.indexOf(l,s),d=0,h,m,g,y;c>=0;)h=ps(e,t,r,n,c+1,o+1,a),h>d&&(c===s?h*=Zo:Nm.test(e.charAt(c-1))?(h*=Sm,g=e.slice(s,c-1).match(Rm),g&&s>0&&(h*=Math.pow(Un,g.length))):Tm.test(e.charAt(c-1))?(h*=km,y=e.slice(s,c-1).match(gc),y&&s>0&&(h*=Math.pow(Un,y.length))):(h*=Em,s>0&&(h*=Math.pow(Un,c-s))),e.charAt(c)!==t.charAt(o)&&(h*=Cm)),(h<zn&&r.charAt(c-1)===n.charAt(o+1)||n.charAt(o+1)===n.charAt(o)&&r.charAt(c-1)!==n.charAt(o))&&(m=ps(e,t,r,n,c+1,o+2,a),m*zn>h&&(h=m*zn)),h>d&&(d=h),c=r.indexOf(l,c+1);return a[i]=d,d}function Go(e){return e.toLowerCase().replace(gc," ")}function jm(e,t,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ps(e,t,Go(e),Go(t),0,0,{})}var sr='[cmdk-group=""]',Zn='[cmdk-group-items=""]',Om='[cmdk-group-heading=""]',vc='[cmdk-item=""]',Ho=`${vc}:not([aria-disabled="true"])`,gs="cmdk-item-select",Ft="data-value",Pm=(e,t,r)=>jm(e,t,r),yc=f.createContext(void 0),_r=()=>f.useContext(yc),xc=f.createContext(void 0),Xs=()=>f.useContext(xc),wc=f.createContext(void 0),bc=f.forwardRef((e,t)=>{let r=Vt(()=>{var T,G;return{search:"",value:(G=(T=e.value)!=null?T:e.defaultValue)!=null?G:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),n=Vt(()=>new Set),s=Vt(()=>new Map),o=Vt(()=>new Map),a=Vt(()=>new Set),i=_c(e),{label:l,children:c,value:d,onValueChange:h,filter:m,shouldFilter:g,loop:y,disablePointerSelection:v=!1,vimBindings:x=!0,...k}=e,b=Ve(),A=Ve(),S=Ve(),w=f.useRef(null),E=Um();Rt(()=>{if(d!==void 0){let T=d.trim();r.current.value=T,N.emit()}},[d]),Rt(()=>{E(6,D)},[]);let N=f.useMemo(()=>({subscribe:T=>(a.current.add(T),()=>a.current.delete(T)),snapshot:()=>r.current,setState:(T,G,se)=>{var W,ie,de,_e;if(!Object.is(r.current[T],G)){if(r.current[T]=G,T==="search")$(),J(),E(1,Y);else if(T==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let me=document.getElementById(S);me?me.focus():(W=document.getElementById(b))==null||W.focus()}if(E(7,()=>{var me;r.current.selectedItemId=(me=U())==null?void 0:me.id,N.emit()}),se||E(5,D),((ie=i.current)==null?void 0:ie.value)!==void 0){let me=G??"";(_e=(de=i.current).onValueChange)==null||_e.call(de,me);return}}N.emit()}},emit:()=>{a.current.forEach(T=>T())}}),[]),z=f.useMemo(()=>({value:(T,G,se)=>{var W;G!==((W=o.current.get(T))==null?void 0:W.value)&&(o.current.set(T,{value:G,keywords:se}),r.current.filtered.items.set(T,K(G,se)),E(2,()=>{J(),N.emit()}))},item:(T,G)=>(n.current.add(T),G&&(s.current.has(G)?s.current.get(G).add(T):s.current.set(G,new Set([T]))),E(3,()=>{$(),J(),r.current.value||Y(),N.emit()}),()=>{o.current.delete(T),n.current.delete(T),r.current.filtered.items.delete(T);let se=U();E(4,()=>{$(),(se==null?void 0:se.getAttribute("id"))===T&&Y(),N.emit()})}),group:T=>(s.current.has(T)||s.current.set(T,new Set),()=>{o.current.delete(T),s.current.delete(T)}),filter:()=>i.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>i.current.disablePointerSelection,listId:b,inputId:S,labelId:A,listInnerRef:w}),[]);function K(T,G){var se,W;let ie=(W=(se=i.current)==null?void 0:se.filter)!=null?W:Pm;return T?ie(T,r.current.search,G):0}function J(){if(!r.current.search||i.current.shouldFilter===!1)return;let T=r.current.filtered.items,G=[];r.current.filtered.groups.forEach(W=>{let ie=s.current.get(W),de=0;ie.forEach(_e=>{let me=T.get(_e);de=Math.max(me,de)}),G.push([W,de])});let se=w.current;Q().sort((W,ie)=>{var de,_e;let me=W.getAttribute("id"),ze=ie.getAttribute("id");return((de=T.get(ze))!=null?de:0)-((_e=T.get(me))!=null?_e:0)}).forEach(W=>{let ie=W.closest(Zn);ie?ie.appendChild(W.parentElement===ie?W:W.closest(`${Zn} > *`)):se.appendChild(W.parentElement===se?W:W.closest(`${Zn} > *`))}),G.sort((W,ie)=>ie[1]-W[1]).forEach(W=>{var ie;let de=(ie=w.current)==null?void 0:ie.querySelector(`${sr}[${Ft}="${encodeURIComponent(W[0])}"]`);de==null||de.parentElement.appendChild(de)})}function Y(){let T=Q().find(se=>se.getAttribute("aria-disabled")!=="true"),G=T==null?void 0:T.getAttribute(Ft);N.setState("value",G||void 0)}function $(){var T,G,se,W;if(!r.current.search||i.current.shouldFilter===!1){r.current.filtered.count=n.current.size;return}r.current.filtered.groups=new Set;let ie=0;for(let de of n.current){let _e=(G=(T=o.current.get(de))==null?void 0:T.value)!=null?G:"",me=(W=(se=o.current.get(de))==null?void 0:se.keywords)!=null?W:[],ze=K(_e,me);r.current.filtered.items.set(de,ze),ze>0&&ie++}for(let[de,_e]of s.current)for(let me of _e)if(r.current.filtered.items.get(me)>0){r.current.filtered.groups.add(de);break}r.current.filtered.count=ie}function D(){var T,G,se;let W=U();W&&(((T=W.parentElement)==null?void 0:T.firstChild)===W&&((se=(G=W.closest(sr))==null?void 0:G.querySelector(Om))==null||se.scrollIntoView({block:"nearest"})),W.scrollIntoView({block:"nearest"}))}function U(){var T;return(T=w.current)==null?void 0:T.querySelector(`${vc}[aria-selected="true"]`)}function Q(){var T;return Array.from(((T=w.current)==null?void 0:T.querySelectorAll(Ho))||[])}function te(T){let G=Q()[T];G&&N.setState("value",G.getAttribute(Ft))}function re(T){var G;let se=U(),W=Q(),ie=W.findIndex(_e=>_e===se),de=W[ie+T];(G=i.current)!=null&&G.loop&&(de=ie+T<0?W[W.length-1]:ie+T===W.length?W[0]:W[ie+T]),de&&N.setState("value",de.getAttribute(Ft))}function B(T){let G=U(),se=G==null?void 0:G.closest(sr),W;for(;se&&!W;)se=T>0?Bm(se,sr):zm(se,sr),W=se==null?void 0:se.querySelector(Ho);W?N.setState("value",W.getAttribute(Ft)):re(T)}let ce=()=>te(Q().length-1),fe=T=>{T.preventDefault(),T.metaKey?ce():T.altKey?B(1):re(1)},je=T=>{T.preventDefault(),T.metaKey?te(0):T.altKey?B(-1):re(-1)};return f.createElement(ue.div,{ref:t,tabIndex:-1,...k,"cmdk-root":"",onKeyDown:T=>{var G;(G=k.onKeyDown)==null||G.call(k,T);let se=T.nativeEvent.isComposing||T.keyCode===229;if(!(T.defaultPrevented||se))switch(T.key){case"n":case"j":{x&&T.ctrlKey&&fe(T);break}case"ArrowDown":{fe(T);break}case"p":case"k":{x&&T.ctrlKey&&je(T);break}case"ArrowUp":{je(T);break}case"Home":{T.preventDefault(),te(0);break}case"End":{T.preventDefault(),ce();break}case"Enter":{T.preventDefault();let W=U();if(W){let ie=new Event(gs);W.dispatchEvent(ie)}}}}},f.createElement("label",{"cmdk-label":"",htmlFor:z.inputId,id:z.labelId,style:Gm},l),Cn(e,T=>f.createElement(xc.Provider,{value:N},f.createElement(yc.Provider,{value:z},T))))}),Mm=f.forwardRef((e,t)=>{var r,n;let s=Ve(),o=f.useRef(null),a=f.useContext(wc),i=_r(),l=_c(e),c=(n=(r=l.current)==null?void 0:r.forceMount)!=null?n:a==null?void 0:a.forceMount;Rt(()=>{if(!c)return i.item(s,a==null?void 0:a.id)},[c]);let d=kc(s,o,[e.value,e.children,o],e.keywords),h=Xs(),m=mt(E=>E.value&&E.value===d.current),g=mt(E=>c||i.filter()===!1?!0:E.search?E.filtered.items.get(s)>0:!0);f.useEffect(()=>{let E=o.current;if(!(!E||e.disabled))return E.addEventListener(gs,y),()=>E.removeEventListener(gs,y)},[g,e.onSelect,e.disabled]);function y(){var E,N;v(),(N=(E=l.current).onSelect)==null||N.call(E,d.current)}function v(){h.setState("value",d.current,!0)}if(!g)return null;let{disabled:x,value:k,onSelect:b,forceMount:A,keywords:S,...w}=e;return f.createElement(ue.div,{ref:hr(o,t),...w,id:s,"cmdk-item":"",role:"option","aria-disabled":!!x,"aria-selected":!!m,"data-disabled":!!x,"data-selected":!!m,onPointerMove:x||i.getDisablePointerSelection()?void 0:v,onClick:x?void 0:y},e.children)}),Im=f.forwardRef((e,t)=>{let{heading:r,children:n,forceMount:s,...o}=e,a=Ve(),i=f.useRef(null),l=f.useRef(null),c=Ve(),d=_r(),h=mt(g=>s||d.filter()===!1?!0:g.search?g.filtered.groups.has(a):!0);Rt(()=>d.group(a),[]),kc(a,i,[e.value,e.heading,l]);let m=f.useMemo(()=>({id:a,forceMount:s}),[s]);return f.createElement(ue.div,{ref:hr(i,t),...o,"cmdk-group":"",role:"presentation",hidden:h?void 0:!0},r&&f.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},r),Cn(e,g=>f.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?c:void 0},f.createElement(wc.Provider,{value:m},g))))}),Lm=f.forwardRef((e,t)=>{let{alwaysRender:r,...n}=e,s=f.useRef(null),o=mt(a=>!a.search);return!r&&!o?null:f.createElement(ue.div,{ref:hr(s,t),...n,"cmdk-separator":"",role:"separator"})}),Dm=f.forwardRef((e,t)=>{let{onValueChange:r,...n}=e,s=e.value!=null,o=Xs(),a=mt(c=>c.search),i=mt(c=>c.selectedItemId),l=_r();return f.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),f.createElement(ue.input,{ref:t,...n,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":i,id:l.inputId,type:"text",value:s?e.value:a,onChange:c=>{s||o.setState("search",c.target.value),r==null||r(c.target.value)}})}),Fm=f.forwardRef((e,t)=>{let{children:r,label:n="Suggestions",...s}=e,o=f.useRef(null),a=f.useRef(null),i=mt(c=>c.selectedItemId),l=_r();return f.useEffect(()=>{if(a.current&&o.current){let c=a.current,d=o.current,h,m=new ResizeObserver(()=>{h=requestAnimationFrame(()=>{let g=c.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return m.observe(c),()=>{cancelAnimationFrame(h),m.unobserve(c)}}},[]),f.createElement(ue.div,{ref:hr(o,t),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":i,"aria-label":n,id:l.listId},Cn(e,c=>f.createElement("div",{ref:hr(a,l.listInnerRef),"cmdk-list-sizer":""},c)))}),Vm=f.forwardRef((e,t)=>{let{open:r,onOpenChange:n,overlayClassName:s,contentClassName:o,container:a,...i}=e;return f.createElement(As,{open:r,onOpenChange:n},f.createElement(Ns,{container:a},f.createElement(Rs,{"cmdk-overlay":"",className:s}),f.createElement(Ts,{"aria-label":e.label,"cmdk-dialog":"",className:o},f.createElement(bc,{ref:t,...i}))))}),$m=f.forwardRef((e,t)=>mt(r=>r.filtered.count===0)?f.createElement(ue.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Wm=f.forwardRef((e,t)=>{let{progress:r,children:n,label:s="Loading...",...o}=e;return f.createElement(ue.div,{ref:t,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},Cn(e,a=>f.createElement("div",{"aria-hidden":!0},a)))}),kr=Object.assign(bc,{List:Fm,Item:Mm,Input:Dm,Group:Im,Separator:Lm,Dialog:Vm,Empty:$m,Loading:Wm});function Bm(e,t){let r=e.nextElementSibling;for(;r;){if(r.matches(t))return r;r=r.nextElementSibling}}function zm(e,t){let r=e.previousElementSibling;for(;r;){if(r.matches(t))return r;r=r.previousElementSibling}}function _c(e){let t=f.useRef(e);return Rt(()=>{t.current=e}),t}var Rt=typeof window>"u"?f.useEffect:f.useLayoutEffect;function Vt(e){let t=f.useRef();return t.current===void 0&&(t.current=e()),t}function mt(e){let t=Xs(),r=()=>e(t.snapshot());return f.useSyncExternalStore(t.subscribe,r,r)}function kc(e,t,r,n=[]){let s=f.useRef(),o=_r();return Rt(()=>{var a;let i=(()=>{var c;for(let d of r){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():s.current}})(),l=n.map(c=>c.trim());o.value(e,i,l),(a=t.current)==null||a.setAttribute(Ft,i),s.current=i}),s}var Um=()=>{let[e,t]=f.useState(),r=Vt(()=>new Map);return Rt(()=>{r.current.forEach(n=>n()),r.current=new Map},[e]),(n,s)=>{r.current.set(n,s),t({})}};function Zm(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Cn({asChild:e,children:t},r){return e&&f.isValidElement(t)?f.cloneElement(Zm(t),{ref:t.ref},r(t.props.children)):r(t)}var Gm={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function qo({className:e,...t}){return u.jsx(kr,{"data-slot":"command",className:q("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Ko({className:e,...t}){return u.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[u.jsx(al,{className:"size-4 shrink-0 opacity-50"}),u.jsx(kr.Input,{"data-slot":"command-input",className:q("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Yo({...e}){return u.jsx(kr.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Xo({className:e,...t}){return u.jsx(kr.Group,{"data-slot":"command-group",className:q("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Jo({className:e,...t}){return u.jsx(kr.Item,{"data-slot":"command-item",className:q("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const Hm=_m({date:Bn().min(1,"Date is required"),muscleGroup:Bn().min(1,"Muscle group is required"),exercise:Bn().min(1,"Exercise is required"),reps:Pr.number().min(0,"Reps must be non-negative").default(0),weight:Pr.number().min(0,"Weight must be non-negative").default(0),rating:Pr.number().min(1,"Rating must be between 1-5").max(5,"Rating must be between 1-5").default(3),restTime:Pr.number().min(0,"Rest time must be non-negative").optional().nullable()}),qm=({isOpen:e,onClose:t,initialData:r})=>{const n=et(w=>w.addWorkoutLog),s=et(w=>w.editWorkoutLog),o=et(w=>w.workoutLogs),[a,i]=X.useState(!1),[l,c]=X.useState(!1),[d,h]=X.useState((r==null?void 0:r.muscleGroup)||""),[m,g]=X.useState((r==null?void 0:r.exercise)||""),y=wh({resolver:Jh(Hm),defaultValues:{date:(r==null?void 0:r.date)||new Date().toISOString().split("T")[0],muscleGroup:(r==null?void 0:r.muscleGroup)||"",exercise:(r==null?void 0:r.exercise)||"",reps:(r==null?void 0:r.reps)??0,weight:(r==null?void 0:r.weight)??0,rating:(r==null?void 0:r.rating)??3,restTime:(r==null?void 0:r.restTime)??null}});f.useEffect(()=>{const w=y.watch((E,{name:N,type:z})=>{(N==="muscleGroup"||z===void 0&&E.muscleGroup!==void 0)&&h(E.muscleGroup||""),(N==="exercise"||z===void 0&&E.exercise!==void 0)&&g(E.exercise||"")});return()=>w.unsubscribe()},[y]),f.useEffect(()=>{if(e){const w={date:(r==null?void 0:r.date)||new Date().toISOString().split("T")[0],muscleGroup:(r==null?void 0:r.muscleGroup)||"",exercise:(r==null?void 0:r.exercise)||"",reps:(r==null?void 0:r.reps)??0,weight:(r==null?void 0:r.weight)??0,rating:(r==null?void 0:r.rating)??3,restTime:(r==null?void 0:r.restTime)??null};y.reset(w),h(w.muscleGroup),g(w.exercise)}},[e,r,y]);const v=X.useMemo(()=>{const w=new Set(o.map(E=>E.muscleGroup));return Array.from(w)},[o]),x=X.useMemo(()=>{const w=new Set(o.map(E=>E.exercise));return Array.from(w)},[o]),k=X.useMemo(()=>d?v.filter(w=>w.toLowerCase().includes(d.toLowerCase())):v,[d,v]),b=y.getValues("muscleGroup"),A=X.useMemo(()=>{let w=x;if(b){const E=new Set(o.filter(N=>N.muscleGroup===b).map(N=>N.exercise));E.size>0&&(w=Array.from(E))}return m?w.filter(E=>E.toLowerCase().includes(m.toLowerCase())):w},[m,x,o,b]),S=async w=>{const E={date:w.date,muscleGroup:w.muscleGroup,exercise:w.exercise,reps:Number(w.reps),weight:Number(w.weight),rating:Number(w.rating),restTime:w.restTime?Number(w.restTime):null};try{if(r!=null&&r.id){const N=o.find(z=>z.id===r.id);N?await s({...E,id:r.id,rowIndex:N.rowIndex,isSynced:N.isSynced}):console.error("Log to edit not found")}else await n(E);y.reset({date:new Date().toISOString().split("T")[0],muscleGroup:"",exercise:"",reps:0,weight:0,rating:3,restTime:null}),h(""),g(""),t()}catch(N){console.error("Failed to submit workout log:",N)}};return u.jsx(qf,{open:e,onOpenChange:t,children:u.jsxs(Xf,{className:"sm:max-w-[425px] md:max-w-[600px] max-h-[90vh] overflow-y-auto",children:[u.jsx(Jf,{children:u.jsx(eh,{className:"text-xl font-bold",children:"Add New Workout"})}),u.jsx(Sh,{...y,children:u.jsxs("form",{onSubmit:y.handleSubmit(S),className:"space-y-6 pt-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsx(vt,{control:y.control,name:"date",render:({field:w})=>u.jsxs(yt,{children:[u.jsx(xt,{children:"Date"}),u.jsx(wt,{children:u.jsx(or,{type:"date",...w})}),u.jsx(bt,{})]})}),u.jsx(vt,{control:y.control,name:"muscleGroup",render:({field:w})=>u.jsxs(yt,{className:"flex flex-col",children:[u.jsx(xt,{children:"Muscle Group"}),u.jsxs(es,{open:a,onOpenChange:i,children:[u.jsx(ts,{asChild:!0,children:u.jsx(wt,{children:u.jsxs(Ce,{variant:"outline",role:"combobox","aria-expanded":a,className:q("w-full justify-between",!w.value&&!d&&"text-muted-foreground"),children:[d||w.value?d||w.value:"Select or type muscle group",u.jsx(ro,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),u.jsx(rs,{className:"w-full p-0",children:u.jsxs(qo,{shouldFilter:!1,children:[u.jsx(Ko,{placeholder:"Search muscle group...",value:d,onValueChange:E=>{h(E),E||y.setValue("muscleGroup","")}}),u.jsx(Yo,{children:"No muscle group found."}),u.jsx(Xo,{className:"max-h-[200px] overflow-y-auto",children:k.map(E=>u.jsxs(Jo,{value:E,onSelect:N=>{const z=v.find(K=>K.toLowerCase()===N)||N;y.setValue("muscleGroup",z),h(z),y.trigger("muscleGroup"),i(!1),y.setValue("exercise",""),g("")},children:[u.jsx(to,{className:q("mr-2 h-4 w-4",E===w.value?"opacity-100":"opacity-0")}),E]},E))})]})})]}),u.jsx(bt,{})]})}),u.jsx(vt,{control:y.control,name:"exercise",render:({field:w})=>u.jsxs(yt,{className:"flex flex-col",children:[u.jsx(xt,{children:"Exercise"}),u.jsxs(es,{open:l,onOpenChange:c,children:[u.jsx(ts,{asChild:!0,children:u.jsx(wt,{children:u.jsxs(Ce,{variant:"outline",role:"combobox","aria-expanded":l,className:q("w-full justify-between",!w.value&&!m&&"text-muted-foreground"),children:[m||w.value?m||w.value:"Select or type exercise",u.jsx(ro,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})})}),u.jsx(rs,{className:"w-full p-0",children:u.jsxs(qo,{shouldFilter:!1,children:[u.jsx(Ko,{placeholder:"Search exercise...",value:m,onValueChange:E=>{g(E),E||y.setValue("exercise","")}}),u.jsx(Yo,{children:"No exercise found."}),u.jsx(Xo,{className:"max-h-[200px] overflow-y-auto",children:A.map(E=>u.jsxs(Jo,{value:E,onSelect:N=>{const z=A.find(K=>K.toLowerCase()===N)||N;if(y.setValue("exercise",z),g(z),y.trigger("exercise"),c(!1),!y.getValues("muscleGroup")&&z){const K=o.find(J=>J.exercise===z);K&&(y.setValue("muscleGroup",K.muscleGroup),h(K.muscleGroup))}},children:[u.jsx(to,{className:q("mr-2 h-4 w-4",E===w.value?"opacity-100":"opacity-0")}),E]},E))})]})})]}),u.jsx(bt,{})]})}),u.jsx(vt,{control:y.control,name:"reps",render:({field:w})=>u.jsxs(yt,{children:[u.jsx(xt,{children:"Reps"}),u.jsx(wt,{children:u.jsx(or,{type:"number",...w,onChange:E=>w.onChange(Number(E.target.value)),min:1,max:1e3})}),u.jsx(bt,{})]})}),u.jsx(vt,{control:y.control,name:"weight",render:({field:w})=>u.jsxs(yt,{children:[u.jsx(xt,{children:"Weight (kg)"}),u.jsx(wt,{children:u.jsx(or,{type:"number",...w,onChange:E=>w.onChange(Number(E.target.value)),min:0,max:1e3})}),u.jsx(bt,{})]})}),u.jsx(vt,{control:y.control,name:"restTime",render:({field:w})=>u.jsxs(yt,{children:[u.jsx(xt,{children:"Rest Time (seconds)"}),u.jsx(wt,{children:u.jsx(or,{type:"number",...w,onChange:E=>w.onChange(Number(E.target.value)),min:0,max:600})}),u.jsx(bt,{})]})}),u.jsx(vt,{control:y.control,name:"rating",render:({field:w})=>u.jsxs(yt,{className:"col-span-full",children:[u.jsx(xt,{children:"How was your workout? (1-10)"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx(wt,{children:u.jsx(qh,{min:1,max:10,step:1,defaultValue:[w.value],onValueChange:E=>w.onChange(E[0]),className:"w-full"})}),u.jsx("span",{className:"text-lg font-bold",children:w.value})]}),u.jsx(bt,{})]})})]}),u.jsxs(Qf,{children:[u.jsx(Ce,{type:"button",variant:"outline",onClick:t,children:"Cancel"}),u.jsx(Ce,{type:"submit",children:"Add Workout"})]})]})})]})})},Km=()=>{const{workoutLogs:e}=et(),{currentView:t}=cn(),[r,n]=f.useState(!1),[s,o]=f.useState(void 0),a=["dashboard","workouts","analytics"].includes(t),i=f.useMemo(()=>{if(!e||e.length===0)return[];const c=[...e].sort((h,m)=>new Date(m.date).getTime()-new Date(h.date).getTime()),d=new Map;return c.forEach(h=>{const m=`${h.exercise}-${h.muscleGroup}`;d.has(m)||d.set(m,h)}),Array.from(d.values()).slice(0,4)},[e]),l=c=>{o({muscleGroup:c.muscleGroup,exercise:c.exercise,weight:c.weight,reps:c.reps,rating:3,restTime:c.restTime}),n(!0)};return a?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed bottom-40 right-4 md:bottom-28 md:right-8 z-40",children:u.jsxs(es,{children:[u.jsx(ts,{children:u.jsx(Ce,{className:"h-14 w-14 rounded-full shadow-lg bg-primary hover:bg-primary/90 transition-transform hover:scale-110",variant:"default",title:"Quick Add Recent Exercises",children:u.jsx(no,{className:"h-6 w-6"})})}),u.jsxs(rs,{align:"end",className:"w-80 p-0",children:[u.jsxs("div",{className:"p-4 bg-secondary/10 border-b",children:[u.jsx("h4",{className:"font-medium text-base",children:"Quick Add Exercise"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Quickly add a recent exercise to your log"})]}),i.length>0?u.jsx("div",{className:"max-h-[300px] overflow-auto",children:i.map(c=>u.jsx(Ic,{className:"border-0 rounded-none hover:bg-accent/5 transition-colors",children:u.jsxs(Lc,{className:"p-4 cursor-pointer flex items-center",onClick:()=>l(c),children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("h4",{className:"font-medium text-sm",children:c.exercise}),u.jsx("p",{className:"text-xs text-muted-foreground",children:c.muscleGroup}),u.jsxs("div",{className:"flex items-center gap-4 mt-1 text-xs text-muted-foreground",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(no,{className:"h-3 w-3"}),c.reps," reps"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(fl,{className:"h-3 w-3"}),c.weight," kg"]})]})]}),u.jsx(Ce,{size:"sm",variant:"ghost",children:"Add"})]})},`${c.exercise}-${c.id}`))}):u.jsxs("div",{className:"p-4 text-center",children:[u.jsx("p",{className:"text-muted-foreground",children:"No recent exercises found"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Add workouts to see them here for quick access"})]}),u.jsx("div",{className:"p-2 border-t bg-secondary/5",children:u.jsxs(Ce,{variant:"outline",className:"w-full",onClick:()=>{o(void 0),n(!0)},children:[u.jsx(ia,{className:"h-4 w-4 mr-2"}),"New Exercise"]})})]})]})}),u.jsx(qm,{isOpen:r,onClose:()=>{n(!1),o(void 0)},initialData:s?{date:new Date().toISOString().split("T")[0],muscleGroup:s.muscleGroup||"",exercise:s.exercise||"",reps:s.reps||0,weight:s.weight||0,rating:s.rating||3,restTime:s.restTime||null}:void 0})]}):null},ip=({children:e})=>{const{logout:t,isSidebarCollapsed:r,toggleSidebar:n,setIsSidebarCollapsed:s,currentView:o}=cn(),{fetchExercises:a}=Qu(),[i,l]=f.useState(window.innerWidth<768),[c,d]=f.useState(0),[h,m]=f.useState(!1),[g,y]=f.useState(!1);f.useEffect(()=>{const b=()=>{const S=window.innerWidth<768;l(S),S&&s(!0)},A=()=>{if(!i)return;const S=window.scrollY||document.documentElement.scrollTop;S>c&&S>60?m(!0):(S<c||S<10)&&m(!1),d(S)};return window.addEventListener("resize",b),window.addEventListener("scroll",A),b(),()=>{window.removeEventListener("resize",b),window.removeEventListener("scroll",A)}},[s,i,c]);const v=f.useCallback(async()=>{y(!0);try{await a(!0),console.log("Data cache refreshed")}catch(b){console.error("Error refreshing data cache:",b)}y(!1)},[a]),x=()=>{const b=new CustomEvent("open-add-workout-modal");window.dispatchEvent(b)},k=["dashboard","workouts"].includes(o);return u.jsxs("div",{className:"flex flex-col md:flex-row min-h-screen w-full bg-background text-foreground",children:[k&&u.jsx(jf,{icon:u.jsx(ia,{className:"h-6 w-6"}),onClick:x,tooltip:"Add Workout","aria-label":"Add new workout",position:i?"bottom-center":"bottom-right",className:"bg-primary text-primary-foreground hover:bg-primary/90 z-50"}),u.jsx(Km,{}),u.jsx(Pf,{}),u.jsx("div",{className:q("fixed top-0 left-0 h-full z-40 transition-all duration-300 ease-in-out hidden md:block",r?"w-[var(--sidebar-collapsed-width,80px)]":"w-[var(--sidebar-width,280px)]"),children:u.jsx(ao,{isCollapsed:r,toggleSidebar:n})}),u.jsxs("div",{className:q("flex flex-1 flex-col transition-all duration-300 ease-in-out","md:ml-[var(--sidebar-width,280px)]",r&&"md:ml-[var(--sidebar-collapsed-width,80px)]"),children:[u.jsxs("header",{className:q("sticky top-0 z-30 flex h-[var(--header-height,64px)] items-center gap-4 border-b bg-background/70 backdrop-blur-md supports-[backdrop-filter]:bg-background/60 px-4 shadow-sm sm:px-6 transition-transform duration-300",h&&i?"-translate-y-full":"translate-y-0"),children:[i&&u.jsxs(Hu,{children:[u.jsx(qu,{asChild:!0,children:u.jsxs(Ce,{variant:"ghost",size:"icon",className:"shrink-0 rounded-full hover:bg-primary/10 hover:text-primary transition-button duration-base",children:[u.jsx(tl,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),u.jsx(Xu,{side:"left",className:"p-0 border-r-primary/10 w-[var(--sidebar-width,280px)] md:hidden",children:u.jsx(ao,{isCollapsed:!1,toggleSidebar:n})})]}),!i&&u.jsx("div",{className:q("overflow-hidden transition-all duration-base ease-in-out flex items-center",r?"max-w-0 opacity-0":"max-w-[220px] opacity-100"),children:u.jsx("h1",{className:"text-xl font-semibold tracking-tight whitespace-nowrap bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Workout Log"})}),u.jsxs("div",{className:"ml-auto flex items-center gap-2 sm:gap-3",children:[u.jsx(Ju,{variant:"ghost"}),u.jsxs(Ce,{variant:"ghost",size:"icon",onClick:v,disabled:g,className:"rounded-full relative hover:bg-primary/10 hover:text-primary transition-button duration-base",title:"Reload App Data",children:[u.jsx(sl,{className:q("h-5 w-5",g&&"animate-spin")}),u.jsx("span",{className:"sr-only",children:"Reload App Data"})]}),u.jsxs(Ce,{variant:"ghost",size:"icon",className:"rounded-full relative hover:bg-primary/10 hover:text-primary transition-button duration-base",children:[u.jsx(Fc,{className:"h-5 w-5"}),u.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-accent animate-pulse-soft"}),u.jsx("span",{className:"sr-only",children:"Notifications"})]}),u.jsx("div",{className:"hidden sm:flex border-l h-6 mx-1.5 border-border/50"}),u.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-gradient-to-br from-primary to-accent text-white shadow-sm",children:u.jsx("span",{className:"text-xs font-medium",children:"JD"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold leading-none",children:"John Doe"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Premium"})]})]}),u.jsxs(Ce,{variant:"ghost",size:"icon",onClick:t,className:"rounded-full hover:bg-destructive/10 hover:text-destructive transition-button duration-base",children:[u.jsx(aa,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Logout"})]})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto overflow-x-hidden p-2 sm:p-4 md:p-6 lg:p-8 pb-[calc(var(--bottom-nav-height,64px)+1rem)] md:pb-8",children:u.jsx("div",{className:"mx-auto max-w-full w-full overflow-x-hidden",children:e})})]})]})};export{qm as A,_s as B,Zc as C,sa as D,ka as E,ma as F,ks as G,bs as H,or as I,dn as J,li as K,kh as L,Ki as M,ui as N,to as O,ue as P,ci as R,al as S,of as V,la as X,Hc as a,ua as b,no as c,na as d,Qu as e,ip as f,Yt as g,Nh as h,Ve as i,he as j,Ch as k,un as l,zt as m,Tt as n,ia as o,qf as p,Xf as q,Jf as r,eh as s,op as t,et as u,Qf as v,vn as w,ut as x,Ah as y,$s as z};
//# sourceMappingURL=DashboardLayout-BxNjQ3HL.js.map
